<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DB_platypuS`Blog</title>
  
  <subtitle>也许不正确但并非无意义</subtitle>
  <link href="https://db-hanty.github.io/atom.xml" rel="self"/>
  
  <link href="https://db-hanty.github.io/"/>
  <updated>2025-12-05T12:03:06.638Z</updated>
  <id>https://db-hanty.github.io/</id>
  
  <author>
    <name>DB_platypuS</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SpringCloud-OpenFeign篇</title>
    <link href="https://db-hanty.github.io/posts/fa917a34.html"/>
    <id>https://db-hanty.github.io/posts/fa917a34.html</id>
    <published>2025-12-05T20:00:13.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-OpenFeign-实战详解"><a href="#Spring-Cloud-OpenFeign-实战详解" class="headerlink" title="Spring Cloud OpenFeign 实战详解"></a>Spring Cloud OpenFeign 实战详解</h1><h2 id="一、OpenFeign-概述"><a href="#一、OpenFeign-概述" class="headerlink" title="一、OpenFeign 概述"></a>一、OpenFeign 概述</h2><p>OpenFeign 是 Spring Cloud 中用于 <strong>远程服务调用</strong> 的组件，它封装了 HTTP 请求，让你可以像调用本地方法一样调用远程接口，是 <code>RestTemplate</code> 的声明式升级版。</p><p>其主要特点包括：</p><ul><li><strong>注解驱动</strong>：使用类似 Controller 的注解方式定义远程调用。</li><li><strong>可读性强</strong>：方法即接口，调用即使用。</li><li><strong>高度集成</strong>：支持负载均衡、日志、重试、拦截器、Fallback 等高级特性。</li></ul><hr><h2 id="二、远程调用（基础用法）"><a href="#二、远程调用（基础用法）" class="headerlink" title="二、远程调用（基础用法）"></a>二、远程调用（基础用法）</h2><h3 id="1-引入依赖"><a href="#1-引入依赖" class="headerlink" title="1. 引入依赖"></a>1. 引入依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-定义远程服务客户端"><a href="#2-定义远程服务客户端" class="headerlink" title="2. 定义远程服务客户端"></a>2. 定义远程服务客户端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;service-product&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/product/&#123;id&#125;&quot;)</span></span><br><span class="line">    Product <span class="title function_">getProductById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li><code>@FeignClient</code> 指定远程服务名称。</li><li><code>@GetMapping</code>、<code>@PostMapping</code> 等注解变为“<strong>发送请求</strong>”的意思，而非接收。</li></ul><h3 id="3-启动类启用-Feign"><a href="#3-启动类启用-Feign" class="headerlink" title="3. 启动类启用 Feign"></a>3. 启动类启用 Feign</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderMainApplication</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="4-使用-Feign-调用服务"><a href="#4-使用-Feign-调用服务" class="headerlink" title="4. 使用 Feign 调用服务"></a>4. 使用 Feign 调用服务</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">ProductFeignClient productFeignClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Order <span class="title function_">createOrder</span><span class="params">(Long productId, Long userId)</span> &#123;</span><br><span class="line">    <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> productFeignClient.getProductById(productId);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="三、调用第三方-API（URL-模式）"><a href="#三、调用第三方-API（URL-模式）" class="headerlink" title="三、调用第三方 API（URL 模式）"></a>三、调用第三方 API（URL 模式）</h2><p>适用于非注册中心管理的服务。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;weather-client&quot;, url = &quot;天气API地址&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">WeatherFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/weather&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getWeather</span><span class="params">(<span class="meta">@RequestHeader(&quot;Authorization&quot;)</span> String auth,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestParam(&quot;token&quot;)</span> String token,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestParam(&quot;cityId&quot;)</span> String cityId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeatherTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    WeatherFeignClient weatherFeignClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        weatherFeignClient.getWeather(<span class="string">&quot;Bearer 123&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="string">&quot;101010100&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;调用天气服务成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="四、OpenFeign-进阶用法"><a href="#四、OpenFeign-进阶用法" class="headerlink" title="四、OpenFeign 进阶用法"></a>四、OpenFeign 进阶用法</h2><hr><h2 id="1-Feign-日志打印"><a href="#1-Feign-日志打印" class="headerlink" title="1. Feign 日志打印"></a>1. Feign 日志打印</h2><h3 id="配置日志级别"><a href="#配置日志级别" class="headerlink" title="配置日志级别"></a>配置日志级别</h3><p><code>application.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.hty.order.feign:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure><h3 id="配置日志-Bean"><a href="#配置日志-Bean" class="headerlink" title="配置日志 Bean"></a>配置日志 Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">Logger.Level <span class="title function_">feignLoggerLevel</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Logger.Level.FULL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="2-超时控制"><a href="#2-超时控制" class="headerlink" title="2. 超时控制"></a>2. 超时控制</h2><p>用于处理：</p><ul><li><strong>连接超时</strong>：服务宕机</li><li><strong>读取超时</strong>：服务响应慢</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">openfeign:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="attr">config:</span></span><br><span class="line">          <span class="attr">default:</span></span><br><span class="line">            <span class="attr">logger-level:</span> <span class="string">full</span></span><br><span class="line">            <span class="attr">connect-timeout:</span> <span class="number">1000</span></span><br><span class="line">            <span class="attr">read-timeout:</span> <span class="number">2000</span></span><br><span class="line">          <span class="attr">service-product:</span></span><br><span class="line">            <span class="attr">logger-level:</span> <span class="string">full</span></span><br><span class="line">            <span class="attr">connect-timeout:</span> <span class="number">3000</span></span><br><span class="line">            <span class="attr">read-timeout:</span> <span class="number">5000</span></span><br></pre></td></tr></table></figure><hr><h2 id="3-重试机制（Retryer）"><a href="#3-重试机制（Retryer）" class="headerlink" title="3. 重试机制（Retryer）"></a>3. 重试机制（Retryer）</h2><p>远程调用失败时自动重试。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">Retryer <span class="title function_">retryer</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Retryer</span>.Default();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="4-拦截器（RequestInterceptor）"><a href="#4-拦截器（RequestInterceptor）" class="headerlink" title="4. 拦截器（RequestInterceptor）"></a>4. 拦截器（RequestInterceptor）</h2><p>可用于添加统一请求头，例如 token。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FeignInterceptor</span> <span class="keyword">implements</span> <span class="title class_">RequestInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">apply</span><span class="params">(RequestTemplate template)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求拦截器启动&quot;</span>);</span><br><span class="line">        template.header(<span class="string">&quot;X-token&quot;</span>, UUID.randomUUID().toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="5-Fallback-兜底返回（熔断降级）"><a href="#5-Fallback-兜底返回（熔断降级）" class="headerlink" title="5. Fallback 兜底返回（熔断降级）"></a>5. Fallback 兜底返回（熔断降级）</h2><p>当远程服务超时或不可用时，返回默认数据。</p><h3 id="1-定义-Fallback-类"><a href="#1-定义-Fallback-类" class="headerlink" title="1. 定义 Fallback 类"></a>1. 定义 Fallback 类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductFeignClientFallBack</span> <span class="keyword">implements</span> <span class="title class_">ProductFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">getProductById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;兜底回调...&quot;</span>);</span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">        product.setId(id);</span><br><span class="line">        product.setPrice(BigDecimal.ZERO);</span><br><span class="line">        product.setProductName(<span class="string">&quot;未知商品&quot;</span>);</span><br><span class="line">        product.setNum(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-配置-Sentinel-支持"><a href="#2-配置-Sentinel-支持" class="headerlink" title="2. 配置 Sentinel 支持"></a>2. 配置 Sentinel 支持</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">sentinel:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="3-Feign-启用-fallback"><a href="#3-Feign-启用-fallback" class="headerlink" title="3. Feign 启用 fallback"></a>3. Feign 启用 fallback</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;service-product&quot;, fallback = ProductFeignClientFallBack.class)</span></span><br></pre></td></tr></table></figure><hr><h2 id="五、面试题总结"><a href="#五、面试题总结" class="headerlink" title="五、面试题总结"></a>五、面试题总结</h2><h3 id="1-Feign-如何调用自己的-API？"><a href="#1-Feign-如何调用自己的-API？" class="headerlink" title="1. Feign 如何调用自己的 API？"></a>1. Feign 如何调用自己的 API？</h3><p>把 Controller 方法签名复制过来即可。</p><h3 id="2-如何调用第三方-API？"><a href="#2-如何调用第三方-API？" class="headerlink" title="2. 如何调用第三方 API？"></a>2. 如何调用第三方 API？</h3><p>根据接口文档，写 URL 模式 + 参数注解。</p><h3 id="3-Feign-超时是如何处理的？"><a href="#3-Feign-超时是如何处理的？" class="headerlink" title="3. Feign 超时是如何处理的？"></a>3. Feign 超时是如何处理的？</h3><p>通过 connect-timeout 和 read-timeout。</p><h3 id="4-Fallback-何时触发？"><a href="#4-Fallback-何时触发？" class="headerlink" title="4. Fallback 何时触发？"></a>4. Fallback 何时触发？</h3><p>超时、异常、服务不可用时触发。</p><hr><h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>OpenFeign 的核心使用步骤：</p><ol><li><strong>定义 Feign 客户端接口</strong></li><li><strong>在接口中复制 Controller 的方法签名</strong></li><li><strong>使用注解描述远程请求</strong></li><li><strong>开启 <code>@EnableFeignClients</code></strong></li><li><strong>配置日志、超时、重试、拦截器</strong></li><li><strong>使用 Fallback 提供兜底能力</strong></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-OpenFeign-实战详解&quot;&gt;&lt;a href=&quot;#Spring-Cloud-OpenFeign-实战详解&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud OpenFeign 实战详解&quot;&gt;&lt;/a&gt;Sprin</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="微服务" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloud-Nacos篇</title>
    <link href="https://db-hanty.github.io/posts/cfbf6922.html"/>
    <id>https://db-hanty.github.io/posts/cfbf6922.html</id>
    <published>2025-12-02T20:30:06.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-Nacos-快速入门"><a href="#Spring-Cloud-Nacos-快速入门" class="headerlink" title="Spring Cloud Nacos 快速入门"></a>Spring Cloud Nacos 快速入门</h1><h2 id="一、Nacos-简介"><a href="#一、Nacos-简介" class="headerlink" title="一、Nacos 简介"></a>一、Nacos 简介</h2><p>Nacos 是阿里巴巴开源的 <strong>注册中心 + 配置中心</strong> 解决方案。</p><p>核心功能包括：</p><ul><li><strong>服务注册与发现</strong></li><li><strong>集中式配置管理（动态刷新配置）</strong></li></ul><hr><h2 id="二、注册中心"><a href="#二、注册中心" class="headerlink" title="二、注册中心"></a>二、注册中心</h2><h3 id="1-服务注册步骤"><a href="#1-服务注册步骤" class="headerlink" title="1. 服务注册步骤"></a>1. 服务注册步骤</h3><ol><li>启动 Nacos</li><li>引入依赖</li><li>配置 Nacos 地址</li><li>服务启动 → 自动注册到 Nacos</li></ol><h4 id="示例：service-order"><a href="#示例：service-order" class="headerlink" title="示例：service-order"></a>示例：service-order</h4><p><strong>启动类：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderMainApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(OrderMainApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>依赖：</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.application.name=service-order</span></span><br><span class="line"><span class="string">server.port=8000</span></span><br><span class="line"></span><br><span class="line"><span class="string">spring.cloud.nacos.server-addr=127.0.0.1:8848</span></span><br><span class="line"><span class="string">spring.cloud.nacos.username=nacos</span></span><br><span class="line"><span class="string">spring.cloud.nacos.password=123456</span></span><br></pre></td></tr></table></figure><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/naocs1.png" alt=""></p><p><strong>结果：</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos2.png" alt=""></p><hr><h3 id="2-服务发现"><a href="#2-服务发现" class="headerlink" title="2. 服务发现"></a>2. 服务发现</h3><h4 id="方法一：通用-DiscoveryClient"><a href="#方法一：通用-DiscoveryClient" class="headerlink" title="方法一：通用 DiscoveryClient"></a>方法一：通用 DiscoveryClient</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">DiscoveryClient discoveryClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">discoveryClientTest</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String service : discoveryClient.getServices()) &#123;</span><br><span class="line">        List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances(service);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="方法二：NacosDiscoveryClient"><a href="#方法二：NacosDiscoveryClient" class="headerlink" title="方法二：NacosDiscoveryClient"></a>方法二：NacosDiscoveryClient</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">NacosServiceDiscovery nacosServiceDiscovery;</span><br></pre></td></tr></table></figure><p><strong>结果：</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/naocs.png" alt=""></p><hr><h2 id="三、远程调用（RestTemplate）"><a href="#三、远程调用（RestTemplate）" class="headerlink" title="三、远程调用（RestTemplate）"></a>三、远程调用（RestTemplate）</h2><p><strong>基本流程：</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos3.png" alt=""></p><p>订单服务通过 DiscoveryClient 调用商品服务：<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos4.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Product <span class="title function_">getProductFromRemote</span><span class="params">(Long productId)</span>&#123;</span><br><span class="line">    List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances(<span class="string">&quot;service-product&quot;</span>);</span><br><span class="line">    <span class="type">ServiceInstance</span> <span class="variable">instance</span> <span class="operator">=</span> instances.get(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;http://&quot;</span> + instance.getHost() + <span class="string">&quot;:&quot;</span> + instance.getPort() + <span class="string">&quot;/product/&quot;</span> + productId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> restTemplate.getForObject(url, Product.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="四、负载均衡"><a href="#四、负载均衡" class="headerlink" title="四、负载均衡"></a>四、负载均衡</h2><h3 id="方式一：LoadBalancerClient-API-调用"><a href="#方式一：LoadBalancerClient-API-调用" class="headerlink" title="方式一：LoadBalancerClient API 调用"></a>方式一：LoadBalancerClient API 调用</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-loadbalancer<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">LoadBalancerClient loadBalancerClient;</span><br></pre></td></tr></table></figure><hr><h3 id="方式二：-LoadBalanced（推荐）"><a href="#方式二：-LoadBalanced（推荐）" class="headerlink" title="方式二：@LoadBalanced（推荐）"></a>方式二：@LoadBalanced（推荐）</h3><p><strong>配置：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@LoadBalanced</span></span><br><span class="line"><span class="keyword">public</span> RestTemplate <span class="title function_">restTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestTemplate</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>调用：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">restTemplate.getForObject(<span class="string">&quot;http://service-product/product/1&quot;</span>, Product.class);</span><br></pre></td></tr></table></figure><hr><h2 id="五、配置中心"><a href="#五、配置中心" class="headerlink" title="五、配置中心"></a>五、配置中心</h2><h3 id="1-基本使用步骤"><a href="#1-基本使用步骤" class="headerlink" title="1. 基本使用步骤"></a>1. 基本使用步骤</h3><ol><li>引入 nacos-config</li><li>application.properties 中导入配置</li><li>在 Nacos 中创建 Data ID</li><li>使用 @Value 获取配置</li></ol><p><strong>依赖：</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>导入配置：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.config.import=nacos:service-order.properties</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-动态刷新配置"><a href="#2-动态刷新配置" class="headerlink" title="2. 动态刷新配置"></a>2. 动态刷新配置</h3><p>方式一：<code>@RefreshScope</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RefreshScope</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;order.timeout&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String timeout;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方式二：<code>@ConfigurationProperties</code>（推荐）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderProperties</span> &#123;</span><br><span class="line">    String timeout;</span><br><span class="line">    String autoConfirm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="六、配置监听"><a href="#六、配置监听" class="headerlink" title="六、配置监听"></a>六、配置监听</h2><p>借助 NacosConfigManager 可监听配置变化：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">configService.addListener(</span><br><span class="line">    <span class="string">&quot;service-order.properties&quot;</span>, <span class="string">&quot;DEFAULT_GROUP&quot;</span>,</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Listener</span>() &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveConfigInfo</span><span class="params">(String s)</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;配置更新：&quot;</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="七、数据隔离"><a href="#七、数据隔离" class="headerlink" title="七、数据隔离"></a>七、数据隔离</h2><p>依次通过下面三层结构隔离：</p><div class="table-container"><table><thead><tr><th>层级</th><th>含义</th></tr></thead><tbody><tr><td>namespace</td><td>区分环境（dev、test、prod）</td></tr><tr><td>group</td><td>区分项目组</td></tr><tr><td>data-id</td><td>区分配置文件</td></tr></tbody></table></div><p>动态指定 namespace：<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos5.png" alt=""></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.cloud.nacos.config.namespace=$&#123;spring.profiles.active&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="八、总结"><a href="#八、总结" class="headerlink" title="八、总结"></a>八、总结</h2><h3 id="注册中心"><a href="#注册中心" class="headerlink" title="注册中心"></a>注册中心</h3><ul><li>nacos-discovery</li><li>@EnableDiscoveryClient</li><li>LoadBalancerClient / @LoadBalanced 支持负载均衡</li></ul><h3 id="配置中心"><a href="#配置中心" class="headerlink" title="配置中心"></a>配置中心</h3><ul><li>nacos-config</li><li>spring.config.import 导入配置</li><li>@Value + @RefreshScope 实现动态刷新</li><li>@ConfigurationProperties 实现自动刷新</li><li>NacosConfigManager 实现监听</li></ul><h3 id="数据隔离"><a href="#数据隔离" class="headerlink" title="数据隔离"></a>数据隔离</h3><ul><li>namespace → 环境隔离  </li><li>group → 微服务组隔离  </li><li>data-id → 配置内容隔离  </li></ul><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-Nacos-快速入门&quot;&gt;&lt;a href=&quot;#Spring-Cloud-Nacos-快速入门&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud Nacos 快速入门&quot;&gt;&lt;/a&gt;Spring Cloud Naco</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="微服务" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloud基础篇</title>
    <link href="https://db-hanty.github.io/posts/e8045072.html"/>
    <id>https://db-hanty.github.io/posts/e8045072.html</id>
    <published>2025-12-01T20:16:39.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-基础篇：分布式架构快速入门"><a href="#Spring-Cloud-基础篇：分布式架构快速入门" class="headerlink" title="Spring Cloud 基础篇：分布式架构快速入门"></a>Spring Cloud 基础篇：分布式架构快速入门</h1><h2 id="一、分布式基础概念"><a href="#一、分布式基础概念" class="headerlink" title="一、分布式基础概念"></a>一、分布式基础概念</h2><h3 id="1-单体架构（Monolithic-Architecture）"><a href="#1-单体架构（Monolithic-Architecture）" class="headerlink" title="1. 单体架构（Monolithic Architecture）"></a>1. 单体架构（Monolithic Architecture）</h3><p>单体应用将所有功能模块（用户、订单、库存、支付等）全部打包在同一个项目中。</p><p><strong>优点：</strong></p><ul><li>开发部署简单</li><li>结构清晰，适合小型项目</li></ul><p><strong>缺点：</strong></p><ul><li>无法应对高并发</li><li>任意模块修改都需要整体部署</li><li>项目庞大后难以维护</li></ul><hr><h3 id="2-集群架构（Cluster-Architecture）"><a href="#2-集群架构（Cluster-Architecture）" class="headerlink" title="2. 集群架构（Cluster Architecture）"></a>2. 集群架构（Cluster Architecture）</h3><p>为解决单体架构大并发问题，通过复制多份应用实例组成集群，由负载均衡/网关分发流量。</p><p><strong>优点：</strong></p><ul><li>扩容简单，提升吞吐能力</li></ul><p><strong>问题：</strong></p><ul><li>模块化升级困难</li><li>不适合多语言团队</li><li>依旧是单体结构</li></ul><hr><h3 id="3-分布式架构（Distributed-Architecture）"><a href="#3-分布式架构（Distributed-Architecture）" class="headerlink" title="3. 分布式架构（Distributed Architecture）"></a>3. 分布式架构（Distributed Architecture）</h3><p>将大型应用拆分为多个可独立部署的小应用（服务）。</p><p><strong>核心特点：</strong></p><ul><li>独立部署</li><li>独立扩容</li><li>多语言技术栈</li><li>服务间通过 RPC/REST 通信</li></ul><hr><h2 id="二、微服务项目结构示例"><a href="#二、微服务项目结构示例" class="headerlink" title="二、微服务项目结构示例"></a>二、微服务项目结构示例</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/image.png" alt=""></p><hr><h2 id="三、父项目-POM-配置示例"><a href="#三、父项目-POM-配置示例" class="headerlink" title="三、父项目 POM 配置示例"></a>三、父项目 POM 配置示例</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.hty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>services<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>common<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>2023.0.3<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud-alibaba.version</span>&gt;</span>2023.0.3.2<span class="tag">&lt;/<span class="name">spring-cloud-alibaba.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-alibaba-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud-alibaba.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>本篇作为 Spring Cloud 六篇博客的开篇，讲解了：</p><ul><li>单体、集群与分布式架构的差异</li><li>微服务的拆分理念</li><li>多模块项目结构</li><li>Spring Cloud 父项目依赖管理结构</li></ul><p>作为基础篇，后续可以继续六大系列：</p><ol><li>基础篇（本篇）  </li><li>Nacos 注册中心  </li><li>Nacos/Spring Cloud Config 配置中心  </li><li>Spring Cloud Gateway 网关  </li><li>OpenFeign 服务调用  </li><li>Sentinel/Resilience4j 服务保护  </li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-基础篇：分布式架构快速入门&quot;&gt;&lt;a href=&quot;#Spring-Cloud-基础篇：分布式架构快速入门&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud 基础篇：分布式架构快速入门&quot;&gt;&lt;/a&gt;Spring C</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="微服务" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>《原则》读书报告</title>
    <link href="https://db-hanty.github.io/posts/cdfb74ad.html"/>
    <id>https://db-hanty.github.io/posts/cdfb74ad.html</id>
    <published>2025-11-30T20:16:59.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作"><a href="#《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作" class="headerlink" title="《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作"></a>《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作</h1><p>瑞·达利欧（Ray<br>Dalio）的《原则》不仅是一本成功学书籍，更是一套可复制、可实践的人生与工作方法论。它强调———<strong>优秀的人生源于优秀的决策，而优秀的决策源于极度的求真与极度的开放思维。</strong></p><p>本文结合原书思想与您的读书笔记，提炼为一篇结构完整、易读且便于理解的博客文章。</p><hr><h1 id="一、生活原则：用原则过人生"><a href="#一、生活原则：用原则过人生" class="headerlink" title="一、生活原则：用原则过人生"></a>一、生活原则：用原则过人生</h1><p>要拥有最好的生活，你需要做到两件事：</p><ol><li><strong>知道最好的决策是什么</strong></li><li><strong>有勇气做出最好的决策</strong></li></ol><p>也就是说，光有”知道”是不够的，更重要的是”敢做”。</p><h2 id="1-拥抱现实，并妥善应对现实"><a href="#1-拥抱现实，并妥善应对现实" class="headerlink" title="1. 拥抱现实，并妥善应对现实"></a>1. 拥抱现实，并妥善应对现实</h2><p>达利欧认为，人生本质是一场与现实的相处过程。”痛苦 + 反思 =<br>成长”是书中最核心的公式之一。</p><p>我们常常因为逃避现实、不愿承认事实而陷入困境。相反，接受现实、面对问题、寻找根源，才是真正的强者行为。</p><h2 id="2-实现任何愿望的”五步流程”"><a href="#2-实现任何愿望的”五步流程”" class="headerlink" title="2. 实现任何愿望的”五步流程”"></a>2. 实现任何愿望的”五步流程”</h2><p>这是全书最著名也是最强大的方法论。几乎所有目标实现都可以套用此流程：</p><ol><li><strong>设定明确的目标</strong></li><li><strong>找到目标与现实之间的问题，并且不容忍这些问题</strong></li><li><strong>诊断问题的根本原因</strong></li><li><strong>规划可以解决问题的策略</strong></li><li><strong>执行方案中的所有任务</strong></li></ol><p>这五步是循环往复、持续迭代的。执行失败了，再从前面重新来过，如此反复，不断成长。</p><p>达利欧认为：<strong>拥有方法的人，比仅有技能的人走得更远。</strong></p><h2 id="3-头脑极度开放：对抗思维盲区最重要的武器"><a href="#3-头脑极度开放：对抗思维盲区最重要的武器" class="headerlink" title="3. 头脑极度开放：对抗思维盲区最重要的武器"></a>3. 头脑极度开放：对抗思维盲区最重要的武器</h2><p>每个人都有思维盲区，我们常常坚持错误观点只是因为”自己相信的就是对的”。</p><p>解决办法是：\<br>### <strong>头脑极度开放（Radical Open-mindedness）</strong></p><p>包括：</p><ul><li>愿意真正倾听他人的观点\</li><li>主动寻找自己可能错的地方\</li><li>尊重事实胜于尊重自我情绪\</li><li>不把观点与自我价值绑定</li></ul><p>头脑极度开放并不是软弱，而是为了获得更接近真相的视角。</p><h2 id="4-理解人与人的差异"><a href="#4-理解人与人的差异" class="headerlink" title="4. 理解人与人的差异"></a>4. 理解人与人的差异</h2><p>达利欧用”雪花”来比喻人，每个人的特征都是独特的。</p><p>为了获得外界帮助，你必须认识到：</p><ul><li>人与人天生差异极大\</li><li>只有理解差异，才能正确合作\</li><li>不要期待所有人都跟你一样思考</li></ul><p>简而言之：</p><blockquote><p><strong>认识自己、认识他人，让合适的人做合适的事。</strong></p></blockquote><h2 id="5-人生进化三步曲"><a href="#5-人生进化三步曲" class="headerlink" title="5. 人生进化三步曲"></a>5. 人生进化三步曲</h2><p>结合你的笔记，三句话可以概括成长的本质：</p><ol><li><strong>追求你真正想要的东西</strong>\</li><li><strong>通过头脑极度开放，从失败中学习</strong>\</li><li><strong>不断改变和进化，让自己变得更强</strong></li></ol><p>这就是人生的螺旋式上升思路：试错 → 学习 → 进化。</p><hr><h1 id="二、工作原则：如何与他人合作创造价值"><a href="#二、工作原则：如何与他人合作创造价值" class="headerlink" title="二、工作原则：如何与他人合作创造价值"></a>二、工作原则：如何与他人合作创造价值</h1><p>工作原则的核心是：<strong>人与人的合作，是复利增长的来源。</strong></p><h2 id="1-合作带来的三大好处"><a href="#1-合作带来的三大好处" class="headerlink" title="1. 合作带来的三大好处"></a>1. 合作带来的三大好处</h2><p>达利欧强调团队胜过个人，原因包括：</p><ol><li><strong>协同能力远强于个人能力</strong>\</li><li><strong>优秀的人际关系塑造优秀团队</strong>\</li><li><strong>财富是团队创造的，而非个人积累的</strong></li></ol><p>尤其是大规模、有难度的项目，永远离不开团队的力量。</p><h2 id="2-最佳的决策方式：构建”创意择优”（Idea-Meritocracy）"><a href="#2-最佳的决策方式：构建”创意择优”（Idea-Meritocracy）" class="headerlink" title="2. 最佳的决策方式：构建”创意择优”（Idea Meritocracy）"></a>2. 最佳的决策方式：构建”创意择优”（Idea Meritocracy）</h2><p>这是桥水基金文化中最重要的制度，也被认为是其成功之源。</p><p>创意择优意味着：</p><ul><li><strong>最好的观点应该胜出，而不是职位最高的人胜出</strong></li><li>观点的权重由历史数据、能力、可靠性等共同决定</li><li>团队成员敢于激烈但有礼的讨论</li><li>决策过程透明，让每个人都看到观点如何影响结果</li></ul><p>换句话说就是：</p><blockquote><p><strong>不是”谁说的”，而是”说得是否正确”。</strong></p></blockquote><h2 id="3-理解每个人观点与能力的差异"><a href="#3-理解每个人观点与能力的差异" class="headerlink" title="3. 理解每个人观点与能力的差异"></a>3. 理解每个人观点与能力的差异</h2><p>在团队中：</p><ul><li>观点质量不同\</li><li>认知模型不同\</li><li>能力差异巨大</li></ul><p>达利欧说：”理解差异，是使用他人观点的前提。”</p><p>一个组织如果能：</p><ol><li>让每个人坦诚表达观点\</li><li>正确评估每个人的能力\</li><li>让最好的观点自然胜出</li></ol><p>那么团队决策将大幅优于任何单个人。</p><h2 id="4-世界上没有完美的组织，但可以不断逼近最优"><a href="#4-世界上没有完美的组织，但可以不断逼近最优" class="headerlink" title="4. 世界上没有完美的组织，但可以不断逼近最优"></a>4. 世界上没有完美的组织，但可以不断逼近最优</h2><p>达利欧承认，没有乌托邦，也没有绝对完美的团队模式。</p><p>但：</p><blockquote><p><strong>通过原则、系统、反馈与迭代，组织能够持续进化。</strong></p></blockquote><p>原则存在的意义，就是让团队在混乱中形成秩序，在变化中持续改进。</p><hr><h1 id="结语：用原则武装自己，用系统提升人生"><a href="#结语：用原则武装自己，用系统提升人生" class="headerlink" title="结语：用原则武装自己，用系统提升人生"></a>结语：用原则武装自己，用系统提升人生</h1><p>《原则》最重要的价值在于：</p><ul><li>把”成功”拆解成可执行的方法\</li><li>把”成长”变成可练习的能力\</li><li>把”合作”变成可设计的机制</li></ul><p>如果你愿意真正实践：</p><ul><li>面对现实\</li><li>不断迭代\</li><li>保持头脑开放\</li><li>与优秀的人合作</li></ul><p>那么你就几乎一定能得到你想要的人生。</p><p>愿你在未来的道路上，既有洞察力，也有勇气。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作&quot;&gt;&lt;a href=&quot;#《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作&quot; class=&quot;headerlink&quot; title=&quot;《原则》读书笔记：如何用一套可重复的方法过好一生与做好工作&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="书籍" scheme="https://db-hanty.github.io/categories/%E4%B9%A6%E7%B1%8D/"/>
    
    
    <category term="社会规律" scheme="https://db-hanty.github.io/tags/%E7%A4%BE%E4%BC%9A%E8%A7%84%E5%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>用户中心开发项目笔记</title>
    <link href="https://db-hanty.github.io/posts/61475e5a.html"/>
    <id>https://db-hanty.github.io/posts/61475e5a.html</id>
    <published>2025-11-18T21:14:17.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用户中心"><a href="#用户中心" class="headerlink" title="用户中心"></a>用户中心</h1><p>功能：用户管理系统</p><p>目的：了解做项目的思路，接触一些企业级的开发技术</p><p>目标：能做出管理系统</p><p>MFSU：前端编译优化</p><p>Ant Design 组件库⇒ React</p><p>Ant Design Procomponents ⇒ Ant Design</p><p>Ant Design Pro 后台管理系统⇒ Ant Design、Ant Design Procomponents、 React、其他库</p><h1 id="Ant-Design-Pro（Umi框架）"><a href="#Ant-Design-Pro（Umi框架）" class="headerlink" title="Ant Design Pro（Umi框架）"></a>Ant Design Pro（Umi框架）</h1><p>app.tsx 项目全局入口文件，定义了整个项目中使用的公共数据（比如用户信息）</p><p>access.ts 控制用户的访问权限</p><p>首次访问页面（刷新页面），进入app.tsx，执行getInitialState方法，该方法的返回值就是全局可用的状态值</p><h2 id="ProComponents高级表单"><a href="#ProComponents高级表单" class="headerlink" title="ProComponents高级表单"></a>ProComponents高级表单</h2><ol><li>通过columns定义表格有哪些列</li><li><p>columns属性 </p><pre><code>        dataIndex 对应返回数据的对象属性        title表格列名        copyable 是否允许复制        ellipsis 是否允许缩略        valueType 用于声明这一列的类型</code></pre></li></ol><h3 id="企业项目流程"><a href="#企业项目流程" class="headerlink" title="企业项目流程"></a>企业项目流程</h3><ol><li>需求分析</li><li>设计（概要设计、详细设计）</li><li>技术选型</li><li>初始化/引入需要的技术</li><li>写Demo</li><li>写代码（实现业务逻辑）</li><li>测试（单元测试）</li><li>代码提交/代码评审</li><li>部署</li><li>发布</li></ol><h1 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h1><ol><li>登录/注册</li><li>用户管理（仅管理员可见）对用户的查询或者修改</li><li>用户校验（仅星球/vip用户）</li></ol><h1 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h1><p>前端：三件套+React+组件库 Ant Design+Umi+Ant Design Pro（现成的管理系统）</p><p>后端：Java（编程语言）+</p><p>spring（依赖注入框架，帮助管理Java对象，集成一些其他内容）+</p><p>springmvc（web框架，提供接口访问、restful接口等能力）+</p><p>mybatis（Java操作数据库的框架，持久层框架，对jdbc的封装）+</p><p>mybatis-plus（对mybatis的增强吗，不用写sql也能实现增删改查）+</p><p>springboot（快速启动/快速集成项目。不用自己管理spring配置，不用自己整合各种框架）+</p><p>mysql+</p><p>Junit（单元测试库）</p><p>部署：服务器/容器（平台）</p><h1 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h1><p>1、初始化项目</p><pre><code>1、前端初始化         1、初始化项目         2、引入一些组件         3、框架介绍/瘦身2、后端初始化         1、准备环境（MySql之类）         2、引入框架（整合框架）</code></pre><p>2、数据库设计</p><p>3、登录/注册</p><pre><code>  1、 后端           1、规整项目目录           2、实现基本数据库操作（操作user表）                     1、模型 user 对象 ⇒ 和数据库的字段关联，自动生成           3、写登录逻辑  2、前端</code></pre><p>4、用户管理</p><pre><code>   1、 前端   2、后端</code></pre><h1 id="前端初始化"><a href="#前端初始化" class="headerlink" title="前端初始化"></a>前端初始化</h1><p>安装前端框架Ant Design Pro</p><p><a href="https://pro.ant.design/zh-CN/docs/getting-started/">开始使用 - Ant Design Pro</a></p><p>Umi：React的整合框架，用于更少的代码实现前端</p><p>建议使用nodejs18，以及旧版本的umi脚手架</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @ant-design/pro-cli@3.1.0 -g</span><br></pre></td></tr></table></figure><p>选择umi3</p><p>框架选择simple</p><p>下载umi悬浮窗</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add @umijs/preset-ui -D</span><br></pre></td></tr></table></figure><h2 id="瘦身"><a href="#瘦身" class="headerlink" title="瘦身"></a>瘦身</h2><p>去除国际化（不同地区用户）</p><p>去除e2e（定义一系列测试流程）</p><p>去除swagger（接口文档工具）</p><h1 id="后端初始化"><a href="#后端初始化" class="headerlink" title="后端初始化"></a>后端初始化</h1><p>安装数据库（一般为Mysql）</p><h3 id="三种初始化Java项目初始化方法"><a href="#三种初始化Java项目初始化方法" class="headerlink" title="三种初始化Java项目初始化方法"></a>三种初始化Java项目初始化方法</h3><ol><li>Github下载模板</li><li>SpringBoot官方下载</li><li>直接在IDEA开发工具中生成</li></ol><p>如果要引入Java包去maven中心库中寻找</p><p>mybatisplus整合了mybatis包，一般不用再引入mybatis依赖</p><h1 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h1><p>有哪些字段？字段的类型？数据库字段添加索引？</p><p>表与表之间的关联~</p><p>用户表：</p><p>id（主键）bigint</p><p>userAccount登录账号 varchar</p><p>username 昵称 varchar</p><p>avatarUrl 头像 varchar</p><p>gender 性别 tinyint</p><p>userPassword 密码 varchar</p><p>phone 电话 varchar</p><p>email 邮箱 varchar</p><p>userStatus 用户状态（比如被封号）int 0 1</p><hr><p>createTime 创建时间 （数据插入时间） datatime</p><p>updateTime 更新时间（数据更新时间） datatime</p><p>isDelete 是否删除 0 1（逻辑删除）tinyint</p><p>userRole 用户角色 0-普通用户 1-管理员</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line">    id           <span class="type">bigint</span> auto_increment comment <span class="string">&#x27;id&#x27;</span></span><br><span class="line">        <span class="keyword">primary</span> key,</span><br><span class="line">    username     <span class="type">varchar</span>(<span class="number">256</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;用户昵称&#x27;</span>,</span><br><span class="line">    userAccount  <span class="type">varchar</span>(<span class="number">256</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;账号&#x27;</span>,</span><br><span class="line">    avatarUrl    <span class="type">varchar</span>(<span class="number">1024</span>)                      <span class="keyword">null</span> comment <span class="string">&#x27; 用户头像&#x27;</span>,</span><br><span class="line">    gender       tinyint                            <span class="keyword">null</span> comment <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">    userPassword <span class="type">varchar</span>(<span class="number">512</span>)                       <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;用户密码&#x27;</span>,</span><br><span class="line">    phone        <span class="type">varchar</span>(<span class="number">128</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;电话&#x27;</span>,</span><br><span class="line">    email        <span class="type">varchar</span>(<span class="number">512</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">    userStatus   <span class="type">int</span>      <span class="keyword">default</span> <span class="number">0</span>                 <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;状态 0 正常&#x27;</span>,</span><br><span class="line">    createTime   datetime <span class="keyword">default</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">    updateTime   datetime <span class="keyword">default</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">null</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">CURRENT_TIMESTAMP</span> comment <span class="string">&#x27;更新时间&#x27;</span>,</span><br><span class="line">    isDelete     tinyint  <span class="keyword">default</span> <span class="number">0</span>                 <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27; 是否删除&#x27;</span></span><br><span class="line">)</span><br><span class="line">    comment <span class="string">&#x27;用户&#x27;</span>;</span><br></pre></td></tr></table></figure><p>controller层：不做任何业务处理，接受请求</p><p>service层：编辑业务逻辑</p><p>mapper层：操作数据</p><p>utils：工具类</p><h1 id="自动生成器使用"><a href="#自动生成器使用" class="headerlink" title="自动生成器使用"></a>自动生成器使用</h1><p>使用mybatisX根据数据库生成domain实体对象、mapper、mapper.xml、service、impl</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>测试的包名与业务代码的结构一致</p><p>使用generateAllSetter生成测试用例</p><aside>❗如果X生成使用驼峰生成，框架自动开启驼峰命名规则映射，因此要关闭自动转换</aside><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h1 id="注册逻辑"><a href="#注册逻辑" class="headerlink" title="注册逻辑"></a>注册逻辑</h1><p>1、用户在前端输入账户和密码、以及校验码（todo）</p><p>2、校验用户的账户、密码、校验密码是否符合要求</p><pre><code>            1、非空            2、账户不小于4位           3、密码不小于8位           4、账户不包含特殊字符           5、密码和校验码相同           6、账户不能重复</code></pre><p>3、对密码进行加密（密码不要以明文存储到数据库中）</p><p>4、向数据库插入用户数据</p><h1 id="登录接口"><a href="#登录接口" class="headerlink" title="登录接口"></a>登录接口</h1><p>接受参数：用户账户、密码</p><p>请求类型：POST</p><p>请求体：JSON格式</p><blockquote><p>请求参数很长时不建议用GET</p></blockquote><p>返回值：用户信息（脱敏）</p><aside>❗脱敏：新生成一个对象，只设置允许返回给前端的值</aside><h2 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h2><p>1、校验用户账户和密码是否违法</p><pre><code>            1、非空            2、账户不小于4位           3、密码不小于8位           4、账户不包含特殊字符</code></pre><p>2、校验密码是否输入正确，要和数据库中的密文密码去对比</p><p>3、返回用户信息（脱敏，隐藏敏感信息），防止数据库中的字段泄露给前端</p><p>4、我们要记录用户的登录态（session），将其存到服务器上（用后端SpringBoot框架封装的服务器tomcat去记录）cookie</p><p>5、返回脱敏后的用户信息</p><h2 id="控制层Controller封装请求"><a href="#控制层Controller封装请求" class="headerlink" title="控制层Controller封装请求"></a>控制层Controller封装请求</h2><p>application.yml指定接口全局api</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">servlet:</span><br><span class="line">  context-path: /api</span><br></pre></td></tr></table></figure><p>@RestController适用于restful风格的api，返回值默认为json类型</p><p>controller层倾向于对请求参数本身的校验，不涉及业务逻辑本身（越好越好）</p><p>service层是对业务逻辑的校验（有可能被controller之外的类调用）</p><h3 id="如何知道是哪个用户登录"><a href="#如何知道是哪个用户登录" class="headerlink" title="如何知道是哪个用户登录"></a>如何知道是哪个用户登录</h3><p>1、连接服务器端后，得到一个session 状态（匿名会话），返回给前端</p><p>2、登录成功后，得到了登录成功的session，并且给该session设置一些值（比如用户信息），返回给前端一个设置cookie的“命令”</p><p>3、前端接收到后端的命令后，设置cookie，保存到浏览器内</p><p>4、前端再次请求后端的时候（相同的域名），在请求头中带上cookie去请求</p><p>5、后端拿到前端传来的cookie，找到对应的session</p><p>6、再从session中取出基于该session存储的变量（用户的登录信息、登录名）</p><h1 id="用户管理接口"><a href="#用户管理接口" class="headerlink" title="用户管理接口"></a>用户管理接口</h1><aside>❗必须鉴权</aside><p>1、查询用户</p><pre><code>       1、允许根据用户名查询</code></pre><p>2、删除用户</p><h1 id="写代码流程"><a href="#写代码流程" class="headerlink" title="写代码流程"></a>写代码流程</h1><p>先做设计</p><p>代码实现</p><p>持续优化（复用代码，提取公共逻辑/常量）</p><h1 id="前后端交互"><a href="#前后端交互" class="headerlink" title="前后端交互"></a>前后端交互</h1><p>前端需要向后端发送请求</p><p>前端 ajax 来请求后端</p><p>axios 封装了 ajax</p><p>request 是 ant design 项目又封装了一次</p><p>追踪request源码：用到了umi插件、requestConfig是一个配置</p><h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p>正向代理：替客户端向服务器发送请求</p><p>反向代理：替服务器接收请求</p><p>如何获得代理？</p><p>Nginx服务器</p><p>Node.js服务器</p><p>前端中永远不会修改的值用大写</p><h1 id="用户校验"><a href="#用户校验" class="headerlink" title="用户校验"></a>用户校验</h1><blockquote><p>仅适用于用户可信的情况</p></blockquote><p>先让用户自己填：2-5位编号</p><p>后台补充对编号的校验：长度校验，唯一性校验</p><p>前端补充输入框，适配后端</p><blockquote><p>后期拉取数据，定期清理违规用户</p></blockquote><h1 id="后端优化"><a href="#后端优化" class="headerlink" title="后端优化"></a>后端优化</h1><ol><li><p>通用返回对象，给对象补充一些信息<br>目的：给对象补充一些信息，告诉前端这个请求在业务层面上是成功还是失败<br>自定义错误码<br>返回类支持返回正常和错误</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//成功</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">       <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="comment">//业务状态码</span></span><br><span class="line">       <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">           <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hty&quot;</span></span><br><span class="line">       <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="comment">//错误</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">       <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">50001</span><span class="comment">//业务状态码</span></span><br><span class="line">       <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line">       <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;用户操作异常、xxx&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>封装全局异常处理<br>1、定义业务异常类<br>   1、相对于java的异常类，支持更多字段<br>   2、自定义构造函数，更灵活/快捷的设置字段<br>2、编写全局异常处理器<br>  作用：<br>   1、捕获代码中的所有的异常，内部消化，集中处理，让前端得到更详细的业务报错/信息<br>   2、同时屏蔽掉项目框架本身的异常（不暴露服务器内部状态）<br>   3、集中记录日志<br> 实现：<br>   1、Srping AOP：在调用方法前后进行额外的处理</p></li><li>全局请求日志和登录校验</li></ol><h1 id="前端优化"><a href="#前端优化" class="headerlink" title="前端优化"></a>前端优化</h1><p>1、对接后端的返回值，取data</p><p>2、全局响应处理<br>        1、应用场景：需要对接口的通用响应进行统一处理，比如从response中取出data；或者根据code取集中处理错误，比如用户未登录、没权限之类的<br>        2、优势：不用在每个接口请求中都去写相同的逻辑<br>        3、实现：参考用的请求封装工具的官方文档，比如umi-request<br>如果用的axios，参考axios的文档。创建新的文件，在该文件中配置一个全局请求类，在该文件中配置一个全局请求类。在发送请求时，使用我们自己的定义的全局请求类</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;用户中心&quot;&gt;&lt;a href=&quot;#用户中心&quot; class=&quot;headerlink&quot; title=&quot;用户中心&quot;&gt;&lt;/a&gt;用户中心&lt;/h1&gt;&lt;p&gt;功能：用户管理系统&lt;/p&gt;
&lt;p&gt;目的：了解做项目的思路，接触一些企业级的开发技术&lt;/p&gt;
&lt;p&gt;目标：能做出管理系统&lt;/p</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="项目开发" scheme="https://db-hanty.github.io/tags/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Docker的快速入门</title>
    <link href="https://db-hanty.github.io/posts/ad864190.html"/>
    <id>https://db-hanty.github.io/posts/ad864190.html</id>
    <published>2025-11-13T15:21:09.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker的快速入门"><a href="#Docker的快速入门" class="headerlink" title="Docker的快速入门"></a>Docker的快速入门</h1><p>Docker 是一种轻量级的容器化技术，允许开发者在不同环境中快速构建、测试和部署应用。相比传统的虚拟机，Docker 更加高效、灵活，是现代 DevOps 与微服务架构的重要基础。</p><hr><h2 id="一、虚拟机技术与容器化技术"><a href="#一、虚拟机技术与容器化技术" class="headerlink" title="一、虚拟机技术与容器化技术"></a>一、虚拟机技术与容器化技术</h2><h3 id="1-虚拟机技术"><a href="#1-虚拟机技术" class="headerlink" title="1. 虚拟机技术"></a>1. 虚拟机技术</h3><p>通过 <strong>软件模拟</strong> 出一个完整的硬件系统，运行在一个完全隔离的环境中，具备完整的操作系统和资源。</p><p><strong>缺点：</strong></p><ul><li>资源占用多</li><li>冗余步骤多</li><li>启动慢</li></ul><h3 id="2-容器化技术"><a href="#2-容器化技术" class="headerlink" title="2. 容器化技术"></a>2. 容器化技术</h3><p>容器化技术不是模拟完整操作系统，而是通过共享宿主机的内核实现轻量级隔离。</p><p><strong>优势：</strong></p><ul><li>启动速度快  </li><li>资源占用少  </li><li>环境一致性高  </li><li>易于迁移与扩展  </li></ul><h3 id="3-区别总结"><a href="#3-区别总结" class="headerlink" title="3. 区别总结"></a>3. 区别总结</h3><div class="table-container"><table><thead><tr><th>特性</th><th>虚拟机</th><th>容器</th></tr></thead><tbody><tr><td>启动速度</td><td>慢（分钟级）</td><td>快（秒级）</td></tr><tr><td>资源占用</td><td>高</td><td>低</td></tr><tr><td>隔离性</td><td>强（独立内核）</td><td>较强（共享宿主机内核）</td></tr><tr><td>可移植性</td><td>一般</td><td>高</td></tr><tr><td>使用场景</td><td>多系统并行</td><td>微服务部署</td></tr></tbody></table></div><hr><h2 id="二、Docker的核心组成"><a href="#二、Docker的核心组成" class="headerlink" title="二、Docker的核心组成"></a>二、Docker的核心组成</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B70B3E70E-0E4D-4516-9588-9F5F0ECCE669%7D.png" alt=""></p><h3 id="1-镜像（Image）"><a href="#1-镜像（Image）" class="headerlink" title="1. 镜像（Image）"></a>1. 镜像（Image）</h3><p>Docker 镜像类似于一个 <strong>模板</strong>，用于创建容器。一个镜像可以生成多个容器实例。</p><h3 id="2-容器（Container）"><a href="#2-容器（Container）" class="headerlink" title="2. 容器（Container）"></a>2. 容器（Container）</h3><p>容器是 Docker 的运行单元，是镜像的一个运行实例。<br>容器内运行应用，具有独立的文件系统、网络和进程空间。</p><p>常见操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run       <span class="comment"># 创建并启动容器</span></span><br><span class="line">docker start     <span class="comment"># 启动已存在容器</span></span><br><span class="line">docker stop      <span class="comment"># 停止运行中的容器</span></span><br><span class="line">docker <span class="built_in">rm</span>        <span class="comment"># 删除容器</span></span><br></pre></td></tr></table></figure><h3 id="3-仓库（Repository）"><a href="#3-仓库（Repository）" class="headerlink" title="3. 仓库（Repository）"></a>3. 仓库（Repository）</h3><p>仓库存放镜像，分为：</p><ul><li>公有仓库（如 Docker Hub）</li><li>私有仓库（企业自建）</li></ul><p>常见操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull &lt;镜像名&gt;    <span class="comment"># 从远程仓库下载镜像</span></span><br><span class="line">docker push &lt;镜像名&gt;    <span class="comment"># 上传镜像到仓库</span></span><br></pre></td></tr></table></figure><hr><h2 id="三、Docker-常用命令"><a href="#三、Docker-常用命令" class="headerlink" title="三、Docker 常用命令"></a>三、Docker 常用命令</h2><div class="table-container"><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>docker version</code></td><td>显示 Docker 的版本信息</td></tr><tr><td><code>docker info</code></td><td>显示系统信息，包括镜像和容器数量</td></tr><tr><td><code>docker run</code></td><td>创建并运行容器</td></tr><tr><td><code>docker ps</code></td><td>查看正在运行的容器</td></tr><tr><td><code>docker ps -a</code></td><td>查看所有容器（包括停止的）</td></tr><tr><td><code>docker images</code></td><td>查看所有镜像</td></tr><tr><td><code>docker rmi &lt;镜像ID&gt;</code></td><td>删除镜像</td></tr><tr><td><code>docker exec -it &lt;容器ID&gt; bash</code></td><td>进入容器交互模式</td></tr><tr><td><code>docker logs &lt;容器ID&gt;</code></td><td>查看容器日志</td></tr><tr><td><code>docker stop &lt;容器ID&gt;</code></td><td>停止容器</td></tr><tr><td><code>docker start &lt;容器ID&gt;</code></td><td>启动容器</td></tr></tbody></table></div><hr><h2 id="四、Docker-的使用流程"><a href="#四、Docker-的使用流程" class="headerlink" title="四、Docker 的使用流程"></a>四、Docker 的使用流程</h2><ol><li><p>从仓库中拉取镜像：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure></li><li><p>启动容器：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 nginx</span><br></pre></td></tr></table></figure></li><li><p>查看容器运行状态：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure></li><li><p>停止容器：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop &lt;容器ID&gt;</span><br></pre></td></tr></table></figure></li><li><p>删除容器与镜像：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> &lt;容器ID&gt;</span><br><span class="line">docker rmi &lt;镜像ID&gt;</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="五、Dockerfile-基本语法"><a href="#五、Dockerfile-基本语法" class="headerlink" title="五、Dockerfile 基本语法"></a>五、Dockerfile 基本语法</h2><p>Dockerfile 是用于构建镜像的配置文件。</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用基础镜像</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span>-jdk-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝项目文件到容器中</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/app.jar /app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 容器启动时执行命令</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>构建镜像命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t myapp:1.0 .</span><br></pre></td></tr></table></figure><hr><h2 id="六、学习建议"><a href="#六、学习建议" class="headerlink" title="六、学习建议"></a>六、学习建议</h2><ol><li>建议先掌握 <strong>镜像、容器、仓库</strong> 三大概念；  </li><li>熟悉基本命令（如 <code>docker run</code>、<code>docker ps</code>、<code>docker stop</code>）；  </li><li>练习使用 Docker 部署一个简单的 Web 应用（如 Nginx 或 Spring Boot）；  </li><li>了解 Docker Compose 的基础用法，为后续微服务学习做准备。  </li></ol><blockquote><p>✅ 建议：先熟悉 Docker 的基本操作，能拉镜像、启容器、删容器即可。后续深入学习容器编排（Kubernetes）和自动化部署。</p></blockquote><hr><p>参考文档：  </p><ul><li><a href="https://docs.docker.com/">Docker 官方文档</a>  </li><li><a href="https://cloud.tencent.com/document/product/213/46000">腾讯云 Docker 教程</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Docker的快速入门&quot;&gt;&lt;a href=&quot;#Docker的快速入门&quot; class=&quot;headerlink&quot; title=&quot;Docker的快速入门&quot;&gt;&lt;/a&gt;Docker的快速入门&lt;/h1&gt;&lt;p&gt;Docker 是一种轻量级的容器化技术，允许开发者在不同环境中快速构</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Docker" scheme="https://db-hanty.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Nginx的初步了解</title>
    <link href="https://db-hanty.github.io/posts/11c86202.html"/>
    <id>https://db-hanty.github.io/posts/11c86202.html</id>
    <published>2025-10-20T21:48:02.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Nginx的初步了解"><a href="#Nginx的初步了解" class="headerlink" title="Nginx的初步了解"></a>Nginx的初步了解</h1><h2 id="一、Nginx简介"><a href="#一、Nginx简介" class="headerlink" title="一、Nginx简介"></a>一、Nginx简介</h2><p><strong>Nginx</strong>（发音同 “engine x”）是一个高性能的反向代理服务器、HTTP服务器和邮件代理服务器。<br>它以高并发、高稳定性和低资源消耗著称，是目前互联网中最常用的Web服务器之一。</p><h3 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h3><ol><li><strong>访问路由</strong>：根据不同请求路径转发到对应的后端服务。</li><li><strong>反向代理</strong>：隐藏后端服务器，代理用户请求到后端。</li><li><strong>负载均衡</strong>：将请求分配到多台服务器上，提高性能与可靠性。</li><li><strong>内容缓存</strong>：缓存静态资源或后端响应，减轻服务器压力。</li><li><strong>可编程扩展</strong>：通过模块和Lua脚本实现定制逻辑。</li></ol><hr><h2 id="二、安装方式"><a href="#二、安装方式" class="headerlink" title="二、安装方式"></a>二、安装方式</h2><h3 id="1-使用包管理器安装"><a href="#1-使用包管理器安装" class="headerlink" title="1. 使用包管理器安装"></a>1. 使用包管理器安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install nginx -y</span><br></pre></td></tr></table></figure><p>或在 Ubuntu 系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install nginx -y</span><br></pre></td></tr></table></figure><h3 id="2-使用-Docker-安装"><a href="#2-使用-Docker-安装" class="headerlink" title="2. 使用 Docker 安装"></a>2. 使用 Docker 安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br><span class="line">docker run -d -p 80:80 --name nginx-server nginx</span><br></pre></td></tr></table></figure><p>容器启动后访问浏览器输入：<br>👉 <code>http://localhost</code><br>即可看到Nginx欢迎页面。</p><hr><h2 id="三、服务启停命令"><a href="#三、服务启停命令" class="headerlink" title="三、服务启停命令"></a>三、服务启停命令</h2><p>Nginx启动后可以通过命令行管理：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止服务（立即停止）</span></span><br><span class="line">nginx -s stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 优雅停止（等待请求完成后退出）</span></span><br><span class="line">nginx -s quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载配置文件</span></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新打开日志文件</span></span><br><span class="line">nginx -s reopen</span><br></pre></td></tr></table></figure><hr><h2 id="四、代理类型"><a href="#四、代理类型" class="headerlink" title="四、代理类型"></a>四、代理类型</h2><h3 id="1-正向代理"><a href="#1-正向代理" class="headerlink" title="1. 正向代理"></a>1. 正向代理</h3><p><strong>定义</strong>：代理客户端访问外部网络，隐藏客户端真实信息。<br><strong>典型场景</strong>：使用VPN访问国外网站。</p><p>示意图：</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8275E02F-CC20-4034-A3F9-91541654C495%7D.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端 → 代理服务器 → 目标网站</span><br></pre></td></tr></table></figure><h3 id="2-反向代理"><a href="#2-反向代理" class="headerlink" title="2. 反向代理"></a>2. 反向代理</h3><p><strong>定义</strong>：代理服务器接收客户端请求并转发到内部服务。<br><strong>典型场景</strong>：用户访问一个网站，Nginx根据配置将请求转发给不同后端服务。</p><p>示意图：</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B54D55B4B-3640-4ba8-A9C9-9EB695E13183%7D.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端 → Nginx反向代理 → 后端应用服务器</span><br></pre></td></tr></table></figure><hr><h2 id="五、Nginx基本配置"><a href="#五、Nginx基本配置" class="headerlink" title="五、Nginx基本配置"></a>五、Nginx基本配置</h2><p>Nginx主配置文件通常位于：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><h3 id="基本配置结构"><a href="#基本配置结构" class="headerlink" title="基本配置结构"></a>基本配置结构</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义全局设置</span></span><br><span class="line"><span class="attribute">user</span> nginx;</span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 服务器配置</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="section">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /usr/share/nginx/html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 反向代理示例</span></span><br><span class="line">        <span class="section">location</span> /api/ &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:8080/;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="六、常见用法示例"><a href="#六、常见用法示例" class="headerlink" title="六、常见用法示例"></a>六、常见用法示例</h2><h3 id="1-部署静态网站"><a href="#1-部署静态网站" class="headerlink" title="1. 部署静态网站"></a>1. 部署静态网站</h3><p>将网页文件放入Nginx默认目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/nginx/html</span><br></pre></td></tr></table></figure><p>访问 <code>http://服务器IP</code> 即可访问网站。</p><h3 id="2-配置反向代理"><a href="#2-配置反向代理" class="headerlink" title="2. 配置反向代理"></a>2. 配置反向代理</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /app/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://localhost:8080/;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-实现负载均衡"><a href="#3-实现负载均衡" class="headerlink" title="3. 实现负载均衡"></a>3. 实现负载均衡</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> myapp &#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.10</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.11</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://myapp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-启用静态文件缓存"><a href="#4-启用静态文件缓存" class="headerlink" title="4. 启用静态文件缓存"></a>4. 启用静态文件缓存</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /static/ &#123;</span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">    <span class="attribute">expires</span> <span class="number">7d</span>;</span><br><span class="line">    <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="七、学习建议"><a href="#七、学习建议" class="headerlink" title="七、学习建议"></a>七、学习建议</h2><ul><li>第一步：掌握Nginx的安装与基本命令。</li><li>第二步：了解Nginx配置文件结构和反向代理用法。</li><li>第三步：尝试配置一个静态网站或反向代理服务。</li><li>第四步：深入学习负载均衡与缓存优化。</li></ul><blockquote><p>💡 <strong>建议：</strong> 初学阶段重点在“能用”，理解Nginx配置结构与常见场景后，再深入原理与优化。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Nginx的初步了解&quot;&gt;&lt;a href=&quot;#Nginx的初步了解&quot; class=&quot;headerlink&quot; title=&quot;Nginx的初步了解&quot;&gt;&lt;/a&gt;Nginx的初步了解&lt;/h1&gt;&lt;h2 id=&quot;一、Nginx简介&quot;&gt;&lt;a href=&quot;#一、Nginx简介&quot; c</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Nginx" scheme="https://db-hanty.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQ快速入门</title>
    <link href="https://db-hanty.github.io/posts/371ff66c.html"/>
    <id>https://db-hanty.github.io/posts/371ff66c.html</id>
    <published>2025-10-16T21:05:38.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="RabbitMQ快速入门"><a href="#RabbitMQ快速入门" class="headerlink" title="RabbitMQ快速入门"></a>RabbitMQ快速入门</h1><h2 id="初识MQ"><a href="#初识MQ" class="headerlink" title="初识MQ"></a>初识MQ</h2><h3 id="同步通讯和异步通讯"><a href="#同步通讯和异步通讯" class="headerlink" title="同步通讯和异步通讯"></a>同步通讯和异步通讯</h3><p>同步例子：视频通话<br>异步例子：微信聊天</p><h3 id="同步通讯的优缺点"><a href="#同步通讯的优缺点" class="headerlink" title="同步通讯的优缺点"></a>同步通讯的优缺点</h3><p><strong>同步调用的优点：</strong></p><ul><li>时效性较强，可以立即得到结果</li></ul><p><strong>同步调用存在的问题：</strong></p><ol><li>耦合度高</li><li>性能下降</li><li>资源浪费</li><li>级联失败</li></ol><h3 id="异步通讯的优缺点"><a href="#异步通讯的优缺点" class="headerlink" title="异步通讯的优缺点"></a>异步通讯的优缺点</h3><p>异步通讯通过消息中间件实现服务之间的解耦与异步调用。</p><p><strong>异步通讯的优点：</strong></p><ol><li>服务解耦</li><li>提升系统吞吐量</li><li>减少级联失败风险</li><li>实现流量削峰</li></ol><p><strong>缺点：</strong></p><ul><li>依赖消息中间件（Broker）的可靠性和吞吐能力</li><li>架构更复杂，业务流程追踪困难</li></ul><h3 id="什么是MQ"><a href="#什么是MQ" class="headerlink" title="什么是MQ"></a>什么是MQ</h3><p>MQ（Message Queue）即消息队列，是一种典型的异步消息传递机制，是事件驱动架构中的核心组件（Broker）。</p><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8FB93E25-9CD1-4057-8C29-97EDB0922187%7D.png" alt=""></h2><h2 id="RabbitMQ概述"><a href="#RabbitMQ概述" class="headerlink" title="RabbitMQ概述"></a>RabbitMQ概述</h2><p>RabbitMQ 是基于 Erlang 语言开发的开源消息通信中间件，支持 AMQP 协议。</p><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><ol><li>在虚拟机中上传并加载镜像：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i mq.tar</span><br></pre></td></tr></table></figure><ol><li>启动 RabbitMQ 服务：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run  -e RABBITMQ_DEFAULT_USER=itcast  -e RABBITMQ_DEFAULT_PASS=123321  -v mq-plugins:/plugins  --name mq  --hostname mq  -p 15672:15672  -p 5672:5672  -d  rabbitmq:3.8-management</span><br></pre></td></tr></table></figure><ol><li>访问管理界面：<a href="http://虚拟机IP:15672">http://虚拟机IP:15672</a></li></ol><p>默认账号密码：<code>itcast / 123321</code></p><h3 id="核心结构"><a href="#核心结构" class="headerlink" title="核心结构"></a>核心结构</h3><ul><li><strong>Channel</strong>：操作MQ的通道</li><li><strong>Exchange</strong>：消息交换机，负责路由消息</li><li><strong>Queue</strong>：消息队列，用于存储消息</li><li><strong>Virtual Host</strong>：虚拟主机，用于逻辑隔离资源</li></ul><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC70CE1B8-EA0C-44d8-A9B8-AB86D588E0AE%7D.png" alt=""></h2><h2 id="消息模型介绍"><a href="#消息模型介绍" class="headerlink" title="消息模型介绍"></a>消息模型介绍</h2><p>RabbitMQ 支持多种消息模型：</p><h3 id="1-基本消息队列（Simple-Queue）"><a href="#1-基本消息队列（Simple-Queue）" class="headerlink" title="1. 基本消息队列（Simple Queue）"></a>1. 基本消息队列（Simple Queue）</h3><p>最基础的生产者-消费者模型。<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BBC684FC8-F65F-4254-89FA-15F21FE18BBE%7D.png" alt=""></p><h3 id="2-工作队列（Work-Queue）"><a href="#2-工作队列（Work-Queue）" class="headerlink" title="2. 工作队列（Work Queue）"></a>2. 工作队列（Work Queue）</h3><p>允许多个消费者同时处理一个队列中的消息，提高并发处理能力。<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B18391AFC-1CC4-49a4-A9DE-4AF384A870C1%7D.png" alt=""></p><h3 id="3-发布订阅（Publish-Subscribe）"><a href="#3-发布订阅（Publish-Subscribe）" class="headerlink" title="3. 发布订阅（Publish/Subscribe）"></a>3. 发布订阅（Publish/Subscribe）</h3><p>通过 Exchange 实现消息的多播分发。分为三种类型：</p><ul><li><strong>Fanout Exchange（广播）</strong>：将消息分发给所有绑定的队列。<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B6876C099-F0B0-4dde-8780-5C4235982022%7D.png" alt=""></li><li><strong>Direct Exchange（路由）</strong>：根据 RoutingKey 精确匹配消息。<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BD7F3DFC6-9366-4733-8B70-3F7515C4E1B5%7D.png" alt=""></li><li><strong>Topic Exchange（主题）</strong>：通过通配符匹配消息，实现灵活路由。<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BB56E2732-790B-4da4-A3A1-758684B5FDDA%7D.png" alt=""></li></ul><hr><h2 id="Spring-AMQP"><a href="#Spring-AMQP" class="headerlink" title="Spring AMQP"></a>Spring AMQP</h2><p>Spring AMQP 是基于 AMQP 协议的消息通信封装库，为 Spring Boot 提供了 RabbitTemplate 和注解驱动的消息监听机制。</p><h3 id="1-消息发送"><a href="#1-消息发送" class="headerlink" title="1. 消息发送"></a>1. 消息发送</h3><p>在 <code>publisher</code> 服务中使用 <code>RabbitTemplate</code> 发送消息：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringAmqpTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testSendMessage2Queue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">queueName</span> <span class="operator">=</span> <span class="string">&quot;simple.queue&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, amqp!&quot;</span>;</span><br><span class="line">        rabbitTemplate.convertAndSend(queueName, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-消息监听"><a href="#2-消息监听" class="headerlink" title="2. 消息监听"></a>2. 消息监听</h3><p>在 <code>consumer</code> 服务中定义监听器：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringRabbitListener</span> &#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;simple.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenSimpleQueueMessage</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者接收到消息：【&quot;</span> + msg + <span class="string">&quot;】&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="发布订阅模型示例"><a href="#发布订阅模型示例" class="headerlink" title="发布订阅模型示例"></a>发布订阅模型示例</h2><h3 id="FanoutExchange（广播模型）"><a href="#FanoutExchange（广播模型）" class="headerlink" title="FanoutExchange（广播模型）"></a>FanoutExchange（广播模型）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FanoutExchange <span class="title function_">fanoutExchange</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FanoutExchange</span>(<span class="string">&quot;itcast.fanout&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;fanout.queue1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">fanoutBinding1</span><span class="params">(Queue fanoutQueue1, FanoutExchange fanoutExchange)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue1).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="消息转换器"><a href="#消息转换器" class="headerlink" title="消息转换器"></a>消息转换器</h2><h3 id="默认问题"><a href="#默认问题" class="headerlink" title="默认问题"></a>默认问题</h3><p>Spring 默认使用 JDK 序列化，存在以下问题：</p><ul><li>数据体积大</li><li>可读性差</li><li>存在安全风险</li></ul><h3 id="解决方案：使用-JSON-消息转换器"><a href="#解决方案：使用-JSON-消息转换器" class="headerlink" title="解决方案：使用 JSON 消息转换器"></a>解决方案：使用 JSON 消息转换器</h3><p>引入依赖：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.dataformat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-dataformat-xml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置转换器：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> MessageConverter <span class="title function_">jacksonMessageConvertor</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Jackson2JsonMessageConverter</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="学习总结与建议"><a href="#学习总结与建议" class="headerlink" title="学习总结与建议"></a>学习总结与建议</h2><ol><li><strong>先理解异步通讯的概念</strong>：明白为什么需要消息队列。</li><li><strong>掌握RabbitMQ的核心组件</strong>：Exchange、Queue、Binding的关系是关键。</li><li><strong>动手实验每种交换机模式</strong>：Fanout、Direct、Topic 是常用的三种。</li><li><strong>学会SpringAMQP整合</strong>：熟悉RabbitTemplate和@RabbitListener的使用。</li><li><strong>理解消息确认与持久化机制</strong>：保证消息可靠性。</li></ol><p>📘 <strong>学习建议：</strong></p><blockquote><p>第一次学习时可以“先过一遍”，重点理解异步消息模型与SpringAMQP使用，后续再深入研究RabbitMQ的高级特性如：延迟队列、死信队列、消息确认机制等。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;RabbitMQ快速入门&quot;&gt;&lt;a href=&quot;#RabbitMQ快速入门&quot; class=&quot;headerlink&quot; title=&quot;RabbitMQ快速入门&quot;&gt;&lt;/a&gt;RabbitMQ快速入门&lt;/h1&gt;&lt;h2 id=&quot;初识MQ&quot;&gt;&lt;a href=&quot;#初识MQ&quot; cla</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="RabbitMQ" scheme="https://db-hanty.github.io/tags/RabbitMQ/"/>
    
  </entry>
  
  <entry>
    <title>《滚雪球：巴菲特和他的财富人生》读书报告</title>
    <link href="https://db-hanty.github.io/posts/3920611.html"/>
    <id>https://db-hanty.github.io/posts/3920611.html</id>
    <published>2025-10-15T20:48:57.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="《滚雪球：巴菲特和他的财富人生》读书报告"><a href="#《滚雪球：巴菲特和他的财富人生》读书报告" class="headerlink" title="《滚雪球：巴菲特和他的财富人生》读书报告"></a>《滚雪球：巴菲特和他的财富人生》读书报告</h1><h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><p>《滚雪球：巴菲特和他的财富人生》是一部全面展现沃伦·巴菲特人生、思想与投资哲学的传记。本书以细腻的叙事方式揭示了“股神”巴菲特从童年、青年到成为世界级投资大师的成长历程，深刻描绘了他如何将理性、耐心与独立思考贯穿于一生的事业与人生中。</p><hr><h2 id="二、主要内容概述"><a href="#二、主要内容概述" class="headerlink" title="二、主要内容概述"></a>二、主要内容概述</h2><h3 id="1-谦卑的智慧"><a href="#1-谦卑的智慧" class="headerlink" title="1. 谦卑的智慧"></a>1. 谦卑的智慧</h3><p>书中第一堂课便是“以谦卑之态屈人之兵”。巴菲特懂得在人际交往中保持谦逊与诚恳，他的公众形象简单、真诚、率直——这是他成功的重要原因之一。他明白，赢得人心比赢得争论更重要。</p><h3 id="2-投资的理性与本质"><a href="#2-投资的理性与本质" class="headerlink" title="2. 投资的理性与本质"></a>2. 投资的理性与本质</h3><p>巴菲特认为，<strong>股票并不是赌场的筹码，而是企业的一部分</strong>。他注重企业本身的价值而非市场的波动。正如他所说：“短期来看，市场是投票器；长期来看，市场是称重器。”<br>他用这种“称重”的理性思维，专注于公司长期价值，而非短期投机。</p><h3 id="3-时间与利率的哲学"><a href="#3-时间与利率的哲学" class="headerlink" title="3. 时间与利率的哲学"></a>3. 时间与利率的哲学</h3><p>书中提到，利率是金融世界的“重力”。当利率上升，所有资产的价值都会下降。巴菲特提醒投资者要理解时间与资金成本的关系——投资的本质就是<strong>延迟消费</strong>，让钱在时间中创造更多的价值。</p><h3 id="4-投资原则与安全边际"><a href="#4-投资原则与安全边际" class="headerlink" title="4. 投资原则与安全边际"></a>4. 投资原则与安全边际</h3><p>受导师<strong>本杰明·格雷厄姆</strong>影响，巴菲特形成了三大投资原则：</p><ol><li>股票代表企业的一部分所有权；  </li><li>投资必须有安全边际；  </li><li>“市场先生”是你的仆人，而不是你的主人。  </li></ol><p>尤其是“安全边际”理念，让他在面对风险时始终保持冷静。</p><h3 id="5-学习与自我成长"><a href="#5-学习与自我成长" class="headerlink" title="5. 学习与自我成长"></a>5. 学习与自我成长</h3><p>从少年时代卖口香糖到十四岁攒下第一笔1000美元，巴菲特早早展现了商业天赋。他通过阅读和实践自学投资，深受《戴尔·卡内基》影响，懂得<strong>沟通与影响力</strong>的重要性。他相信学习是终身的，“与比你优秀的人在一起，你也会变得更好”。</p><h3 id="6-事业与人生哲学"><a href="#6-事业与人生哲学" class="headerlink" title="6. 事业与人生哲学"></a>6. 事业与人生哲学</h3><p>巴菲特的成功不仅来源于聪明，更源自自律与热爱。他<strong>每天安排好每个小时</strong>，专注于自己认为有意义的事。他重视朋友与信任，秉持“花的比赚的少”和“不借债”的生活准则。<br>他用自己的方式证明了，<strong>财富的积累源自理性与节制，而非投机与侥幸</strong>。</p><hr><h2 id="三、启发与感悟"><a href="#三、启发与感悟" class="headerlink" title="三、启发与感悟"></a>三、启发与感悟</h2><p>通过阅读《滚雪球》，我受到了深刻启发：<br>巴菲特从小对数字敏感，对金钱与投资有着天然的兴趣，更重要的是他<strong>热爱学习、善于分析、长期坚持</strong>。<br>他不是一夜成功的投机者，而是靠着持续积累知识与理性决策，一步步“滚出”财富雪球的人。</p><p>在他身上，我学到：  </p><ul><li>做任何事情都要<strong>长期主义</strong>，不被短期诱惑影响判断；  </li><li>用理性思考代替情绪反应；  </li><li>投资自己比投资市场更重要；  </li><li>保持节俭、诚实与谦逊，是成就一生的根本。</li></ul><hr><h2 id="四、人生道理总结"><a href="#四、人生道理总结" class="headerlink" title="四、人生道理总结"></a>四、人生道理总结</h2><ol><li><p><strong>独立思考是最高级的智慧。</strong><br>不随波逐流，敢于坚持自己理解的正确方向。  </p></li><li><p><strong>持续学习与热爱是最大的护城河。</strong><br>巴菲特每天阅读、反思，形成了属于自己的知识体系。  </p></li><li><p><strong>节制与自律比聪明更重要。</strong><br>成功的人不是知道更多，而是懂得克制与专注。  </p></li><li><p><strong>财富不是终点，而是做有意义事情的工具。</strong><br>巴菲特最终选择将全部财富捐出，他证明了财富的真正价值在于贡献社会。  </p></li></ol><hr><h2 id="五、结语"><a href="#五、结语" class="headerlink" title="五、结语"></a>五、结语</h2><p>《滚雪球》不仅是一部投资圣经，更是一部人生哲学的教科书。巴菲特用自己的一生证明：<strong>理性、诚实、热爱与坚持，是通往幸福与成功的最可靠道路。</strong><br>他用行动告诉我们——<strong>人生就像滚雪球，最重要的是找到湿雪和长坡</strong>。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;《滚雪球：巴菲特和他的财富人生》读书报告&quot;&gt;&lt;a href=&quot;#《滚雪球：巴菲特和他的财富人生》读书报告&quot; class=&quot;headerlink&quot; title=&quot;《滚雪球：巴菲特和他的财富人生》读书报告&quot;&gt;&lt;/a&gt;《滚雪球：巴菲特和他的财富人生》读书报告&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="书籍" scheme="https://db-hanty.github.io/categories/%E4%B9%A6%E7%B1%8D/"/>
    
    
    <category term="人物传记" scheme="https://db-hanty.github.io/tags/%E4%BA%BA%E7%89%A9%E4%BC%A0%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Lua脚本与Redisson的快速入门</title>
    <link href="https://db-hanty.github.io/posts/a84ce48b.html"/>
    <id>https://db-hanty.github.io/posts/a84ce48b.html</id>
    <published>2025-10-13T21:05:29.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Lua脚本与Redisson的快速入门"><a href="#Lua脚本与Redisson的快速入门" class="headerlink" title="Lua脚本与Redisson的快速入门"></a>Lua脚本与Redisson的快速入门</h1><h2 id="一、Redis的Lua脚本"><a href="#一、Redis的Lua脚本" class="headerlink" title="一、Redis的Lua脚本"></a>一、Redis的Lua脚本</h2><p>Lua 是一种轻量级脚本语言，可以在 Redis 中确保多条命令的<strong>原子性执行</strong>。在复杂的业务逻辑中使用 Lua 可以避免分布式锁或事务带来的性能损耗。</p><hr><h3 id="1-Redis-的调用函数"><a href="#1-Redis-的调用函数" class="headerlink" title="1. Redis 的调用函数"></a>1. Redis 的调用函数</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;命令名称&#x27;</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;其他参数&#x27;</span>, ...)</span><br></pre></td></tr></table></figure><p>例如执行 <code>SET name jack</code>：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;jack&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><h3 id="2-调用脚本"><a href="#2-调用脚本" class="headerlink" title="2. 调用脚本"></a>2. 调用脚本</h3><p><code>EVAL</code> 命令用于执行 Lua 脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EVAL <span class="string">&quot;return redis.call(&#x27;set&#x27;,&#x27;name&#x27;,&#x27;jack&#x27;)&quot;</span> 0</span><br></pre></td></tr></table></figure><blockquote><p>其中 <code>0</code> 表示脚本所需的 key 类型参数个数。</p></blockquote><hr><h3 id="3-传参机制"><a href="#3-传参机制" class="headerlink" title="3. 传参机制"></a>3. 传参机制</h3><p>如果 key、value 不想写死，可以作为参数传递。  </p><ul><li>key 类型参数会放入 <code>KEYS</code> 数组  </li><li>其他参数会放入 <code>ARGV</code> 数组</li></ul><p>在脚本中通过 <code>KEYS</code> 和 <code>ARGV</code> 获取这些参数。</p><hr><h3 id="✅-小结"><a href="#✅-小结" class="headerlink" title="✅ 小结"></a>✅ 小结</h3><p>Lua 脚本的使用场景：</p><ul><li>实现分布式锁的原子操作</li><li>保证复杂逻辑的事务性执行</li><li>实现计数器、库存扣减、限流等功能</li></ul><p>学习建议：</p><ol><li>掌握基本 Lua 语法（变量、控制流、函数）。  </li><li>学会在 Redis CLI 或 Java 中调用 <code>EVAL</code>。  </li><li>理解 Redis 中 Lua 脚本执行的原子性原理。</li></ol><hr><h2 id="二、Redisson-快速入门"><a href="#二、Redisson-快速入门" class="headerlink" title="二、Redisson 快速入门"></a>二、Redisson 快速入门</h2><p>Redisson 是 Redis 的 Java 客户端，提供了丰富的分布式数据结构与锁机制。</p><h3 id="1-引入依赖"><a href="#1-引入依赖" class="headerlink" title="1. 引入依赖"></a>1. 引入依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.redisson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redisson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.15.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-配置-Redisson-客户端"><a href="#2-配置-Redisson-客户端" class="headerlink" title="2. 配置 Redisson 客户端"></a>2. 配置 Redisson 客户端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedissionConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedissonClient <span class="title function_">redissionClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Config</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Config</span>();</span><br><span class="line">        config.useSingleServer()</span><br><span class="line">            .setAddress(<span class="string">&quot;redis://192.168.85.133:6379&quot;</span>)</span><br><span class="line">            .setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Redisson.create(config);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="3-使用-Redisson"><a href="#3-使用-Redisson" class="headerlink" title="3. 使用 Redisson"></a>3. 使用 Redisson</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line"><span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br></pre></td></tr></table></figure><hr><h2 id="三、Redisson-可重入锁原理"><a href="#三、Redisson-可重入锁原理" class="headerlink" title="三、Redisson 可重入锁原理"></a>三、Redisson 可重入锁原理</h2><p>Redisson 的可重入锁使用 <strong>Hash 结构</strong> 存储锁信息：  </p><ul><li>key：锁名称  </li><li>field：线程ID  </li><li>value：重入次数</li></ul><p>锁逻辑：<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B0281478D-0D90-4210-A6E4-440FB8B34F10%7D.png" alt=""></p><ol><li>如果锁不存在，创建锁并设置线程 ID。  </li><li>如果线程已持有锁，增加重入次数。  </li><li>如果锁被占用，阻塞或等待重试。</li></ol><hr><h3 id="Lua-实现示例"><a href="#Lua-实现示例" class="headerlink" title="Lua 实现示例"></a>Lua 实现示例</h3><p>Redisson 的底层使用 Lua 脚本保证加锁与释放锁的原子性，例如：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 获取锁的 Lua 脚本示例</span></span><br><span class="line"><span class="keyword">if</span> (redis.call(<span class="string">&#x27;exists&#x27;</span>, KEYS[<span class="number">1</span>]) == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hset&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">elseif</span> (redis.call(<span class="string">&#x27;hexists&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>]) == <span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hincrby&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><hr><h2 id="四、Redisson-分布式锁机制"><a href="#四、Redisson-分布式锁机制" class="headerlink" title="四、Redisson 分布式锁机制"></a>四、Redisson 分布式锁机制</h2><div class="table-container"><table><thead><tr><th>特性</th><th>实现方式</th></tr></thead><tbody><tr><td><strong>可重入</strong></td><td>使用 Hash 结构记录线程 ID 和重入次数</td></tr><tr><td><strong>可重试</strong></td><td>利用信号量与 PubSub 实现等待唤醒机制</td></tr><tr><td><strong>超时续约</strong></td><td>WatchDog 定期重置锁的过期时间</td></tr><tr><td><strong>主从一致性</strong></td><td>通过 MultiLock（联锁）确保多节点一致性</td></tr></tbody></table></div><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF8FC16EF-4232-4f29-B244-54DDBAF5F3DB%7D.png" alt=""></h2><h3 id="联锁（MultiLock）机制"><a href="#联锁（MultiLock）机制" class="headerlink" title="联锁（MultiLock）机制"></a>联锁（MultiLock）机制</h3><p>在多个 Redis 节点上同时加锁，只有所有节点加锁成功，才视为整体加锁成功。  </p><blockquote><p>缺点：运维成本高、实现复杂，但可靠性更强。</p></blockquote><hr><h2 id="五、总结与学习建议"><a href="#五、总结与学习建议" class="headerlink" title="五、总结与学习建议"></a>五、总结与学习建议</h2><h3 id="学习重点"><a href="#学习重点" class="headerlink" title="学习重点"></a>学习重点</h3><ol><li>理解 Lua 脚本在 Redis 中的执行机制与原子性。</li><li>熟悉 Redisson 的使用，掌握分布式锁、信号量等核心功能。</li><li>能在实际项目中使用 Lua 与 Redisson 优化并发与性能。</li></ol><h3 id="学习路径"><a href="#学习路径" class="headerlink" title="学习路径"></a>学习路径</h3><ul><li>🔹 初级：掌握 <code>EVAL</code> 命令与 Lua 调用 Redis API。</li><li>🔹 中级：编写 Lua 实现原子性业务逻辑。</li><li>🔹 高级：结合 Redisson 实现分布式锁与异步任务。</li></ul><blockquote><p>💡 建议多动手实验，比如：模拟库存扣减、并发下单、定时任务续锁等场景。</p></blockquote><hr><p><strong>作者建议</strong>：<br>熟悉 Lua 脚本与 Redisson 是进入 Java 分布式系统开发的重要一步。<br>不仅能提升系统性能，也能帮助理解底层锁机制与数据一致性。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Lua脚本与Redisson的快速入门&quot;&gt;&lt;a href=&quot;#Lua脚本与Redisson的快速入门&quot; class=&quot;headerlink&quot; title=&quot;Lua脚本与Redisson的快速入门&quot;&gt;&lt;/a&gt;Lua脚本与Redisson的快速入门&lt;/h1&gt;&lt;h2 i</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Redis的实际应用及学习笔记</title>
    <link href="https://db-hanty.github.io/posts/f9b146a.html"/>
    <id>https://db-hanty.github.io/posts/f9b146a.html</id>
    <published>2025-09-29T09:22:41.000Z</published>
    <updated>2025-12-05T12:03:06.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis的实际应用及学习笔记"><a href="#Redis的实际应用及学习笔记" class="headerlink" title="Redis的实际应用及学习笔记"></a>Redis的实际应用及学习笔记</h1><h2 id="一、Redis-基础与简介"><a href="#一、Redis-基础与简介" class="headerlink" title="一、Redis 基础与简介"></a>一、Redis 基础与简介</h2><h3 id="1-什么是缓存？"><a href="#1-什么是缓存？" class="headerlink" title="1. 什么是缓存？"></a>1. 什么是缓存？</h3><p>缓存（Cache）是一种<strong>数据加速访问机制</strong>，通过将热点数据存储在访问速度更快的介质（如内存）中，减少数据库的访问压力，提高系统性能与响应速度。</p><h3 id="2-本地缓存"><a href="#2-本地缓存" class="headerlink" title="2. 本地缓存"></a>2. 本地缓存</h3><p>本地缓存指数据缓存在应用服务器本地内存中。常见实现包括：</p><ul><li><strong>Caffeine</strong>：高性能本地缓存库，基于 LRU 算法优化，适用于单机应用场景。</li></ul><h3 id="3-多级缓存"><a href="#3-多级缓存" class="headerlink" title="3. 多级缓存"></a>3. 多级缓存</h3><p>多级缓存 = 本地缓存 + 分布式缓存<br>常见架构：  </p><ul><li>一级缓存（Caffeine、本地）  </li><li>二级缓存（Redis、分布式）  </li></ul><p>优点：减少 Redis 压力，提高热点数据命中率。</p><h3 id="4-Redis-分布式缓存"><a href="#4-Redis-分布式缓存" class="headerlink" title="4. Redis 分布式缓存"></a>4. Redis 分布式缓存</h3><p>Redis 是一个基于<strong>内存</strong>的高性能 <strong>Key-Value NoSQL 数据库</strong>。</p><p>主要特点：</p><ul><li>基于内存存储，速度极快</li><li>支持多种数据结构（String、Hash、List、Set、SortedSet）</li><li>提供持久化机制（RDB、AOF）</li><li>支持主从复制、哨兵与集群模式</li><li>提供丰富的命令操作与多语言客户端</li></ul><hr><h2 id="二、Redis-数据类型与常用操作"><a href="#二、Redis-数据类型与常用操作" class="headerlink" title="二、Redis 数据类型与常用操作"></a>二、Redis 数据类型与常用操作</h2><div class="table-container"><table><thead><tr><th>数据类型</th><th>示例用途</th><th>常用命令</th></tr></thead><tbody><tr><td>String</td><td>计数器、缓存对象</td><td><code>SET</code>、<code>GET</code>、<code>INCR</code>、<code>DECR</code></td></tr><tr><td>Hash</td><td>存储对象（如用户信息）</td><td><code>HSET</code>、<code>HGET</code>、<code>HGETALL</code></td></tr><tr><td>List</td><td>消息队列、时间线</td><td><code>LPUSH</code>、<code>RPUSH</code>、<code>LPOP</code>、<code>LRANGE</code></td></tr><tr><td>Set</td><td>去重、标签集合</td><td><code>SADD</code>、<code>SREM</code>、<code>SMEMBERS</code></td></tr><tr><td>Sorted Set</td><td>排行榜、积分榜</td><td><code>ZADD</code>、<code>ZRANGE</code>、<code>ZINCRBY</code></td></tr></tbody></table></div><hr><h2 id="三、Java-操作-Redis"><a href="#三、Java-操作-Redis" class="headerlink" title="三、Java 操作 Redis"></a>三、Java 操作 Redis</h2><h3 id="1-Jedis"><a href="#1-Jedis" class="headerlink" title="1. Jedis"></a>1. Jedis</h3><p>Jedis 是 Redis 的 Java 客户端，使用简单：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-Spring-Boot-RedisTemplate"><a href="#2-Spring-Boot-RedisTemplate" class="headerlink" title="2. Spring Boot - RedisTemplate"></a>2. Spring Boot - RedisTemplate</h3><p>Spring Boot 提供的封装，简化 Redis 操作：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">redisTemplate.opsForValue().set(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Hty&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure><h3 id="3-Redisson"><a href="#3-Redisson" class="headerlink" title="3. Redisson"></a>3. Redisson</h3><p>Redisson 是官方推荐的 Java 客户端，提供丰富的分布式功能：</p><ul><li>分布式锁</li><li>延迟队列</li><li>限流器</li><li>分布式集合、Map、List</li></ul><hr><h2 id="四、Redis-高可用与持久化"><a href="#四、Redis-高可用与持久化" class="headerlink" title="四、Redis 高可用与持久化"></a>四、Redis 高可用与持久化</h2><h3 id="1-主从复制"><a href="#1-主从复制" class="headerlink" title="1. 主从复制"></a>1. 主从复制</h3><p>Redis 支持主从复制（Master-Slave），可实现：</p><ul><li>数据冗余与备份</li><li>读写分离</li></ul><h3 id="2-哨兵模式（Sentinel）"><a href="#2-哨兵模式（Sentinel）" class="headerlink" title="2. 哨兵模式（Sentinel）"></a>2. 哨兵模式（Sentinel）</h3><p>提供主从自动切换与故障转移机制，保证高可用性。</p><h3 id="3-Redis-集群"><a href="#3-Redis-集群" class="headerlink" title="3. Redis 集群"></a>3. Redis 集群</h3><p>通过分片（Sharding）实现多节点数据分布与水平扩展。</p><h3 id="4-持久化机制"><a href="#4-持久化机制" class="headerlink" title="4. 持久化机制"></a>4. 持久化机制</h3><ul><li><strong>RDB</strong>：定期快照保存数据</li><li><strong>AOF</strong>：记录每条写操作日志，恢复时重放日志</li><li>两者可混合使用以兼顾安全与性能</li></ul><hr><h2 id="五、Redis-在实际开发中的应用场景"><a href="#五、Redis-在实际开发中的应用场景" class="headerlink" title="五、Redis 在实际开发中的应用场景"></a>五、Redis 在实际开发中的应用场景</h2><div class="table-container"><table><thead><tr><th>应用场景</th><th>说明</th></tr></thead><tbody><tr><td><strong>数据共享</strong></td><td>不同服务间共享用户信息或状态</td></tr><tr><td><strong>单点登录（SSO）</strong></td><td>统一认证中心，将 Token 存储在 Redis</td></tr><tr><td><strong>计数器</strong></td><td>浏览量、点赞数等</td></tr><tr><td><strong>限流</strong></td><td>控制接口访问频率</td></tr><tr><td><strong>点赞 / 收藏</strong></td><td>使用 Set 或 SortedSet 实现</td></tr><tr><td><strong>实时排行榜</strong></td><td>使用 SortedSet 存储用户积分并排序</td></tr><tr><td><strong>分布式锁</strong></td><td>使用 <code>SETNX</code> 或 Redisson 实现</td></tr><tr><td><strong>消息队列</strong></td><td>基于 List、Stream 实现简单异步通信</td></tr></tbody></table></div><hr><h2 id="六、缓存常见问题与解决方案"><a href="#六、缓存常见问题与解决方案" class="headerlink" title="六、缓存常见问题与解决方案"></a>六、缓存常见问题与解决方案</h2><h3 id="1-缓存雪崩"><a href="#1-缓存雪崩" class="headerlink" title="1. 缓存雪崩"></a>1. 缓存雪崩</h3><p><strong>定义</strong>：大量缓存同时失效，导致数据库压力骤增。<br><strong>解决</strong>：</p><ul><li>设置不同过期时间，避免同时过期</li><li>使用多级缓存</li><li>引入降级与限流机制</li></ul><h3 id="2-缓存击穿"><a href="#2-缓存击穿" class="headerlink" title="2. 缓存击穿"></a>2. 缓存击穿</h3><p><strong>定义</strong>：热点 key 失效瞬间，大量请求打到数据库。<br><strong>解决</strong>：<br>| 解决方案 | 优点 | 缺点 |<br>| —- | —- | —- |<br>| 互斥锁 | · 没有额外的内存消耗<br>· 保证一致性<br>· 实现简单 | · 线程需要等待，性能受影响<br>· 可能有死锁风险 |<br>| 逻辑过期 | · 线程无需等待，性能较好 | · 不保证一致性<br>· 有额外内存消耗<br>· 实现复杂 |<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF47D80E1-8BDD-4346-A5B1-B0AF4FDCC587%7D.png" alt=""></p><h3 id="3-缓存穿透"><a href="#3-缓存穿透" class="headerlink" title="3. 缓存穿透"></a>3. 缓存穿透</h3><p><strong>定义</strong>：查询不存在的数据，导致每次都查数据库。<br><strong>解决</strong>：</p><ul><li>缓存空对象<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B694B1FC8-D029-4e5f-8EFF-70EBBE536741%7D.png" alt=""></li><li>参数校验</li><li>布隆过滤器（Bloom Filter）<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8197FAB0-4A33-4d7c-956F-536F86EF1F2B%7D.png" alt=""></li></ul><h3 id="4-缓存一致性"><a href="#4-缓存一致性" class="headerlink" title="4. 缓存一致性"></a>4. 缓存一致性</h3><p><strong>定义</strong>：缓存与数据库数据不一致。<br><strong>解决</strong>：</p><ul><li>先更新数据库，再删除缓存</li><li>使用异步消息队列延迟双删</li><li>关键业务可使用 Redisson 保证一致性</li></ul><hr><h2 id="七、相关技术对比"><a href="#七、相关技术对比" class="headerlink" title="七、相关技术对比"></a>七、相关技术对比</h2><div class="table-container"><table><thead><tr><th>技术</th><th>特点</th><th>使用场景</th></tr></thead><tbody><tr><td><strong>Redis</strong></td><td>内存存储，支持多数据结构，高性能</td><td>热点数据、高并发场景</td></tr><tr><td><strong>Memcached</strong></td><td>仅支持键值对，内存型缓存</td><td>简单高速缓存</td></tr><tr><td><strong>Ehcache</strong></td><td>本地缓存，嵌入式</td><td>单机项目、本地数据缓存</td></tr></tbody></table></div><hr><h2 id="八、总结与学习建议"><a href="#八、总结与学习建议" class="headerlink" title="八、总结与学习建议"></a>八、总结与学习建议</h2><p>Redis 是后端开发的重要基础组件，既是缓存系统，也是轻量级数据库、消息中间件。<br><strong>学习建议：</strong></p><ol><li>掌握 Redis 基础命令与数据结构。</li><li>熟悉 Java 客户端（Jedis、RedisTemplate、Redisson）。</li><li>理解主从复制、哨兵、集群的部署原理。</li><li>掌握缓存一致性与高可用策略。</li></ol><blockquote><p>Redis 学完后，可以继续学习 <strong>消息队列（RabbitMQ / Kafka）</strong> 与 <strong>分布式系统设计</strong>，为后续框架学习打下坚实基础。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Redis的实际应用及学习笔记&quot;&gt;&lt;a href=&quot;#Redis的实际应用及学习笔记&quot; class=&quot;headerlink&quot; title=&quot;Redis的实际应用及学习笔记&quot;&gt;&lt;/a&gt;Redis的实际应用及学习笔记&lt;/h1&gt;&lt;h2 id=&quot;一、Redis-基础与简介</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Redis快速入门与简单介绍</title>
    <link href="https://db-hanty.github.io/posts/undefined.html"/>
    <id>https://db-hanty.github.io/posts/undefined.html</id>
    <published>2025-09-28T20:41:40.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis快速入门与简单介绍"><a href="#Redis快速入门与简单介绍" class="headerlink" title="Redis快速入门与简单介绍"></a>Redis快速入门与简单介绍</h1><p>Redis 是一个高性能的 <strong>键值型 NoSQL 数据库</strong>，广泛应用于缓存、消息队列、实时统计等高并发场景。本文将从基础概念、常用数据结构与命令、以及在 Java 中的使用方式三个方面，带你快速入门 Redis。</p><hr><h2 id="一、基础知识"><a href="#一、基础知识" class="headerlink" title="一、基础知识"></a>一、基础知识</h2><h3 id="1-NoSQL-概述"><a href="#1-NoSQL-概述" class="headerlink" title="1. NoSQL 概述"></a>1. NoSQL 概述</h3><p>传统的 SQL 数据库（关系型数据库）与 NoSQL（非关系型数据库）的区别如下：</p><div class="table-container"><table><thead><tr><th>特点</th><th>SQL（关系型）</th><th>NoSQL（非关系型）</th></tr></thead><tbody><tr><td>数据结构</td><td>结构化：表格结构</td><td>非结构化：键值对、JSON、图</td></tr><tr><td>数据关联</td><td>有关联</td><td>无关联</td></tr><tr><td>查询方式</td><td>SQL 查询</td><td>非 SQL 查询</td></tr><tr><td>事务特性</td><td>ACID</td><td>BASE</td></tr><tr><td>存储方式</td><td>磁盘</td><td>内存</td></tr><tr><td>扩展性</td><td>垂直扩展</td><td>水平扩展</td></tr><tr><td>使用场景</td><td>数据稳定、对一致性要求高</td><td>数据结构灵活、性能要求高</td></tr></tbody></table></div><h3 id="2-Redis-简介"><a href="#2-Redis-简介" class="headerlink" title="2. Redis 简介"></a>2. Redis 简介</h3><ul><li><strong>定义</strong>：基于内存的键值型 NoSQL 数据库  </li><li><strong>特性</strong>：  <ul><li>支持多种数据结构（String、Hash、List、Set、SortedSet）  </li><li>单线程模型，速度快（内存存储、IO 多路复用）  </li><li>支持持久化（RDB、AOF）  </li><li>支持主从复制、分片集群  </li></ul></li></ul><hr><h2 id="二、Redis-常用命令"><a href="#二、Redis-常用命令" class="headerlink" title="二、Redis 常用命令"></a>二、Redis 常用命令</h2><h3 id="1-通用命令"><a href="#1-通用命令" class="headerlink" title="1. 通用命令"></a>1. 通用命令</h3><ul><li><code>KEYS</code>：查看符合模板的所有 key（生产环境不推荐）  </li><li><code>DEL</code>：删除指定 key  </li><li><code>EXISTS</code>：判断 key 是否存在  </li><li><code>EXPIRE</code>：设置 key 的过期时间（单位：秒）  </li></ul><h3 id="2-String-类型"><a href="#2-String-类型" class="headerlink" title="2. String 类型"></a>2. String 类型</h3><ul><li><code>SET key value</code>：添加/修改  </li><li><code>GET key</code>：获取值  </li><li><code>MSET k1 v1 k2 v2</code>：批量添加  </li><li><code>MGET k1 k2</code>：批量获取  </li><li><code>INCR key</code>：整型值自增 1  </li><li><code>SETEX key seconds value</code>：设置值并设置过期时间  </li></ul><h3 id="3-Hash-类型"><a href="#3-Hash-类型" class="headerlink" title="3. Hash 类型"></a>3. Hash 类型</h3><ul><li><code>HSET key field value</code>：添加或修改  </li><li><code>HGET key field</code>：获取字段值  </li><li><code>HGETALL key</code>：获取所有字段和值  </li><li><code>HINCRBY key field n</code>：字段值自增  </li></ul><h3 id="4-List-类型"><a href="#4-List-类型" class="headerlink" title="4. List 类型"></a>4. List 类型</h3><ul><li><code>LPUSH key v1 v2</code>：左插入  </li><li><code>RPUSH key v1 v2</code>：右插入  </li><li><code>LPOP key</code>：移除左端元素  </li><li><code>RPOP key</code>：移除右端元素  </li><li><code>LRANGE key start end</code>：获取范围内元素  </li></ul><h3 id="5-Set-类型"><a href="#5-Set-类型" class="headerlink" title="5. Set 类型"></a>5. Set 类型</h3><ul><li><code>SADD key v1 v2</code>：添加元素  </li><li><code>SREM key v1</code>：删除元素  </li><li><code>SMEMBERS key</code>：查看所有元素  </li><li><code>SINTER key1 key2</code>：求交集  </li></ul><h3 id="6-SortedSet-类型"><a href="#6-SortedSet-类型" class="headerlink" title="6. SortedSet 类型"></a>6. SortedSet 类型</h3><ul><li><code>ZADD key score value</code>：添加元素  </li><li><code>ZRANGE key start end</code>：按分数排序取值  </li><li><code>ZINCRBY key n value</code>：增加分数  </li><li><code>ZUNION</code> / <code>ZINTER</code> / <code>ZDIFF</code>：并集、交集、差集  </li></ul><hr><h2 id="三、Redis-在-Java-中的使用"><a href="#三、Redis-在-Java-中的使用" class="headerlink" title="三、Redis 在 Java 中的使用"></a>三、Redis 在 Java 中的使用</h2><h3 id="1-使用-Jedis"><a href="#1-使用-Jedis" class="headerlink" title="1. 使用 Jedis"></a>1. 使用 Jedis</h3><p><strong>引入依赖</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>测试代码</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.select(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String 类型</span></span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hash 类型</span></span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;18&quot;</span>);</span><br><span class="line">System.out.println(jedis.hgetAll(<span class="string">&quot;user:1&quot;</span>));</span><br><span class="line"></span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-使用-Spring-Data-Redis"><a href="#2-使用-Spring-Data-Redis" class="headerlink" title="2. 使用 Spring Data Redis"></a>2. 使用 Spring Data Redis</h3><p><strong>引入依赖</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置文件（application.yml）</strong>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.85</span><span class="number">.130</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">lettuce:</span></span><br><span class="line">        <span class="attr">pool:</span></span><br><span class="line">          <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">min-idle:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p><strong>测试代码</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    <span class="type">Object</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>Redis 作为一款高性能 NoSQL 数据库，凭借 <strong>高并发能力、丰富的数据结构、良好的生态</strong>，已经成为现代应用开发中的重要组件。通过本文的学习，你已经掌握了 Redis 的基本命令及其在 Java 项目中的快速使用方式。</p><blockquote><p>✅ 建议在实际项目中合理使用 Redis 作为 <strong>缓存层</strong>，避免直接替代关系型数据库。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Redis快速入门与简单介绍&quot;&gt;&lt;a href=&quot;#Redis快速入门与简单介绍&quot; class=&quot;headerlink&quot; title=&quot;Redis快速入门与简单介绍&quot;&gt;&lt;/a&gt;Redis快速入门与简单介绍&lt;/h1&gt;&lt;p&gt;Redis 是一个高性能的 &lt;strong&gt;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>编曲教学之乐理</title>
    <link href="https://db-hanty.github.io/posts/18823607.html"/>
    <id>https://db-hanty.github.io/posts/18823607.html</id>
    <published>2025-09-22T21:30:19.000Z</published>
    <updated>2025-12-05T12:03:06.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="编曲基础入门"><a href="#编曲基础入门" class="headerlink" title="编曲基础入门"></a>编曲基础入门</h1><p>编曲（Arrangement）是音乐创作中的关键环节，它不仅决定了歌曲的整体风格和氛围，还直接影响听众的感受。本文将从基础乐理、歌曲的元素和常见的歌曲结构三个方面，带你快速入门编曲的基本知识。</p><hr><h2 id="一、基础乐理"><a href="#一、基础乐理" class="headerlink" title="一、基础乐理"></a>一、基础乐理</h2><h3 id="1-音名与唱名"><a href="#1-音名与唱名" class="headerlink" title="1. 音名与唱名"></a>1. 音名与唱名</h3><p>音乐的基本音高用 <strong>音名</strong> 表示，例如 C、D、E、F、G、A、B；而<strong>唱名</strong> 则是我们常说的「哆、来、咪、发、索、拉、西」。</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B1386C79D-D909-4c74-AF7E-8CCE977CC4DE%7D.png" alt=""></p><h3 id="2-音程"><a href="#2-音程" class="headerlink" title="2. 音程"></a>2. 音程</h3><p>音程是指两个音之间的距离，通常用“度数”来表示。方法是：数两个音之间包含的 <strong>白键</strong> 数量。</p><h3 id="3-半音"><a href="#3-半音" class="headerlink" title="3. 半音"></a>3. 半音</h3><p>半音是音乐中最小的音程单位。常见音程举例：</p><ul><li>纯一度：0 半音</li><li>小二度：1 半音</li><li>大二度：2 半音</li><li>小三度：3 半音</li><li>大三度：4 半音</li></ul><h3 id="4-和弦"><a href="#4-和弦" class="headerlink" title="4. 和弦"></a>4. 和弦</h3><p>和弦是由三个或三个以上的音按照一定规则叠置而成。最基本的是三和弦，由「根音、三音、五音」组成：</p><ul><li><strong>大三和弦</strong>：C - E - G</li><li><strong>小三和弦</strong>：C - Eb - G</li><li><strong>减三和弦</strong>：C - Eb - Gb</li><li><strong>增三和弦</strong>：C - E - G#</li></ul><h3 id="5-调式与调性"><a href="#5-调式与调性" class="headerlink" title="5. 调式与调性"></a>5. 调式与调性</h3><ul><li><strong>大调式</strong>：全 - 全 - 半 - 全 - 全 - 全 - 半</li><li><strong>小调式</strong>：全 - 半 - 全 - 全 - 半 - 全 - 全</li></ul><p>调性 = 调式 + 主音，例如「C大调」表示主音是 C，采用大调式。</p><hr><h2 id="二、歌曲的基本元素"><a href="#二、歌曲的基本元素" class="headerlink" title="二、歌曲的基本元素"></a>二、歌曲的基本元素</h2><p>一首完整的歌曲通常由以下几个核心元素构成：</p><h3 id="1-节奏元素"><a href="#1-节奏元素" class="headerlink" title="1. 节奏元素"></a>1. 节奏元素</h3><p>节奏决定了歌曲的速度与律动，往往由鼓组或打击乐器来体现。它框定了整首歌的“脉搏”。</p><h3 id="2-和声元素"><a href="#2-和声元素" class="headerlink" title="2. 和声元素"></a>2. 和声元素</h3><p>和声决定了歌曲的音高层次。合理的和弦编排能让旋律更有张力。编曲时常用的小技巧：</p><blockquote><p>在和弦切换时，让根音、三音、五音的移动幅度尽量小，可以让歌曲更顺畅和自然。</p></blockquote><h3 id="3-旋律元素"><a href="#3-旋律元素" class="headerlink" title="3. 旋律元素"></a>3. 旋律元素</h3><p>旋律是歌曲的主体，也是听众最容易记住的部分。它通常由主唱或主乐器承担。</p><h3 id="4-低音元素"><a href="#4-低音元素" class="headerlink" title="4. 低音元素"></a>4. 低音元素</h3><p>低音增加厚重感和层次感，通常由 <strong>Bass</strong> 或低频乐器来完成。</p><hr><h2 id="三、歌曲的基本结构"><a href="#三、歌曲的基本结构" class="headerlink" title="三、歌曲的基本结构"></a>三、歌曲的基本结构</h2><p>流行歌曲常见的结构：</p><blockquote><p>前奏 → 主歌1 → 副歌1 → 间奏 → 主歌2 → 副歌2 → 尾奏</p></blockquote><p>核心逻辑：歌曲要有 <strong>层次感</strong>，在段落之间要有适当的变化。</p><h3 id="让歌曲更有层次感的方法："><a href="#让歌曲更有层次感的方法：" class="headerlink" title="让歌曲更有层次感的方法："></a>让歌曲更有层次感的方法：</h3><ol><li>在不同段落减少或改变乐器配置；</li><li>相同的乐器在不同段落改变写作方法，例如节奏、演奏方式。</li></ol><h3 id="前奏"><a href="#前奏" class="headerlink" title="前奏"></a>前奏</h3><p>前奏通常情绪比较平缓，可以只用旋律乐器，不必加入低音或强烈的节奏元素，让歌曲有逐步进入的感觉。</p><hr><h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>编曲的本质，是对歌曲元素的组合与层次安排。只要掌握了基本乐理（音程、和弦、调性），并理解节奏、和声、旋律、低音的作用，就能开始尝试简单的编曲。</p><blockquote><p>小建议：编曲时不要害怕尝试不同的声音组合，先准备好两个完全不同的乐段，再通过对比和过渡，逐步让作品拥有独特的层次感和完整度。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;编曲基础入门&quot;&gt;&lt;a href=&quot;#编曲基础入门&quot; class=&quot;headerlink&quot; title=&quot;编曲基础入门&quot;&gt;&lt;/a&gt;编曲基础入门&lt;/h1&gt;&lt;p&gt;编曲（Arrangement）是音乐创作中的关键环节，它不仅决定了歌曲的整体风格和氛围，还直接影响听众的感受</summary>
      
    
    
    
    <category term="艺术" scheme="https://db-hanty.github.io/categories/%E8%89%BA%E6%9C%AF/"/>
    
    
    <category term="音乐" scheme="https://db-hanty.github.io/tags/%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>开发框架之JavaWeb下</title>
    <link href="https://db-hanty.github.io/posts/a8603297.html"/>
    <id>https://db-hanty.github.io/posts/a8603297.html</id>
    <published>2025-09-17T20:09:08.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="开发框架之JavaWeb下"><a href="#开发框架之JavaWeb下" class="headerlink" title="开发框架之JavaWeb下"></a>开发框架之JavaWeb下</h1><h2 id="JSP-与-JSTL"><a href="#JSP-与-JSTL" class="headerlink" title="JSP 与 JSTL"></a>JSP 与 JSTL</h2><h3 id="JSP（Java-Server-Pages）"><a href="#JSP（Java-Server-Pages）" class="headerlink" title="JSP（Java Server Pages）"></a>JSP（Java Server Pages）</h3><ul><li><strong>定义</strong>：JSP 是一种动态网页开发技术，允许在 HTML 中直接嵌入 Java 代码。</li><li><strong>运行原理</strong>：JSP 页面在服务器端会被 <strong>编译成 Servlet</strong>，然后由服务器执行生成最终的 HTML 页面返回给客户端。</li><li><strong>特点</strong>：简化了动态页面开发，不必在 Servlet 中写大量的 <code>out.println()</code>。</li></ul><h3 id="JSTL（Java-Standard-Tag-Library）"><a href="#JSTL（Java-Standard-Tag-Library）" class="headerlink" title="JSTL（Java Standard Tag Library）"></a>JSTL（Java Standard Tag Library）</h3><ul><li><strong>定义</strong>：JSTL 是 JSP 标准标签库，用来代替 JSP 页面中冗余的 Java 代码。</li><li><strong>作用</strong>：<ol><li>提供标准化标签，简化 JSP 开发。</li><li>使 JSP 页面更接近 HTML，降低前端人员理解成本。</li></ol></li><li><strong>常用标签库</strong>：<ul><li>核心标签库（逻辑判断、循环）</li><li>格式化标签库（国际化、本地化）</li><li>SQL 标签库（数据库操作，实际开发中很少用）</li></ul></li></ul><hr><h2 id="会话管理（Cookie-amp-Session）"><a href="#会话管理（Cookie-amp-Session）" class="headerlink" title="会话管理（Cookie&amp;Session）"></a>会话管理（Cookie&amp;Session）</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>会话管理的核心作用是：<strong>记录用户状态和交互过程</strong>。由于 HTTP 协议是无状态的，因此需要额外机制来跟踪用户。</p><h3 id="实现手段"><a href="#实现手段" class="headerlink" title="实现手段"></a>实现手段</h3><div class="table-container"><table><thead><tr><th>技术</th><th>描述</th></tr></thead><tbody><tr><td><strong>Cookie</strong></td><td>保存在客户端的小型数据文件，通过响应头写入浏览器。</td></tr><tr><td><strong>Session</strong></td><td>保存在服务器端的会话对象，依赖 Cookie 中的 SessionID 进行识别。</td></tr></tbody></table></div><blockquote><p>实际开发中，常常结合使用 Cookie 和 Session。</p></blockquote><hr><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ol><li><strong>原理</strong>：服务器通过 <code>Set-Cookie</code> 响应头告诉浏览器保存数据，后续请求中浏览器会自动携带 Cookie。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>存储形式</strong>：键值对。</li><li><strong>分类</strong>：<ul><li><strong>会话级 Cookie</strong>：存在于浏览器内存，关闭浏览器即失效。</li><li><strong>持久化 Cookie</strong>：保存到硬盘，直到过期时间才会失效。</li></ul></li><li><strong>路径控制</strong>：通过 <code>setPath</code> 设置 Cookie 的生效路径。</li></ol><hr><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ol><li><strong>原理</strong>：服务器创建 HttpSession 对象，生成一个唯一的 SessionID，通过 Cookie（或 URL 重写）在客户端与服务器之间传递。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>作用</strong>：<ul><li>保存用户登录状态。</li><li>记录用户的操作历史。</li></ul></li><li><strong>默认时效性</strong>：30 分钟（可在 <code>web.xml</code> 中修改）。</li><li><strong>特点</strong>：安全性高，数据保存在服务器端，但会占用服务器内存。</li></ol><hr><h2 id="三大域对象"><a href="#三大域对象" class="headerlink" title="三大域对象"></a>三大域对象</h2><p>域对象是 <strong>存储和传递数据</strong> 的容器，根据作用范围划分：</p><div class="table-container"><table><thead><tr><th>域对象</th><th>类型</th><th>范围</th></tr></thead><tbody><tr><td>请求域</td><td>HttpServletRequest</td><td>一次请求内有效（包括请求转发）</td></tr><tr><td>会话域</td><td>HttpSession</td><td>一次会话范围内有效（多个请求之间共享）</td></tr><tr><td>应用域</td><td>ServletContext</td><td>整个应用范围内有效（所有用户、所有请求共享）</td></tr></tbody></table></div><ul><li>请求域：适合存储临时数据，如表单校验结果。</li><li>会话域：适合存储用户级数据，如登录信息。</li><li>应用域：适合存储全局配置数据，如网站访问统计。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B4FBF80C6-77AE-4d79-A4AA-E32DDD074FCE%7D.png" alt=""></li></ul><hr><h2 id="MVC-架构模式"><a href="#MVC-架构模式" class="headerlink" title="MVC 架构模式"></a>MVC 架构模式</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>MVC（Model-View-Controller）是一种经典的软件架构模式，将系统分为三层，做到 <strong>关注点分离</strong>：</p><ul><li><strong>M（Model 模型层）</strong><ul><li>负责业务逻辑和数据操作。</li><li>包含实体类（Entity）、数据传输对象（VO/DTO）、业务处理类（Service）。</li></ul></li><li><strong>V（View 视图层）</strong><ul><li>负责界面展示，使用 HTML、CSS、JS、JSP 等技术。</li><li>在前后端分离的项目中，视图层独立为前端工程。</li></ul></li><li><strong>C（Controller 控制层）</strong><ul><li>接收客户端请求，调用业务逻辑，返回结果。</li><li>典型实现：Servlet、SpringMVC 控制器。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC66DBBCF-19D1-4445-BA18-C8BE5261421D%7D.png" alt=""></li></ul></li></ul><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol><li>降低耦合度，提高可维护性。</li><li>结构清晰，便于分工协作。</li><li>便于升级到更复杂的框架（如 Spring、SpringMVC）。</li></ol><hr><h2 id="JavaWeb-总结与学习建议"><a href="#JavaWeb-总结与学习建议" class="headerlink" title="JavaWeb 总结与学习建议"></a>JavaWeb 总结与学习建议</h2><p>JavaWeb 是 <strong>Java 开发的入门框架</strong>，其核心是掌握以下内容：</p><ol><li><strong>基础概念</strong>：Servlet、JSP、JSTL、三大域对象。</li><li><strong>会话管理</strong>：理解 Cookie 与 Session 的区别和应用场景。</li><li><strong>MVC 模式</strong>：掌握分层思想，为后续学习 SpringMVC、Spring Boot 打下基础。</li><li><strong>配置文件</strong>：熟悉 XML、properties、YAML 等常见配置方式。</li></ol><h3 id="学习建议"><a href="#学习建议" class="headerlink" title="学习建议"></a>学习建议</h3><ul><li><strong>建议快速过一遍即可</strong>，掌握核心思想和基本用法。</li><li>不必过分深入 JSP，因为现在主流项目普遍采用 <strong>前后端分离</strong>，JSP 使用场景越来越少。</li><li><strong>重点理解 Servlet、Session、MVC</strong>，这些是后续学习 Spring 系列框架的基石。</li><li>建议在学习过程中 <strong>写一些小项目</strong>（如登录系统、留言板），用实际案例加深理解。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;开发框架之JavaWeb下&quot;&gt;&lt;a href=&quot;#开发框架之JavaWeb下&quot; class=&quot;headerlink&quot; title=&quot;开发框架之JavaWeb下&quot;&gt;&lt;/a&gt;开发框架之JavaWeb下&lt;/h1&gt;&lt;h2 id=&quot;JSP-与-JSTL&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="开发框架" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>开发框架之JavaWeb上</title>
    <link href="https://db-hanty.github.io/posts/df670201.html"/>
    <id>https://db-hanty.github.io/posts/df670201.html</id>
    <published>2025-09-17T19:46:09.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="开发框架之-JavaWeb"><a href="#开发框架之-JavaWeb" class="headerlink" title="开发框架之 JavaWeb"></a>开发框架之 JavaWeb</h1><p>JavaWeb 是基于 Java 技术开发 Web 应用的一整套解决方案。它涵盖了从数据交换格式到服务端组件，再到请求处理和事件监听的一系列核心知识。本文将结合常见的开发要点，对 JavaWeb 的主要技术进行梳理。</p><hr><h2 id="一、XML"><a href="#一、XML" class="headerlink" title="一、XML"></a>一、XML</h2><p>💡 <strong>介绍</strong>：XML（eXtensible Markup Language，可扩展标记语言）是一种标记语言。<br><strong>主要用途</strong>：常用于配置文件。</p><h3 id="常见的配置文件类型"><a href="#常见的配置文件类型" class="headerlink" title="常见的配置文件类型"></a>常见的配置文件类型</h3><ol><li><strong>properties 文件</strong>：如 Druid 数据库连接池的配置。  </li><li><strong>XML 文件</strong>：如 Tomcat 的配置文件。  </li><li><strong>YAML 文件</strong>：如 SpringBoot 的配置文件。  </li><li><strong>JSON 文件</strong>：通常用来做数据传输。</li></ol><h3 id="XML-基本格式"><a href="#XML-基本格式" class="headerlink" title="XML 基本格式"></a>XML 基本格式</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dev</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>root<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dev</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>特点：</strong></p><ol><li>根标签只有一个。  </li><li>第一行必须是 <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</code>。  </li><li>XML 约束（DTD/Schema）用于限定 XML 内容能编写的结构和内容。</li></ol><hr><h2 id="二、JSON"><a href="#二、JSON" class="headerlink" title="二、JSON"></a>二、JSON</h2><p>💡 <strong>介绍</strong>：JSON（JavaScript Object Notation）是一种轻量级的数据交换格式。<br>特点：可读性强，格式简单，广泛用于前后端数据交互。</p><p><strong>示意图：</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BA3040115-05FE-4e6f-A220-8CE218CC3805%7D.png" alt=""></p><p><strong>示例：</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;root&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="三、Servlet"><a href="#三、Servlet" class="headerlink" title="三、Servlet"></a>三、Servlet</h2><h3 id="1-动态资源与静态资源"><a href="#1-动态资源与静态资源" class="headerlink" title="1. 动态资源与静态资源"></a>1. 动态资源与静态资源</h3><ul><li><p><strong>静态资源</strong>：无需运行时通过代码生成的资源，例如 HTML、CSS、JS、图片。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B7F89A94D-1396-4289-92EC-DD3CE3EDC489%7D.png" alt=""></p></li><li><p><strong>动态资源</strong>：运行时通过代码生成的资源，例如 Servlet。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC92EA9AA-C926-4ad2-ABF7-36DE2C4E0A27%7D.png" alt=""></p><blockquote><p>注意：这里的“动态”并不是指前端动画或交互效果，而是后端生成内容的过程。</p></blockquote></li></ul><h3 id="2-Servlet-简介"><a href="#2-Servlet-简介" class="headerlink" title="2. Servlet 简介"></a>2. Servlet 简介</h3><ul><li>Servlet 是运行在服务端的 Java 小程序。  </li><li>从代码层面看，Servlet 是一个接口，需要由开发者实现。</li></ul><h3 id="3-Servlet-开发流程"><a href="#3-Servlet-开发流程" class="headerlink" title="3. Servlet 开发流程"></a>3. Servlet 开发流程</h3><ol><li>创建 JavaWeb 项目，将 Tomcat 添加到依赖。  </li><li>编写 Servlet 类，重写 <code>service</code> 方法：  <ul><li>从 <code>request</code> 对象中获取请求信息。  </li><li>编写业务逻辑代码。  </li><li>将响应数据放入 <code>response</code> 对象。  </li><li>在返回数据前设置响应头（Content-Type）。  </li></ul></li></ol><h3 id="4-在-web-xml-中配置-Servlet"><a href="#4-在-web-xml-中配置-Servlet" class="headerlink" title="4. 在 web.xml 中配置 Servlet"></a>4. 在 web.xml 中配置 Servlet</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.demo.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>servlet-class</strong>：告诉 Tomcat 要实例化的 Servlet。  </li><li><strong>url-pattern</strong>：配置请求的映射路径。  </li></ul><h3 id="5-常见问题"><a href="#5-常见问题" class="headerlink" title="5. 常见问题"></a>5. 常见问题</h3><ul><li><strong>Content-Type</strong>：静态资源由 Tomcat 自动配置；动态资源需手动设置。  </li><li><strong>url-pattern</strong>：  <ul><li>精准匹配：如 <code>/Servlet01</code>。  </li><li>模糊匹配：如 <code>/*</code>（了解即可）。  </li></ul></li></ul><h3 id="6-注解方式配置-Servlet"><a href="#6-注解方式配置-Servlet" class="headerlink" title="6. 注解方式配置 Servlet"></a>6. 注解方式配置 Servlet</h3><p>使用 <code>@WebServlet</code> 简化配置：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;Hello, JavaWeb!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-Servlet-生命周期"><a href="#7-Servlet-生命周期" class="headerlink" title="7. Servlet 生命周期"></a>7. Servlet 生命周期</h3><ol><li><strong>实例化</strong>：调用构造方法。  </li><li><strong>初始化</strong>：调用 <code>init()</code> 方法。  </li><li><strong>处理请求</strong>：调用 <code>service()</code> 方法。  </li><li><strong>销毁</strong>：调用 <code>destroy()</code> 方法。  </li></ol><h3 id="8-常用-API"><a href="#8-常用-API" class="headerlink" title="8. 常用 API"></a>8. 常用 API</h3><ul><li><strong>ServletConfig</strong>：为某个 Servlet 提供配置参数（多例）。  </li><li><strong>ServletContext</strong>：  <ol><li>为所有 Servlet 提供共享的配置参数（单例）。  </li><li>获取文件路径和上下文信息。  </li><li>作为域对象存取数据。  </li></ol></li></ul><h3 id="9-HttpServletRequest"><a href="#9-HttpServletRequest" class="headerlink" title="9. HttpServletRequest"></a>9. HttpServletRequest</h3><ul><li>由 Tomcat 将请求报文转换并封装而来。  </li><li>代表客户端发来的请求，所有请求信息都可通过该对象获得。  </li></ul><p><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BEA57A048-04B0-4f93-9FA6-4FB179B21CC5%7D.png" alt=""></p><h3 id="10-HttpServletResponse"><a href="#10-HttpServletResponse" class="headerlink" title="10. HttpServletResponse"></a>10. HttpServletResponse</h3><ul><li>由 Tomcat 将响应报文转换并封装而来。  </li><li>代表服务端发出的响应，可设置响应头、响应体等信息。  </li></ul><hr><h2 id="四、Filter（过滤器）"><a href="#四、Filter（过滤器）" class="headerlink" title="四、Filter（过滤器）"></a>四、Filter（过滤器）</h2><h3 id="1-作用"><a href="#1-作用" class="headerlink" title="1. 作用"></a>1. 作用</h3><ul><li>在 Servlet 执行前后，对请求和响应进行拦截和处理。  </li><li>常见应用场景：权限校验、编码设置、日志记录等。  </li></ul><h3 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2. 生命周期"></a>2. 生命周期</h3><p>与 Servlet 类似，但没有 <code>load-on-startup</code>。</p><h3 id="3-过滤器链"><a href="#3-过滤器链" class="headerlink" title="3. 过滤器链"></a>3. 过滤器链</h3><ul><li>多个过滤器可依次对同一资源进行过滤。  </li><li>顺序由 <code>filter-mapping</code> 配置决定。  </li><li>使用 Servlet name 进行匹配时，优先级较低。  </li></ul><p><strong>示意：</strong></p><p>客户端请求 → Filter1 → Filter2 → Servlet → Filter2 → Filter1 → 响应返回客户端  </p><h3 id="4-注解方式配置"><a href="#4-注解方式配置" class="headerlink" title="4. 注解方式配置"></a>4. 注解方式配置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(filterName=&quot;logFilter&quot;, urlPatterns=&quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">        <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求开始...&quot;</span>);</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">        System.out.println(<span class="string">&quot;响应结束...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="五、Listener（监听器）"><a href="#五、Listener（监听器）" class="headerlink" title="五、Listener（监听器）"></a>五、Listener（监听器）</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><p>监听器类似于 JavaScript 中的事件监听器。<br>💡 <strong>作用</strong>：用于监听域对象（Application、Session、Request）身上发生的事件或状态变化，并作出响应。</p><h3 id="2-分类"><a href="#2-分类" class="headerlink" title="2. 分类"></a>2. 分类</h3><ul><li><strong>Application 监听器</strong>：监听应用上下文的创建和销毁。  </li><li><strong>Session 监听器</strong>：监听 Session 的创建、销毁以及属性变化。  </li><li><strong>Request 监听器</strong>：监听请求对象的创建和销毁。  </li></ul><h3 id="3-钝化与活化监听器"><a href="#3-钝化与活化监听器" class="headerlink" title="3. 钝化与活化监听器"></a>3. 钝化与活化监听器</h3><ul><li><strong>钝化</strong>：服务器关闭时，将 Session 对象序列化保存到磁盘。  </li><li><strong>活化</strong>：服务器重启或再次获取 Session 时，从磁盘反序列化恢复到内存。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>JavaWeb 是 Java 开发 Web 应用的基础，掌握其核心组件（Servlet、Filter、Listener），理解请求与响应的生命周期，对后续学习 Spring MVC、Spring Boot 等框架具有重要意义。<br>随着现代框架的普及，Servlet 等技术逐渐隐藏在更高层的框架之下，但理解其本质仍然是每一位 Java 开发者的必修课。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;开发框架之-JavaWeb&quot;&gt;&lt;a href=&quot;#开发框架之-JavaWeb&quot; class=&quot;headerlink&quot; title=&quot;开发框架之 JavaWeb&quot;&gt;&lt;/a&gt;开发框架之 JavaWeb&lt;/h1&gt;&lt;p&gt;JavaWeb 是基于 Java 技术开发 Web </summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="开发框架" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>使用git在GitHub上快速部署项目</title>
    <link href="https://db-hanty.github.io/posts/6efdc0e0.html"/>
    <id>https://db-hanty.github.io/posts/6efdc0e0.html</id>
    <published>2025-09-10T19:29:48.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用git在GitHub上快速部署项目"><a href="#使用git在GitHub上快速部署项目" class="headerlink" title="使用git在GitHub上快速部署项目"></a>使用git在GitHub上快速部署项目</h1><p>Github网址：<a href="https://github.com/">text</a></p><h2 id="一、创建GitHub仓库"><a href="#一、创建GitHub仓库" class="headerlink" title="一、创建GitHub仓库"></a>一、创建GitHub仓库</h2><p>点击创建<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193318.png" alt=""></p><p>创建仓库界面<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193751.png" alt=""></p><h2 id="二、打开项目终端或者通过git-bash打开项目"><a href="#二、打开项目终端或者通过git-bash打开项目" class="headerlink" title="二、打开项目终端或者通过git bash打开项目"></a>二、打开项目终端或者通过git bash打开项目</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194017.png" alt=""></p><h2 id="三、创建git仓库"><a href="#三、创建git仓库" class="headerlink" title="三、创建git仓库"></a>三、创建git仓库</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h2 id="四、将所有文件添加到仓库中"><a href="#四、将所有文件添加到仓库中" class="headerlink" title="四、将所有文件添加到仓库中"></a>四、将所有文件添加到仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><h2 id="五、提交所有文件到仓库中"><a href="#五、提交所有文件到仓库中" class="headerlink" title="五、提交所有文件到仓库中"></a>五、提交所有文件到仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;commit&quot;</span></span><br></pre></td></tr></table></figure><h2 id="六、将仓库与GitHub仓库关联"><a href="#六、将仓库与GitHub仓库关联" class="headerlink" title="六、将仓库与GitHub仓库关联"></a>六、将仓库与GitHub仓库关联</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin + ssh</span><br></pre></td></tr></table></figure><p>⚠️<code>ssh</code>为GitHub仓库的ssh地址</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194714.png" alt=""></p><h2 id="七、将仓库推送到GitHub仓库中"><a href="#七、将仓库推送到GitHub仓库中" class="headerlink" title="七、将仓库推送到GitHub仓库中"></a>七、将仓库推送到GitHub仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>⚠️注意文件夹必须有文件否则会报错<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: failed to push some refs to <span class="string">&#x27;github.com:DB-HanTy/demo01.git&#x27;</span></span><br></pre></td></tr></table></figure><br>⚠️推送到master分支</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20195301.png" alt=""></p><h1 id="恭喜，项目已成功部署到GitHub仓库中！"><a href="#恭喜，项目已成功部署到GitHub仓库中！" class="headerlink" title="恭喜，项目已成功部署到GitHub仓库中！"></a>恭喜，项目已成功部署到GitHub仓库中！</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用git在GitHub上快速部署项目&quot;&gt;&lt;a href=&quot;#使用git在GitHub上快速部署项目&quot; class=&quot;headerlink&quot; title=&quot;使用git在GitHub上快速部署项目&quot;&gt;&lt;/a&gt;使用git在GitHub上快速部署项目&lt;/h1&gt;&lt;p&gt;Gi</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="工具" scheme="https://db-hanty.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>外观模式</title>
    <link href="https://db-hanty.github.io/posts/f7de8aa8.html"/>
    <id>https://db-hanty.github.io/posts/f7de8aa8.html</id>
    <published>2025-09-08T20:38:06.000Z</published>
    <updated>2025-12-05T12:03:06.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="外观模式（Facade-Pattern）"><a href="#外观模式（Facade-Pattern）" class="headerlink" title="外观模式（Facade Pattern）"></a>外观模式（Facade Pattern）</h1><p>在设计模式中，<strong>外观模式</strong>（Facade Pattern）是一种结构型模式。它为复杂子系统提供一个统一的高层次接口，简化了客户端的使用方式，并隐藏了系统的内部实现细节。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：通过一个统一的接口与子系统交互，降低客户端的复杂性，使得系统更易于使用。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在软件系统中，子系统可能包含多个复杂的模块和接口，客户端如果直接与这些模块交互，会导致以下问题：  </p><ul><li>客户端与子系统高度耦合。  </li><li>客户端代码复杂，难以维护。  </li></ul><p>外观模式通过引入一个外观类（Facade），将复杂的子系统调用进行封装，向外部暴露简单的接口，从而解决上述问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ol><li><strong>减少依赖</strong>：客户端只依赖外观类，降低了与子系统的耦合。  </li><li><strong>提高灵活性</strong>：子系统内部变化不会影响客户端。  </li><li><strong>增强安全性</strong>：对外隐藏了子系统的实现细节，只提供必要的接口。  </li></ol><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>违反开闭原则</strong>：当子系统需要修改时，可能需要同时修改外观类，降低了扩展性。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面用 Java 演示外观模式的实现。</p><h3 id="接口及其实现类"><a href="#接口及其实现类" class="headerlink" title="接口及其实现类"></a>接口及其实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Rectangle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Square::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Circle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="外观类"><a href="#外观类" class="headerlink" title="外观类"></a>外观类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeMaker</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> Shape circle;</span><br><span class="line">   <span class="keyword">private</span> Shape rectangle;</span><br><span class="line">   <span class="keyword">private</span> Shape square;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ShapeMaker</span><span class="params">()</span> &#123;</span><br><span class="line">      circle = <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">      rectangle = <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line">      square = <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawCircle</span><span class="params">()</span>&#123;</span><br><span class="line">      circle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawRectangle</span><span class="params">()</span>&#123;</span><br><span class="line">      rectangle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawSquare</span><span class="params">()</span>&#123;</span><br><span class="line">      square.draw();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FacadePatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ShapeMaker</span> <span class="variable">shapeMaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShapeMaker</span>();</span><br><span class="line"> </span><br><span class="line">      shapeMaker.drawCircle();</span><br><span class="line">      shapeMaker.drawRectangle();</span><br><span class="line">      shapeMaker.drawSquare();      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Circle::draw()</span><br><span class="line">Rectangle::draw()</span><br><span class="line">Square::draw()</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>Java 三层架构</strong>：在表示层、业务逻辑层和数据访问层之间，通过外观模式提供统一接口，简化各层的访问。  </li><li><strong>图形库</strong>：通过外观类封装多个图形对象的绘制接口，客户端只需调用外观类即可操作复杂图形系统。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>外观模式的本质是 <strong>为复杂子系统提供一个简单的接口</strong>：  </p><ul><li>适用于需要简化客户端调用的场景。  </li><li>通过解耦降低了系统复杂性。  </li><li>但在扩展性上需要权衡，因为外观类的修改可能涉及子系统的调整。  </li></ul><p>合理使用外观模式，能让系统在保持灵活性的同时，提高可用性和可维护性。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;外观模式（Facade-Pattern）&quot;&gt;&lt;a href=&quot;#外观模式（Facade-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;外观模式（Facade Pattern）&quot;&gt;&lt;/a&gt;外观模式（Facade Pattern）&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>观察者模式</title>
    <link href="https://db-hanty.github.io/posts/9a246216.html"/>
    <id>https://db-hanty.github.io/posts/9a246216.html</id>
    <published>2025-09-08T20:20:46.000Z</published>
    <updated>2025-12-05T12:03:06.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="观察者模式（Observer-Pattern）"><a href="#观察者模式（Observer-Pattern）" class="headerlink" title="观察者模式（Observer Pattern）"></a>观察者模式（Observer Pattern）</h1><p>在设计模式中，<strong>观察者模式</strong>（Observer Pattern）是一种行为型模式。它定义了一种对象间的一对多依赖关系，当一个对象（主题/被观察者）的状态发生改变时，所有依赖它的对象（观察者）都会自动收到通知并更新。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：一个对象状态变化时，自动通知其他依赖它的对象，保持对象间的低耦合和高协作性。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在软件开发中，经常会遇到这样的问题：<br>当一个对象的状态发生变化时，如何让依赖它的其他对象自动感知并响应，而不需要两者紧密耦合？  </p><p>例如：  </p><ul><li>图形界面中，数据模型更新后，多个视图需要自动刷新。  </li><li>消息系统中，一个事件发生时，多个监听器需要收到通知。  </li></ul><p>观察者模式就是为了解决这种 <strong>一对多的通知机制</strong>。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>抽象耦合</strong>：主题和观察者通过抽象接口依赖，解耦明显。  </li><li><strong>触发机制</strong>：当主题状态发生变化时，会自动触发通知机制。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>性能问题</strong>：如果观察者数量过多，通知会带来性能消耗。  </li><li><strong>循环依赖</strong>：不当使用可能导致循环调用，甚至系统崩溃。  </li><li><strong>缺乏变化详情</strong>：观察者只知道主题发生了变化，但不一定知道具体变化了什么。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面用 Java 演示观察者模式的实现。</p><h3 id="主题类（被观察对象）"><a href="#主题类（被观察对象）" class="headerlink" title="主题类（被观察对象）"></a>主题类（被观察对象）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Observer&gt;();</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> state;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(<span class="type">int</span> state)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.state = state;</span><br><span class="line">      notifyAllObservers();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attach</span><span class="params">(Observer observer)</span>&#123;</span><br><span class="line">      observers.add(observer);      </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyAllObservers</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">         observer.update();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="抽象观察者类"><a href="#抽象观察者类" class="headerlink" title="抽象观察者类"></a>抽象观察者类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">   <span class="keyword">protected</span> Subject subject;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="具体观察者类"><a href="#具体观察者类" class="headerlink" title="具体观察者类"></a>具体观察者类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">BinaryObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Binary String: &quot;</span> </span><br><span class="line">         + Integer.toBinaryString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OctalObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">OctalObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Octal String: &quot;</span> </span><br><span class="line">         + Integer.toOctalString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HexaObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">HexaObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Hex String: &quot;</span> </span><br><span class="line">         + Integer.toHexString(subject.getState()).toUpperCase());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">HexaObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">OctalObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">BinaryObserver</span>(subject);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;First state change: 15&quot;</span>);   </span><br><span class="line">      subject.setState(<span class="number">15</span>);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;Second state change: 10&quot;</span>);  </span><br><span class="line">      subject.setState(<span class="number">10</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">First state change: 15</span><br><span class="line">Hex String: F</span><br><span class="line">Octal String: 17</span><br><span class="line">Binary String: 1111</span><br><span class="line"></span><br><span class="line">Second state change: 10</span><br><span class="line">Hex String: A</span><br><span class="line">Octal String: 12</span><br><span class="line">Binary String: 1010</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用场景"><a href="#实际应用场景" class="headerlink" title="实际应用场景"></a>实际应用场景</h2><ul><li><strong>GUI 系统</strong>：按钮点击事件通知多个监听器。  </li><li><strong>订阅-发布系统</strong>：例如消息队列中的订阅机制。  </li><li><strong>分布式系统</strong>：当节点状态发生变化时，自动通知其他节点同步。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>观察者模式是一种非常常用的设计模式，它解决了对象间的通知和依赖问题。  </p><ul><li>它降低了对象之间的耦合度。  </li><li>提供了一种灵活的触发机制。  </li><li>但在使用时需要注意性能和循环依赖问题。  </li></ul><p>理解并灵活运用观察者模式，有助于我们在开发中实现更清晰、更可扩展的系统架构。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;观察者模式（Observer-Pattern）&quot;&gt;&lt;a href=&quot;#观察者模式（Observer-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;观察者模式（Observer Pattern）&quot;&gt;&lt;/a&gt;观察者模式（Observer Pa</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>适配器模式</title>
    <link href="https://db-hanty.github.io/posts/f5c535ea.html"/>
    <id>https://db-hanty.github.io/posts/f5c535ea.html</id>
    <published>2025-09-06T15:20:48.000Z</published>
    <updated>2025-12-05T12:03:06.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="适配器模式（Adapter-Pattern）"><a href="#适配器模式（Adapter-Pattern）" class="headerlink" title="适配器模式（Adapter Pattern）"></a>适配器模式（Adapter Pattern）</h1><p>在设计模式中，<strong>适配器模式</strong>（Adapter Pattern）是一种结构型模式。它的核心思想是通过一个中间件（适配器），将一个类的接口转换为客户端期望的接口，从而让原本接口不兼容的类可以协同工作。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：通过适配器，将原有类的接口转换成客户端需要的另一种接口，从而实现兼容。</p></blockquote><p>这使得我们能够在不修改原有类的情况下，将其融入新的环境中。</p><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在实际开发中，我们经常遇到这样的场景：已有的类功能很好，但其接口与当前系统的要求不一致。如果直接修改原有类，既破坏了封闭原则，又可能影响已有代码的稳定性。<br>此时引入 <strong>适配器模式</strong>，在中间增加一个“适配器”，即可解决接口不兼容的问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>促进协作</strong>：即使类之间没有直接关系，也能通过适配器协同工作。  </li><li><strong>提高复用性</strong>：原有类无需修改即可被复用。  </li><li><strong>增强透明性</strong>：客户端调用时无感知，保持接口一致性。  </li><li><strong>灵活性高</strong>：可以灵活地适配多种不同接口。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>结构可能复杂</strong>：过度使用适配器可能导致系统结构混乱。  </li><li><strong>Java 的局限</strong>：由于 Java 只能单继承，一个适配器类通常只能适配一个类。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面通过一个多媒体播放器的例子，来演示适配器模式的实现。</p><h3 id="定义接口"><a href="#定义接口" class="headerlink" title="定义接口"></a>定义接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AdvancedMediaPlayer</span> &#123; </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="高级播放器的实现类"><a href="#高级播放器的实现类" class="headerlink" title="高级播放器的实现类"></a>高级播放器的实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VlcPlayer</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing vlc file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// 什么也不做</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mp4Player</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// 什么也不做</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing mp4 file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="适配器类"><a href="#适配器类" class="headerlink" title="适配器类"></a>适配器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MediaAdapter</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   AdvancedMediaPlayer advancedMusicPlayer;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">MediaAdapter</span><span class="params">(String audioType)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">VlcPlayer</span>();       </span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">Mp4Player</span>();</span><br><span class="line">      &#125;  </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playVlc(fileName);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playMp4(fileName);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="音频播放器类（客户端）"><a href="#音频播放器类（客户端）" class="headerlink" title="音频播放器类（客户端）"></a>音频播放器类（客户端）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AudioPlayer</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   MediaAdapter mediaAdapter; </span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;    </span><br><span class="line">      <span class="comment">// 播放 mp3 音乐文件的内置支持</span></span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp3&quot;</span>))&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Playing mp3 file. Name: &quot;</span> + fileName);         </span><br><span class="line">      &#125; </span><br><span class="line">      <span class="comment">// 使用适配器播放其他格式</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>) || audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         mediaAdapter = <span class="keyword">new</span> <span class="title class_">MediaAdapter</span>(audioType);</span><br><span class="line">         mediaAdapter.play(audioType, fileName);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Invalid media. &quot;</span> + audioType + <span class="string">&quot; format not supported&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdapterPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AudioPlayer</span> <span class="variable">audioPlayer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AudioPlayer</span>();</span><br><span class="line"> </span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp3&quot;</span>, <span class="string">&quot;beyond the horizon.mp3&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp4&quot;</span>, <span class="string">&quot;alone.mp4&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;vlc&quot;</span>, <span class="string">&quot;far far away.vlc&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;avi&quot;</span>, <span class="string">&quot;mind me.avi&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Playing mp3 file. Name: beyond the horizon.mp3</span><br><span class="line">Playing mp4 file. Name: alone.mp4</span><br><span class="line">Playing vlc file. Name: far far away.vlc</span><br><span class="line">Invalid media. avi format not supported</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>电源适配器</strong>：笔记本电脑电源适配器，将 220V 转换为可用电压。  </li><li><strong>Java IO 类库</strong>：<code>InputStreamReader</code> 就是典型的适配器模式，用于将字节流转换为字符流。  </li><li><strong>第三方库整合</strong>：通过适配器将第三方 API 与现有系统对接。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>适配器模式通过在中间增加一个“适配器”，使接口不兼容的类能够协同工作，既避免了对原有类的修改，又保证了系统的灵活性和扩展性。  </p><p><strong>适用场景</strong>：  </p><ul><li>系统需要复用一些现有类，但其接口与新系统不匹配。  </li><li>需要统一多个不同接口的类。  </li><li>集成第三方库时需要做接口转换。  </li></ul><p>掌握适配器模式，有助于提升系统的可复用性和扩展性，是实际开发中常用的结构型模式之一。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;适配器模式（Adapter-Pattern）&quot;&gt;&lt;a href=&quot;#适配器模式（Adapter-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;适配器模式（Adapter Pattern）&quot;&gt;&lt;/a&gt;适配器模式（Adapter Patter</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>责任链模式</title>
    <link href="https://db-hanty.github.io/posts/6208627e.html"/>
    <id>https://db-hanty.github.io/posts/6208627e.html</id>
    <published>2025-09-06T14:58:44.000Z</published>
    <updated>2025-12-05T12:03:06.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="责任链模式（Chain-of-Responsibility-Pattern）"><a href="#责任链模式（Chain-of-Responsibility-Pattern）" class="headerlink" title="责任链模式（Chain of Responsibility Pattern）"></a>责任链模式（Chain of Responsibility Pattern）</h1><p>在设计模式中，<strong>责任链模式</strong>（Chain of Responsibility Pattern）是一种行为型模式。它通过将多个处理对象串联成一条链，请求会沿着这条链传递，直到被某个处理对象处理为止。这样，发送者无需关心由谁来处理请求，接收者之间也可以灵活组合。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：把多个处理器串成链，请求在链上传递，直到有对象处理为止。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在传统设计中，发送者必须明确知道接收者是谁，导致两者耦合度过高。责任链模式的引入，使得：  </p><ul><li>发送者和接收者之间解耦。  </li><li>多个对象都有机会处理请求，而发送者不必关心到底由谁来处理。  </li></ul><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ol><li><strong>降低耦合度</strong>：发送者与接收者解耦，结构更加灵活。  </li><li><strong>简化对象</strong>：请求的发送方不需要关心处理的细节。  </li><li><strong>灵活性高</strong>：可以在运行时动态调整链的顺序或成员。  </li><li><strong>易于扩展</strong>：新增处理类只需加入链即可。  </li></ol><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ol><li><strong>请求可能未被处理</strong>：链上的处理器可能都不接收请求。  </li><li><strong>性能问题</strong>：请求可能需要传递较长的链，影响效率。  </li><li><strong>调试困难</strong>：运行时不容易观察链的传递过程，容易出错。  </li></ol><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面通过日志记录器的例子来演示责任链模式。</p><h3 id="抽象记录器类"><a href="#抽象记录器类" class="headerlink" title="抽象记录器类"></a>抽象记录器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">INFO</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">DEBUG</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ERROR</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">protected</span> <span class="type">int</span> level;</span><br><span class="line">   <span class="keyword">protected</span> AbstractLogger nextLogger;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextLogger</span><span class="params">(AbstractLogger nextLogger)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.nextLogger = nextLogger;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logMessage</span><span class="params">(<span class="type">int</span> level, String message)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">this</span>.level &lt;= level)&#123;</span><br><span class="line">         write(message);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(nextLogger != <span class="literal">null</span>)&#123;</span><br><span class="line">         nextLogger.logMessage(level, message);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="具体记录器实现"><a href="#具体记录器实现" class="headerlink" title="具体记录器实现"></a>具体记录器实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConsoleLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ConsoleLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;Standard Console::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ErrorLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ErrorLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;Error Console::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">FileLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;File::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChainPatternDemo</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> AbstractLogger <span class="title function_">getChainOfLoggers</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">errorLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ErrorLogger</span>(AbstractLogger.ERROR);</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">fileLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileLogger</span>(AbstractLogger.DEBUG);</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">consoleLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConsoleLogger</span>(AbstractLogger.INFO);</span><br><span class="line"> </span><br><span class="line">      errorLogger.setNextLogger(fileLogger);</span><br><span class="line">      fileLogger.setNextLogger(consoleLogger);</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">return</span> errorLogger;  </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">loggerChain</span> <span class="operator">=</span> getChainOfLoggers();</span><br><span class="line"> </span><br><span class="line">      loggerChain.logMessage(AbstractLogger.INFO, <span class="string">&quot;This is an information.&quot;</span>);</span><br><span class="line">      loggerChain.logMessage(AbstractLogger.DEBUG, <span class="string">&quot;This is a debug level information.&quot;</span>);</span><br><span class="line">      loggerChain.logMessage(AbstractLogger.ERROR, <span class="string">&quot;This is an error information.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Standard Console::Logger: This is an information.</span><br><span class="line">File::Logger: This is a debug level information.</span><br><span class="line">Standard Console::Logger: This is a debug level information.</span><br><span class="line">Error Console::Logger: This is an error information.</span><br><span class="line">File::Logger: This is an error information.</span><br><span class="line">Standard Console::Logger: This is an error information.</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>Web 服务器</strong>：如 Apache Tomcat 的编码处理、Servlet 的 Filter 链。  </li><li><strong>拦截器机制</strong>：如 Struts2 的拦截器实现。  </li><li><strong>日志系统</strong>：不同级别的日志可以依次传递到不同的处理器。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>责任链模式通过让请求在一条链上传递，避免了请求发送者和接收者的紧耦合，提升了系统的灵活性和可扩展性。  </p><p><strong>适用场景</strong>：  </p><ul><li>需要多个对象处理同一请求时。  </li><li>请求的具体接收者在运行时才能确定时。  </li><li>系统需要动态增加或调整处理逻辑时。  </li></ul><p>掌握责任链模式，有助于更好地理解 <strong>拦截器链、日志系统、权限控制</strong> 等机制的底层原理。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;责任链模式（Chain-of-Responsibility-Pattern）&quot;&gt;&lt;a href=&quot;#责任链模式（Chain-of-Responsibility-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;责任链模式（Chain of R</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
