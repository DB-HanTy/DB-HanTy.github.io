<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DB_platypuS`Blog</title>
  
  <subtitle>ä¹Ÿè®¸ä¸æ­£ç¡®ä½†å¹¶éæ— æ„ä¹‰</subtitle>
  <link href="https://db-hanty.github.io/atom.xml" rel="self"/>
  
  <link href="https://db-hanty.github.io/"/>
  <updated>2025-12-18T12:59:28.707Z</updated>
  <id>https://db-hanty.github.io/</id>
  
  <author>
    <name>DB_platypuS</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SpringCloud-Sentinelç¯‡</title>
    <link href="https://db-hanty.github.io/posts/395a166f.html"/>
    <id>https://db-hanty.github.io/posts/395a166f.html</id>
    <published>2025-12-18T20:43:12.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<p>å—¨ï¼Œå„ä½æŠ€æœ¯åŒå¥½ï¼ğŸ‘‹ ä»Šå¤©å’±ä»¬å°±æ¥èŠèŠå¾®æœåŠ¡æ¶æ„ä¸‹ä¿éšœç³»ç»Ÿç¨³å®šæ€§çš„è¶…çº§è‹±é›„â€”â€”<strong>Sentinel</strong>ï¼åœ¨å¦‚ä»Šè¿™ä¸ªé«˜å¹¶å‘ã€é«˜å‹åŠ›çš„äº’è”ç½‘ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬çš„æœåŠ¡å°±åƒæ˜¯åœ¨é’¢ä¸ä¸Šè·³èˆï¼Œä¸€ä¸ªä¸å°å¿ƒå°±å¯èƒ½å¼•å‘â€œé›ªå´©æ•ˆåº”â€ã€‚è€ŒSentinelï¼Œå°±æ˜¯é‚£ä½èƒ½åœ¨å…³é”®æ—¶åˆ»ä¸ºä½ æ‹‰èµ·é˜²æŠ¤ç½‘ã€ä¿é©¾æŠ¤æŠ¤èˆªçš„ç¡¬æ ¸ä¿é•–ï¼</p><h2 id="ğŸš€-Sentinel-åˆæ¢ï¼šå®ˆæŠ¤ä½ çš„å¾®æœåŠ¡"><a href="#ğŸš€-Sentinel-åˆæ¢ï¼šå®ˆæŠ¤ä½ çš„å¾®æœåŠ¡" class="headerlink" title="ğŸš€ Sentinel åˆæ¢ï¼šå®ˆæŠ¤ä½ çš„å¾®æœåŠ¡"></a>ğŸš€ Sentinel åˆæ¢ï¼šå®ˆæŠ¤ä½ çš„å¾®æœåŠ¡</h2><p>Sentinel æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€å¥—æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ç»„ä»¶ï¼Œè‡´åŠ›äºåœ¨åˆ†å¸ƒå¼æœåŠ¡çš„ç¨³å®šæ€§ä¸Šæä¾›â€œæœ€åä¸€å…¬é‡Œâ€çš„ä¿éšœã€‚ç®€å•æ¥è¯´ï¼Œå®ƒçš„æ ¸å¿ƒèŒè´£å°±æ˜¯ï¼š</p><ul><li><strong>æµé‡æ§åˆ¶ï¼ˆé™æµï¼‰</strong>ï¼šå½“è¯·æ±‚é‡è¶…å‡ºäº†æœåŠ¡çš„å¤„ç†èƒ½åŠ›ï¼ŒSentinel ä¼šåƒäº¤é€šè­¦å¯Ÿä¸€æ ·ï¼Œé™åˆ¶å¤šä½™çš„è¯·æ±‚è¿›å…¥ï¼Œé˜²æ­¢æœåŠ¡è¿‡è½½è€Œå´©æºƒã€‚</li><li><strong>ç†”æ–­é™çº§</strong>ï¼šå½“ä¾èµ–çš„æœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼ŒSentinel ä¼šè¿…é€Ÿâ€œç†”æ–­â€æ‰å¯¹æ•…éšœæœåŠ¡çš„è°ƒç”¨ï¼Œé¿å…å½“å‰æœåŠ¡è¢«æ‹–å®ï¼Œå¹¶æä¾›ä¸€ä¸ªâ€œå…œåº•â€çš„æ–¹æ¡ˆï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒä¸è‡³äºå¤ªå·®ã€‚</li></ul><p>å®ƒçš„å·¥ä½œåŸç†å…¶å®ä¹Ÿå¾ˆç›´è§‚ï¼š<strong>å®šä¹‰èµ„æº â†’ å®šä¹‰è§„åˆ™ â†’ æ‰§è¡Œç­–ç•¥</strong>ã€‚æˆ‘ä»¬æŠŠæœåŠ¡ä¸­çš„å…³é”®ä»£ç é€»è¾‘ï¼ˆæ¯”å¦‚ä¸€ä¸ªAPIæ¥å£ã€ä¸€ä¸ªæ–¹æ³•ï¼‰å®šä¹‰ä¸ºâ€œèµ„æºâ€ï¼Œç„¶åä¸ºè¿™äº›èµ„æºé…ç½®å„ç§â€œè§„åˆ™â€ï¼ˆæ¯”å¦‚QPSä¸èƒ½è¶…è¿‡100ï¼ŒæŸä¸ªä¾èµ–æœåŠ¡æ…¢äº†å°±ç†”æ–­ï¼‰ï¼ŒSentinelå°±ä¼šæ ¹æ®è¿™äº›è§„åˆ™å®æ—¶ç›‘æ§å¹¶è¿›è¡Œä¿æŠ¤ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/sentinel1.png" alt=""></p><h2 id="ğŸ› ï¸-æ•´åˆ-Sentinelï¼šè®©æœåŠ¡ç©¿ä¸Šâ€œé˜²å¼¹è¡£â€"><a href="#ğŸ› ï¸-æ•´åˆ-Sentinelï¼šè®©æœåŠ¡ç©¿ä¸Šâ€œé˜²å¼¹è¡£â€" class="headerlink" title="ğŸ› ï¸ æ•´åˆ Sentinelï¼šè®©æœåŠ¡ç©¿ä¸Šâ€œé˜²å¼¹è¡£â€"></a>ğŸ› ï¸ æ•´åˆ Sentinelï¼šè®©æœåŠ¡ç©¿ä¸Šâ€œé˜²å¼¹è¡£â€</h2><h3 id="åŸºç¡€åœºæ™¯ï¼šå¿«é€Ÿä¸Šæ‰‹"><a href="#åŸºç¡€åœºæ™¯ï¼šå¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="åŸºç¡€åœºæ™¯ï¼šå¿«é€Ÿä¸Šæ‰‹"></a>åŸºç¡€åœºæ™¯ï¼šå¿«é€Ÿä¸Šæ‰‹</h3><p>æƒ³è¦è®©ä½ çš„Spring Cloudåº”ç”¨ç”¨ä¸ŠSentinelï¼Ÿè¶…ç®€å•ï¼</p><ol><li><p><strong>å¯åŠ¨ Sentinel Dashboardï¼š</strong> é¦–å…ˆï¼Œä½ éœ€è¦ä¸€ä¸ªSentinelæ§åˆ¶å°æ¥å¯è§†åŒ–ç®¡ç†è§„åˆ™ã€‚é€šå¸¸æˆ‘ä»¬æ­é…Nacos Serverä¸€èµ·å¯åŠ¨Sentinelå®¢æˆ·ç«¯ï¼ŒDashboardå°±æ˜¯é‚£ä¸ªèƒ½è®©ä½ çœ‹è§â€œå›¾è¡¨â€å’Œâ€œè§„åˆ™â€çš„é…·ç‚«ç•Œé¢ï¼<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/sentinel2.png" alt=""></p></li><li><p><strong>å¼•å…¥ä¾èµ–ï¼š</strong> åœ¨ä½ çš„Spring Booté¡¹ç›®çš„ <code>pom.xml</code> é‡Œï¼ŒåŠ å…¥Sentinelçš„Starteä¾èµ–ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-sentinel<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½®è¿æ¥ï¼š</strong> å‘Šè¯‰ä½ çš„åº”ç”¨Sentinel Dashboardåœ¨å“ªé‡Œã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sentinel:</span></span><br><span class="line">  <span class="attr">transport:</span></span><br><span class="line">    <span class="attr">dashboard:</span> <span class="string">localhost:8081</span> <span class="comment"># Sentinel Dashboard çš„åœ°å€å’Œç«¯å£</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8719</span> <span class="comment"># å®¢æˆ·ç«¯ä¸Dashboardé€šè®¯çš„ç«¯å£ï¼Œå¦‚æœå†²çªå¯ä»¥æ¢ä¸€ä¸ª</span></span><br><span class="line">  <span class="attr">eager:</span> <span class="literal">true</span> <span class="comment"># è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºåº”ç”¨å¯åŠ¨æ—¶å°±ç«‹å³å‘Dashboardæ³¨å†Œæ‰€æœ‰è¢«@SentinelResourceæ³¨è§£çš„èµ„æºã€‚æ–¹ä¾¿Dashboardå‘ç°</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ ‡è®°ä½ çš„èµ„æºï¼š</strong> åœ¨ä½ æƒ³è¦ä¿æŠ¤çš„æ–¹æ³•ä¸Šï¼ŒåŠ ä¸Š <code>@SentinelResource</code> æ³¨è§£ï¼Œ<code>value</code> å°±æ˜¯èµ„æºçš„åç§°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾è¿™æ˜¯ä¸€ä¸ªè®¢å•æœåŠ¡çš„å®ç°ç±»æ–¹æ³•</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SentinelResource(value = &quot;createOrder&quot;)</span> <span class="comment">// æ ‡è®°è¿™ä¸ªæ–¹æ³•ä¸ºSentinelè¦ä¿æŠ¤çš„èµ„æº</span></span><br><span class="line">    <span class="keyword">public</span> Order <span class="title function_">createOrder</span><span class="params">(Long productId, Long userId)</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸šåŠ¡é€»è¾‘...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ æµæ§è§„åˆ™ï¼š</strong> å¯åŠ¨ä½ çš„åº”ç”¨ï¼Œè®¿é—®å‡ æ¬¡ <code>createOrder</code> æ–¹æ³•ã€‚ç„¶ååœ¨Sentinel Dashboardä¸Šï¼Œä½ å°±å¯ä»¥çœ‹åˆ° <code>createOrder</code> è¿™ä¸ªèµ„æºäº†ã€‚æ¥ç€ï¼Œä½ å¯ä»¥ä¸ºå®ƒæ·»åŠ ä¸€æ¡æµæ§è§„åˆ™ï¼Œæ¯”å¦‚ QPS ä¸èƒ½è¶…è¿‡ 1ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/sentinel3.png" alt=""></p><p>å½“ä½ å¤šæ¬¡å¿«é€Ÿè®¿é—®è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šå‘ç°è¶…è¿‡é˜ˆå€¼çš„è¯·æ±‚ä¼šè¢«Sentinelæ‹¦æˆªï¼Œå¹¶è¿”å›ä¸€ä¸ªé»˜è®¤çš„æç¤ºä¿¡æ¯ã€‚æ˜¯ä¸æ˜¯ç¬é—´æ„Ÿè§‰å®‰å…¨æ„Ÿçˆ†æ£šï¼Ÿ</p></li></ol><h2 id="âš ï¸-å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åœ°å‘Šè¯‰ç”¨æˆ·â€œæˆ‘è¢«é™æµäº†â€"><a href="#âš ï¸-å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åœ°å‘Šè¯‰ç”¨æˆ·â€œæˆ‘è¢«é™æµäº†â€" class="headerlink" title="âš ï¸ å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åœ°å‘Šè¯‰ç”¨æˆ·â€œæˆ‘è¢«é™æµäº†â€"></a>âš ï¸ å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åœ°å‘Šè¯‰ç”¨æˆ·â€œæˆ‘è¢«é™æµäº†â€</h2><p>é»˜è®¤çš„æç¤ºä¿¡æ¯å¾€å¾€ä¸å¤Ÿå‹å¥½ï¼Œæˆ‘ä»¬å¸Œæœ›ç»™ç”¨æˆ·ä¸€ä¸ªæ›´ä¸“ä¸šã€æ›´æ¸…æ™°çš„åé¦ˆã€‚Sentinelæä¾›äº†ä¸¤ç§ä¸»è¦çš„å¼‚å¸¸å¤„ç†æ–¹å¼ï¼šå…¨å±€Webæ¥å£å¼‚å¸¸å¤„ç†å’Œ <code>@SentinelResource</code> æ³¨è§£çš„å…œåº•å›è°ƒã€‚</p><h3 id="Webæ¥å£ï¼šå…¨å±€å¤„ç†-BlockException"><a href="#Webæ¥å£ï¼šå…¨å±€å¤„ç†-BlockException" class="headerlink" title="Webæ¥å£ï¼šå…¨å±€å¤„ç† BlockException"></a>Webæ¥å£ï¼šå…¨å±€å¤„ç† BlockException</h3><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨å±€çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œä¸“é—¨ç”¨æ¥æ•è·SentinelæŠ›å‡ºçš„ <code>BlockException</code>ã€‚è¿™æ ·ï¼Œå½“ä»»ä½•è¢«Sentinelé™åˆ¶çš„è¯·æ±‚å‘ç”Ÿæ—¶ï¼Œéƒ½èƒ½è¿”å›ç»Ÿä¸€çš„ã€å‹å¥½çš„JSONæ ¼å¼é”™è¯¯ä¿¡æ¯ã€‚</p><ol><li><p><strong>åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨ <code>MyBlockExceptionHandler</code>ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.csp.sentinel.slots.block.BlockException;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.csp.sentinel.adapter.servlet.callback.BlockExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span> <span class="comment">// åˆ«å¿˜äº†è®©Springç®¡ç†å®ƒ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBlockExceptionHandler</span> <span class="keyword">implements</span> <span class="title class_">BlockExceptionHandler</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>(); <span class="comment">// ç”¨æ¥æŠŠJavaå¯¹è±¡è½¬æˆJSON</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                       HttpServletResponse response,</span></span><br><span class="line"><span class="params">                       String s, BlockException e)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>); <span class="comment">// è®¾ç½®å“åº”ç±»å‹</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„Rç±»æ„å»ºé”™è¯¯å“åº”</span></span><br><span class="line">        <span class="type">R</span> <span class="variable">error</span> <span class="operator">=</span> R.error(<span class="number">500</span>, s + <span class="string">&quot;è¢«Sentinelé™åˆ¶äº†ï¼ŒåŸå› ï¼š&quot;</span> + e.getClass().getSimpleName()); <span class="comment">// è·å–å¼‚å¸¸ç±»å‹å</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> objectMapper.writeValueAsString(error); <span class="comment">// è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²</span></span><br><span class="line">        writer.write(json);</span><br><span class="line">        writer.flush();</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»ºç»Ÿä¸€å“åº”å¯¹è±¡ <code>R</code>ï¼š</strong> ä¸ºäº†è®©å‰ç«¯æ‹¿åˆ°æ ‡å‡†çš„å“åº”æ ¼å¼ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„è¿”å›ç»“æœç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Data; <span class="comment">// ä½¿ç”¨Lombokç®€åŒ–ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.setCode(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">error</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.setCode(<span class="number">500</span>);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">(String msg,Object data)</span>&#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.setCode(<span class="number">200</span>);</span><br><span class="line">        r.setMsg(msg);</span><br><span class="line">        r.setData(data);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">error</span><span class="params">(Integer code,String msg)</span>&#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.setCode(code);</span><br><span class="line">        r.setMsg(msg);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="SentinelResource-æ³¨è§£ï¼šä¸“å±å…œåº•å›è°ƒ"><a href="#SentinelResource-æ³¨è§£ï¼šä¸“å±å…œåº•å›è°ƒ" class="headerlink" title="@SentinelResource æ³¨è§£ï¼šä¸“å±å…œåº•å›è°ƒ"></a><code>@SentinelResource</code> æ³¨è§£ï¼šä¸“å±å…œåº•å›è°ƒ</h3><p>å¦‚æœä½ æƒ³é’ˆå¯¹æŸä¸ªç‰¹å®šçš„æ–¹æ³•è¿›è¡Œæ›´ç»†ç²’åº¦çš„å¼‚å¸¸å¤„ç†å’Œé™çº§ï¼Œ<code>@SentinelResource</code> æä¾›äº† <code>blockHandler</code> å±æ€§ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªâ€œå…œåº•å›è°ƒâ€æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.csp.sentinel.annotation.SentinelResource;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.csp.sentinel.slots.block.BlockException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡è®¾ Order å’Œ Product æ˜¯ä½ çš„å®ä½“ç±»</span></span><br><span class="line"><span class="comment">// Product productFeignClient; // é€šè¿‡Feignè°ƒç”¨å•†å“æœåŠ¡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SentinelResource(value = &quot;createOrder&quot;, blockHandler = &quot;createOrderFallback&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Order <span class="title function_">createOrder</span><span class="params">(Long productId, Long userId)</span> &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Feignå®Œæˆè¿œç¨‹è°ƒç”¨è·å–å•†å“ä¿¡æ¯</span></span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> productFeignClient.getProductById(productId);</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">        order.setId(<span class="number">1L</span>);</span><br><span class="line">        order.setTotalAmount(product.getPrice().multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(product.getNum())));</span><br><span class="line">        order.setUserId(userId);</span><br><span class="line">        order.setNickName(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        order.setAddress(<span class="string">&quot;æŸæŸå¸‚æŸæŸåŒº&quot;</span>);</span><br><span class="line">        order.setProductList(Arrays.asList(product));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> order;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * createOrder æ–¹æ³•çš„å…œåº•å›è°ƒæ–¹æ³•</span></span><br><span class="line"><span class="comment">     * æ³¨æ„ï¼š</span></span><br><span class="line"><span class="comment">     * 1. æ–¹æ³•ç­¾åè¦å’ŒåŸæ–¹æ³•ä¿æŒä¸€è‡´ï¼Œé¢å¤–å¤šä¸€ä¸ª BlockException å‚æ•°</span></span><br><span class="line"><span class="comment">     * 2. æ–¹æ³•å¿…é¡»æ˜¯ public</span></span><br><span class="line"><span class="comment">     * 3. é»˜è®¤å’ŒåŸæ–¹æ³•åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œéœ€è¦æŒ‡å®š blockHandlerClass</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Order <span class="title function_">createOrderFallback</span><span class="params">(Long productId, Long userId, BlockException e)</span>&#123;</span><br><span class="line">        <span class="comment">// å½“ createOrder è¢«é™æµæˆ–é™çº§æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;createOrderFallback è¢«è§¦å‘ï¼Œå¼‚å¸¸ä¿¡æ¯ï¼š&quot;</span> + e.getClass().getSimpleName());</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">        order.setId(<span class="number">0L</span>); <span class="comment">// è¿”å›ä¸€ä¸ªâ€œå‡â€è®¢å•æˆ–é”™è¯¯è®¢å•</span></span><br><span class="line">        order.setTotalAmount(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;0&quot;</span>));</span><br><span class="line">        order.setUserId(userId);</span><br><span class="line">        order.setNickName(<span class="string">&quot;æœªçŸ¥ç”¨æˆ·&quot;</span>);</span><br><span class="line">        order.setAddress(<span class="string">&quot;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•ã€‚å¼‚å¸¸åŸå› ï¼š&quot;</span> + e.getClass().getSimpleName());</span><br><span class="line">        <span class="keyword">return</span> order;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼‚å¸¸å¤„ç†ä¼˜å…ˆçº§æ€»ç»“"><a href="#å¼‚å¸¸å¤„ç†ä¼˜å…ˆçº§æ€»ç»“" class="headerlink" title="å¼‚å¸¸å¤„ç†ä¼˜å…ˆçº§æ€»ç»“"></a>å¼‚å¸¸å¤„ç†ä¼˜å…ˆçº§æ€»ç»“</h3><p>å¾ˆç®€å•ï¼š</p><ul><li>å¦‚æœ <code>@SentinelResource</code> æ³¨è§£æŒ‡å®šäº† <code>blockHandler</code>ï¼Œé‚£å®ƒä¼šä¼˜å…ˆæ‰§è¡Œå…œåº•å›è°ƒæ–¹æ³•ã€‚</li><li>å¦‚æœæ²¡æœ‰æŒ‡å®š <code>blockHandler</code>ï¼Œæˆ–è€…å…œåº•å›è°ƒæ–¹æ³•æœ¬èº«ä¹Ÿå‡ºé—®é¢˜äº†ï¼Œé‚£å°±ä¼šäº¤ç»™å…¨å±€çš„ <code>BlockExceptionHandler</code> æ¥å¤„ç†ã€‚</li><li>å†å¾€åï¼Œå°±æ˜¯Spring Booté»˜è®¤çš„å¼‚å¸¸å¤„ç†æœºåˆ¶äº†ã€‚</li></ul><h2 id="ğŸš¦-æµæ§è§„åˆ™ï¼šå¦‚ä½•ç®¡ç†ä½ çš„æµé‡ï¼Ÿ"><a href="#ğŸš¦-æµæ§è§„åˆ™ï¼šå¦‚ä½•ç®¡ç†ä½ çš„æµé‡ï¼Ÿ" class="headerlink" title="ğŸš¦ æµæ§è§„åˆ™ï¼šå¦‚ä½•ç®¡ç†ä½ çš„æµé‡ï¼Ÿ"></a>ğŸš¦ æµæ§è§„åˆ™ï¼šå¦‚ä½•ç®¡ç†ä½ çš„æµé‡ï¼Ÿ</h2><p>æµæ§ï¼ˆRate Limitingï¼‰æ˜¯Sentinelæœ€æ ¸å¿ƒçš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒçš„ç›®æ ‡å°±æ˜¯<strong>é™åˆ¶å¤šä½™è¯·æ±‚ï¼Œä»è€Œä¿æŠ¤ç³»ç»Ÿèµ„æºä¸è¢«è€—å°½</strong>ã€‚</p><h3 id="æµæ§æ¨¡å¼ï¼šé™æµçš„â€œå§¿åŠ¿â€"><a href="#æµæ§æ¨¡å¼ï¼šé™æµçš„â€œå§¿åŠ¿â€" class="headerlink" title="æµæ§æ¨¡å¼ï¼šé™æµçš„â€œå§¿åŠ¿â€"></a>æµæ§æ¨¡å¼ï¼šé™æµçš„â€œå§¿åŠ¿â€</h3><p>Sentinelæä¾›äº†å¤šç§æµæ§æ¨¡å¼ï¼Œæ¥åº”å¯¹ä¸åŒçš„åœºæ™¯ï¼š</p><ul><li><strong>ç›´æ¥ (Direct)ï¼š</strong> æœ€å¸¸è§çš„æ¨¡å¼ï¼Œç›´æ¥é’ˆå¯¹å½“å‰èµ„æºè¿›è¡Œé™æµã€‚</li><li><strong>å…³è” (Associate)ï¼š</strong> å½“ä¸€ä¸ªèµ„æºè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œå»é™åˆ¶å¦ä¸€ä¸ªå…³è”èµ„æºã€‚ä¾‹å¦‚ï¼Œæ”¯ä»˜æ¥å£çš„å‹åŠ›å¤§æ—¶ï¼Œå¯ä»¥é™åˆ¶è®¢å•åˆ›å»ºæ¥å£çš„æµé‡ï¼Œé¿å…æ”¯ä»˜é“¾è·¯çš„è¿›ä¸€æ­¥æ‹¥å µã€‚</li><li><strong>é“¾è·¯ (Link)ï¼š</strong> æ ¹æ®è°ƒç”¨é“¾è·¯ï¼ˆè¯·æ±‚æ¥æºï¼‰æ¥é™æµã€‚æ¯”å¦‚ï¼Œä»AæœåŠ¡è°ƒæ¥çš„è¯·æ±‚å’Œä»BæœåŠ¡è°ƒæ¥çš„è¯·æ±‚ï¼Œå³ä½¿éƒ½è°ƒç”¨äº†åŒä¸€ä¸ªCæœåŠ¡çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åˆ†åˆ«è®¾ç½®ä¸åŒçš„é™æµè§„åˆ™ã€‚</li></ul><h3 id="æµæ§æ•ˆæœï¼šè¢«é™æµäº†æ€ä¹ˆâ€œç½šâ€ï¼Ÿ"><a href="#æµæ§æ•ˆæœï¼šè¢«é™æµäº†æ€ä¹ˆâ€œç½šâ€ï¼Ÿ" class="headerlink" title="æµæ§æ•ˆæœï¼šè¢«é™æµäº†æ€ä¹ˆâ€œç½šâ€ï¼Ÿ"></a>æµæ§æ•ˆæœï¼šè¢«é™æµäº†æ€ä¹ˆâ€œç½šâ€ï¼Ÿ</h3><p>å½“è¯·æ±‚è¢«é™æµåï¼ŒSentinelä¼šæ ¹æ®ä½ é…ç½®çš„â€œæµæ§æ•ˆæœâ€è¿›è¡Œä¸åŒçš„å¤„ç†ï¼š</p><ul><li><strong>å¿«é€Ÿå¤±è´¥ (Fail Fast)ï¼š</strong> è¿™æ˜¯é»˜è®¤ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ•ˆæœã€‚ç›´æ¥æ‹’ç»è¯·æ±‚å¹¶æŠ›å‡º <code>BlockException</code>ã€‚<br><strong>æ³¨æ„ï¼šåªæœ‰å¿«é€Ÿå¤±è´¥æ”¯æŒæµæ§æ¨¡å¼ï¼ˆç›´æ¥ã€å…³è”ã€é“¾è·¯ï¼‰çš„è®¾ç½®ã€‚</strong></li><li><strong>Warm Up (é¢„çƒ­)ï¼š</strong> åœ¨ç³»ç»Ÿå¯åŠ¨åˆæœŸï¼Œæµé‡é˜ˆå€¼ä¼šé€æ¸å‡é«˜ï¼Œç»™ç³»ç»Ÿä¸€ä¸ªâ€œé¢„çƒ­â€çš„è¿‡ç¨‹ï¼Œé¿å…å†·å¯åŠ¨æ—¶çªç„¶æ¶Œå…¥å¤§é‡è¯·æ±‚å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</li><li><strong>æ’é˜Ÿç­‰å¾… (Rate Limiter)ï¼š</strong> æ‰€æœ‰è¯·æ±‚ä¼šåŒ€é€Ÿé€šè¿‡ï¼Œè¯·æ±‚ä¼šæ’é˜Ÿç­‰å¾…ï¼Œé€‚ç”¨äºè¯·æ±‚å¤„ç†æ—¶é—´æ¯”è¾ƒå‡åŒ€çš„åœºæ™¯ã€‚</li></ul><h2 id="ğŸ’€-ç†”æ–­é™çº§ï¼šé˜²æ­¢é›ªå´©çš„â€œæ ¸æ­¦å™¨â€"><a href="#ğŸ’€-ç†”æ–­é™çº§ï¼šé˜²æ­¢é›ªå´©çš„â€œæ ¸æ­¦å™¨â€" class="headerlink" title="ğŸ’€ ç†”æ–­é™çº§ï¼šé˜²æ­¢é›ªå´©çš„â€œæ ¸æ­¦å™¨â€"></a>ğŸ’€ ç†”æ–­é™çº§ï¼šé˜²æ­¢é›ªå´©çš„â€œæ ¸æ­¦å™¨â€</h2><p>ç†”æ–­é™çº§å°±åƒç”µè·¯ä¸­çš„æ–­è·¯å™¨ã€‚å½“æŸä¸ªä¾èµ–çš„æœåŠ¡å˜å¾—ä¸ç¨³å®šã€å“åº”ç¼“æ…¢ç”šè‡³å®•æœºæ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä¸€ç›´å»å°è¯•è°ƒç”¨å®ƒï¼Œè¿™æ ·åªä¼šæµªè´¹æ›´å¤šçš„èµ„æºï¼Œå¹¶å¯èƒ½æŠŠå½“å‰æœåŠ¡ä¹Ÿæ‹–å®ï¼Œæœ€ç»ˆå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒï¼ˆè¿™å°±æ˜¯æ‰€è°“çš„â€œé›ªå´©æ•ˆåº”â€ï¼‰ã€‚</p><p><strong>ç†”æ–­é™çº§çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</strong></p><ul><li><strong>åˆ‡æ–­ä¸ç¨³å®šè°ƒç”¨</strong>ï¼šå½“è¢«è°ƒç”¨çš„æœåŠ¡å‡ºç°å¼‚å¸¸æˆ–å»¶è¿Ÿï¼Œä¸»åŠ¨åˆ‡æ–­ä¸å®ƒçš„è¿æ¥ã€‚</li><li><strong>å¿«é€Ÿè¿”å›ä¸ç§¯å‹</strong>ï¼šä¸å†ç­‰å¾…ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªé¢„è®¾çš„é”™è¯¯æˆ–é™çº§æ•°æ®ã€‚</li><li><strong>é¿å…é›ªå´©æ•ˆåº”</strong>ï¼šä¿æŠ¤è‡ªèº«ï¼Œé˜²æ­¢é—®é¢˜è”“å»¶ã€‚</li></ul><p><strong>æœ€ä½³å®è·µï¼šç†”æ–­é™çº§ä½œä¸ºä¿æŠ¤è‡ªèº«çš„æ‰‹æ®µï¼Œé€šå¸¸åœ¨å®¢æˆ·ç«¯è¿›è¡Œé…ç½®ã€‚</strong> ä¹Ÿå°±æ˜¯è¯´ï¼ŒAæœåŠ¡è°ƒç”¨BæœåŠ¡æ—¶ï¼Œç†”æ–­è§„åˆ™åº”è¯¥é…åœ¨AæœåŠ¡è°ƒç”¨BæœåŠ¡çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯BæœåŠ¡è‡ªèº«ã€‚</p><!-- å›¾5: å‡è®¾è¿™é‡Œæ˜¯Sentinel Dashboardä¸Šç†”æ–­é™çº§è§„åˆ™é…ç½®çš„æˆªå›¾ --><p>Sentinelæä¾›äº†å¤šç§ç†”æ–­ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯æ–­è·¯å™¨çš„â€œè§¦å‘æ¡ä»¶â€ï¼š</p><h3 id="æ…¢è°ƒç”¨æ¯”ä¾‹-SLOW-REQUEST-RATIO"><a href="#æ…¢è°ƒç”¨æ¯”ä¾‹-SLOW-REQUEST-RATIO" class="headerlink" title="æ…¢è°ƒç”¨æ¯”ä¾‹ (SLOW_REQUEST_RATIO)"></a>æ…¢è°ƒç”¨æ¯”ä¾‹ (SLOW_REQUEST_RATIO)</h3><p>å¦‚æœå¯¹æŸä¸ªèµ„æºçš„è°ƒç”¨ï¼Œå…¶å¹³å‡å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼ï¼ˆæ…¢è°ƒç”¨RTï¼‰çš„è¯·æ±‚æ¯”ä¾‹è¶…è¿‡è®¾å®šçš„é˜ˆå€¼ï¼Œå¹¶ä¸”åœ¨ç»Ÿè®¡çª—å£å†…è¯·æ±‚æ•°å¤§äºæœ€å°è¯·æ±‚æ•°ï¼Œåˆ™è§¦å‘ç†”æ–­ã€‚</p><h3 id="å¼‚å¸¸æ¯”ä¾‹-ERROR-RATIO"><a href="#å¼‚å¸¸æ¯”ä¾‹-ERROR-RATIO" class="headerlink" title="å¼‚å¸¸æ¯”ä¾‹ (ERROR_RATIO)"></a>å¼‚å¸¸æ¯”ä¾‹ (ERROR_RATIO)</h3><p>å½“å¯¹æŸä¸ªèµ„æºçš„è°ƒç”¨å‡ºç°ä¸šåŠ¡å¼‚å¸¸çš„æ¯”ä¾‹è¶…è¿‡è®¾å®šçš„é˜ˆå€¼ï¼Œå¹¶ä¸”åœ¨ç»Ÿè®¡çª—å£å†…è¯·æ±‚æ•°å¤§äºæœ€å°è¯·æ±‚æ•°ï¼Œåˆ™è§¦å‘ç†”æ–­ã€‚æ¯”å¦‚10æ¬¡è¯·æ±‚é‡Œæœ‰6æ¬¡æŠ›å¼‚å¸¸ï¼Œå°±ç›´æ¥ç†”æ–­ä¸è¿œç¨‹è°ƒç”¨äº†ã€‚</p><h3 id="å¼‚å¸¸æ•°-ERROR-COUNT"><a href="#å¼‚å¸¸æ•°-ERROR-COUNT" class="headerlink" title="å¼‚å¸¸æ•° (ERROR_COUNT)"></a>å¼‚å¸¸æ•° (ERROR_COUNT)</h3><p>ç»Ÿè®¡çª—å£å†…ï¼Œå½“å¼‚å¸¸æ€»æ•°è¶…è¿‡è®¾å®šçš„é˜ˆå€¼ï¼Œåˆ™è§¦å‘ç†”æ–­ã€‚</p><h2 id="ğŸ”¥-çƒ­ç‚¹å‚æ•°é™æµï¼šç²¾ç»†åŒ–æ§åˆ¶çš„åˆ©å™¨"><a href="#ğŸ”¥-çƒ­ç‚¹å‚æ•°é™æµï¼šç²¾ç»†åŒ–æ§åˆ¶çš„åˆ©å™¨" class="headerlink" title="ğŸ”¥ çƒ­ç‚¹å‚æ•°é™æµï¼šç²¾ç»†åŒ–æ§åˆ¶çš„åˆ©å™¨"></a>ğŸ”¥ çƒ­ç‚¹å‚æ•°é™æµï¼šç²¾ç»†åŒ–æ§åˆ¶çš„åˆ©å™¨</h2><p>çƒ­ç‚¹å‚æ•°é™æµï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯¹èµ„æºä¸­â€œçƒ­ç‚¹â€çš„å‚æ•°è¿›è¡Œé™æµã€‚è¿™é‡Œçš„â€œçƒ­ç‚¹â€æŒ‡çš„æ˜¯é‚£äº›ç»å¸¸è®¿é—®çš„æ•°æ®æˆ–è€…å‚æ•°ã€‚</p><h3 id="åœºæ™¯ä¸¾ä¾‹"><a href="#åœºæ™¯ä¸¾ä¾‹" class="headerlink" title="åœºæ™¯ä¸¾ä¾‹"></a>åœºæ™¯ä¸¾ä¾‹</h3><ul><li><strong>éœ€æ±‚1ï¼šæ¯ä¸ªç”¨æˆ·ç§’æ€QPSä¸å¾—è¶…è¿‡1ï¼ˆç§’æ€ä¸‹å• userId çº§åˆ«ï¼‰</strong><ul><li>æ•ˆæœï¼šåªæœ‰æºå¸¦ <code>userId</code> å‚æ•°çš„è¯·æ±‚æ‰å‚ä¸æµæ§ã€‚ä¸æºå¸¦è¯¥å‚æ•°çš„è¯·æ±‚ï¼Œæˆ–è€…å…¶ä»–å‚æ•°çš„è¯·æ±‚ï¼Œä¸å‚ä¸æ­¤è§„åˆ™çš„é™æµã€‚</li></ul></li><li><strong>éœ€æ±‚2ï¼š6å·ç”¨æˆ·æ˜¯VVIPï¼Œä¸é™åˆ¶QPSï¼ˆä¾‹å¤–æƒ…å†µï¼‰</strong><ul><li>ä½ å¯ä»¥åœ¨çƒ­ç‚¹å‚æ•°è§„åˆ™ä¸­ä¸º <code>userId</code> = 6 è®¾ç½®ä¸€ä¸ªä¾‹å¤–ï¼Œå°†å®ƒçš„QPSé˜ˆå€¼è®¾ç½®ä¸ºä¸€ä¸ªéå¸¸å¤§çš„å€¼æˆ–ä¸é™æµã€‚</li></ul></li><li><strong>éœ€æ±‚3ï¼š666å·æ˜¯ä¸‹æ¶å•†å“ï¼Œä¸å…è®¸è®¿é—®</strong><ul><li>ä½ ä¹Ÿå¯ä»¥å¯¹ <code>productId</code> = 666 è®¾ç½®QPSä¸º0ï¼Œç›´æ¥æ‹’ç»è®¿é—®ã€‚</li></ul></li></ul><h3 id="çƒ­ç‚¹å‚æ•°é™æµçš„å…œåº•å›è°ƒ"><a href="#çƒ­ç‚¹å‚æ•°é™æµçš„å…œåº•å›è°ƒ" class="headerlink" title="çƒ­ç‚¹å‚æ•°é™æµçš„å…œåº•å›è°ƒ"></a>çƒ­ç‚¹å‚æ•°é™æµçš„å…œåº•å›è°ƒ</h3><p>å½“çƒ­ç‚¹å‚æ•°é™æµè¢«è§¦å‘æ—¶ï¼ŒåŒæ ·å¯ä»¥é…ç½®å…œåº•æ–¹æ³•ã€‚å®ƒçš„æ–¹æ³•ç­¾åä¸æ™®é€š <code>blockHandler</code> ç±»ä¼¼ï¼Œä½†å‚æ•°éœ€è¦åŒ…å«<strong>åŸå§‹æ–¹æ³•çš„å‚æ•°</strong>å’Œæœ€åçš„ <code>Throwable exception</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SentinelResource(value = &quot;buyItem&quot;, blockHandler = &quot;buyItemHotspotFallback&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Order <span class="title function_">buyItem</span><span class="params">(Long userId, Long itemId)</span> &#123;</span><br><span class="line">    <span class="comment">// ... è´­ä¹°é€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çƒ­ç‚¹å‚æ•°é™æµçš„å…œåº•æ–¹æ³•</span></span><br><span class="line"><span class="comment">// å‚æ•°éœ€è¦åŒ…å«åŸæ–¹æ³•æ‰€æœ‰å‚æ•°ï¼Œä»¥åŠä¸€ä¸ª Throwable æˆ– BlockException</span></span><br><span class="line"><span class="keyword">public</span> Order <span class="title function_">buyItemHotspotFallback</span><span class="params">(Long userId, Long itemId, Throwable exception)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çƒ­ç‚¹å‚æ•°é™æµè§¦å‘ï¼Œç”¨æˆ·IDï¼š&quot;</span> + userId + <span class="string">&quot;, å•†å“IDï¼š&quot;</span> + itemId + <span class="string">&quot;, å¼‚å¸¸ï¼š&quot;</span> + exception.getClass().getSimpleName());</span><br><span class="line">    <span class="type">Order</span> <span class="variable">fallbackOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">    fallbackOrder.setMsg(<span class="string">&quot;ç³»ç»Ÿç¹å¿™ï¼Œæˆ–æ‚¨è®¿é—®çš„å•†å“/ç”¨æˆ·å—é™ã€‚&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> fallbackOrder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸ‰-æ€»ç»“ä¸å±•æœ›"><a href="#ğŸ‰-æ€»ç»“ä¸å±•æœ›" class="headerlink" title="ğŸ‰ æ€»ç»“ä¸å±•æœ›"></a>ğŸ‰ æ€»ç»“ä¸å±•æœ›</h2><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯å¯¹Sentinelçš„æœåŠ¡ä¿æŠ¤èƒ½åŠ›æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ï¼Ÿ</p><p>SentinelåŠŸèƒ½å¼ºå¤§ï¼Œé™¤äº†æˆ‘ä»¬ä»Šå¤©è¯¦ç»†è®²è§£çš„æµæ§ã€ç†”æ–­é™çº§ã€çƒ­ç‚¹å‚æ•°é™æµå’Œå¼‚å¸¸å¤„ç†å¤–ï¼Œè¿˜æœ‰ç³»ç»Ÿè‡ªé€‚åº”é™æµã€æˆæƒè§„åˆ™ç­‰æ›´å¤šé«˜çº§ç©æ³•ã€‚</p><p>ä½†ä½œä¸ºåˆå­¦è€…æˆ–æ—¥å¸¸å¼€å‘ï¼Œæœ€æ ¸å¿ƒã€æœ€éœ€è¦æŒæ¡çš„å°±æ˜¯ï¼š</p><ol><li><strong>æµæ§è§„åˆ™å’Œç†”æ–­é™çº§è§„åˆ™çš„æ­£ç¡®é…ç½®å’Œç†è§£ã€‚</strong></li><li><strong><code>@SentinelResource</code> æ³¨è§£çš„ä½¿ç”¨ï¼Œä»¥åŠé…å¥—çš„å…œåº•å›è°ƒæ–¹æ³•ï¼ˆ<code>blockHandler</code>ï¼‰çš„å®ç°ã€‚</strong></li><li><strong>å…¨å±€ <code>BlockExceptionHandler</code> æ¥æä¾›ç»Ÿä¸€å‹å¥½çš„å¼‚å¸¸å“åº”ã€‚</strong></li></ol><p>æŒæ¡äº†è¿™äº›ï¼Œä½ å°±å·²ç»èƒ½ä¸ºä½ çš„å¾®æœåŠ¡ç©¿ä¸Šåšå›ºçš„â€œé˜²å¼¹è¡£â€ï¼Œå¤§å¤§æå‡ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒäº†ï¼ğŸ’ª ç»§ç»­æ¢ç´¢ï¼Œè®©ä½ çš„æœåŠ¡æ›´å¥å£®å§ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å—¨ï¼Œå„ä½æŠ€æœ¯åŒå¥½ï¼ğŸ‘‹ ä»Šå¤©å’±ä»¬å°±æ¥èŠèŠå¾®æœåŠ¡æ¶æ„ä¸‹ä¿éšœç³»ç»Ÿç¨³å®šæ€§çš„è¶…çº§è‹±é›„â€”â€”&lt;strong&gt;Sentinel&lt;/strong&gt;ï¼åœ¨å¦‚ä»Šè¿™ä¸ªé«˜å¹¶å‘ã€é«˜å‹åŠ›çš„äº’è”ç½‘ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬çš„æœåŠ¡å°±åƒæ˜¯åœ¨é’¢ä¸ä¸Šè·³èˆï¼Œä¸€ä¸ªä¸å°å¿ƒå°±å¯èƒ½å¼•å‘â€œé›ªå´©æ•ˆåº”â€ã€‚è€ŒSentinelï¼Œå°±æ˜¯é‚£ä½èƒ½åœ¨å…³é”®æ—¶</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¾®æœåŠ¡" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloud-OpenFeignç¯‡</title>
    <link href="https://db-hanty.github.io/posts/fa917a34.html"/>
    <id>https://db-hanty.github.io/posts/fa917a34.html</id>
    <published>2025-12-05T20:00:13.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-OpenFeign-å®æˆ˜è¯¦è§£"><a href="#Spring-Cloud-OpenFeign-å®æˆ˜è¯¦è§£" class="headerlink" title="Spring Cloud OpenFeign å®æˆ˜è¯¦è§£"></a>Spring Cloud OpenFeign å®æˆ˜è¯¦è§£</h1><h2 id="ä¸€ã€OpenFeign-æ¦‚è¿°"><a href="#ä¸€ã€OpenFeign-æ¦‚è¿°" class="headerlink" title="ä¸€ã€OpenFeign æ¦‚è¿°"></a>ä¸€ã€OpenFeign æ¦‚è¿°</h2><p>OpenFeign æ˜¯ Spring Cloud ä¸­ç”¨äº <strong>è¿œç¨‹æœåŠ¡è°ƒç”¨</strong> çš„ç»„ä»¶ï¼Œå®ƒå°è£…äº† HTTP è¯·æ±‚ï¼Œè®©ä½ å¯ä»¥åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æ¥å£ï¼Œæ˜¯ <code>RestTemplate</code> çš„å£°æ˜å¼å‡çº§ç‰ˆã€‚</p><p>å…¶ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>æ³¨è§£é©±åŠ¨</strong>ï¼šä½¿ç”¨ç±»ä¼¼ Controller çš„æ³¨è§£æ–¹å¼å®šä¹‰è¿œç¨‹è°ƒç”¨ã€‚</li><li><strong>å¯è¯»æ€§å¼º</strong>ï¼šæ–¹æ³•å³æ¥å£ï¼Œè°ƒç”¨å³ä½¿ç”¨ã€‚</li><li><strong>é«˜åº¦é›†æˆ</strong>ï¼šæ”¯æŒè´Ÿè½½å‡è¡¡ã€æ—¥å¿—ã€é‡è¯•ã€æ‹¦æˆªå™¨ã€Fallback ç­‰é«˜çº§ç‰¹æ€§ã€‚</li></ul><hr><h2 id="äºŒã€è¿œç¨‹è°ƒç”¨ï¼ˆåŸºç¡€ç”¨æ³•ï¼‰"><a href="#äºŒã€è¿œç¨‹è°ƒç”¨ï¼ˆåŸºç¡€ç”¨æ³•ï¼‰" class="headerlink" title="äºŒã€è¿œç¨‹è°ƒç”¨ï¼ˆåŸºç¡€ç”¨æ³•ï¼‰"></a>äºŒã€è¿œç¨‹è°ƒç”¨ï¼ˆåŸºç¡€ç”¨æ³•ï¼‰</h2><h3 id="1-å¼•å…¥ä¾èµ–"><a href="#1-å¼•å…¥ä¾èµ–" class="headerlink" title="1. å¼•å…¥ä¾èµ–"></a>1. å¼•å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-å®šä¹‰è¿œç¨‹æœåŠ¡å®¢æˆ·ç«¯"><a href="#2-å®šä¹‰è¿œç¨‹æœåŠ¡å®¢æˆ·ç«¯" class="headerlink" title="2. å®šä¹‰è¿œç¨‹æœåŠ¡å®¢æˆ·ç«¯"></a>2. å®šä¹‰è¿œç¨‹æœåŠ¡å®¢æˆ·ç«¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;service-product&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/product/&#123;id&#125;&quot;)</span></span><br><span class="line">    Product <span class="title function_">getProductById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li><code>@FeignClient</code> æŒ‡å®šè¿œç¨‹æœåŠ¡åç§°ã€‚</li><li><code>@GetMapping</code>ã€<code>@PostMapping</code> ç­‰æ³¨è§£å˜ä¸ºâ€œ<strong>å‘é€è¯·æ±‚</strong>â€çš„æ„æ€ï¼Œè€Œéæ¥æ”¶ã€‚</li></ul><h3 id="3-å¯åŠ¨ç±»å¯ç”¨-Feign"><a href="#3-å¯åŠ¨ç±»å¯ç”¨-Feign" class="headerlink" title="3. å¯åŠ¨ç±»å¯ç”¨ Feign"></a>3. å¯åŠ¨ç±»å¯ç”¨ Feign</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderMainApplication</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ä½¿ç”¨-Feign-è°ƒç”¨æœåŠ¡"><a href="#4-ä½¿ç”¨-Feign-è°ƒç”¨æœåŠ¡" class="headerlink" title="4. ä½¿ç”¨ Feign è°ƒç”¨æœåŠ¡"></a>4. ä½¿ç”¨ Feign è°ƒç”¨æœåŠ¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">ProductFeignClient productFeignClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Order <span class="title function_">createOrder</span><span class="params">(Long productId, Long userId)</span> &#123;</span><br><span class="line">    <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> productFeignClient.getProductById(productId);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€è°ƒç”¨ç¬¬ä¸‰æ–¹-APIï¼ˆURL-æ¨¡å¼ï¼‰"><a href="#ä¸‰ã€è°ƒç”¨ç¬¬ä¸‰æ–¹-APIï¼ˆURL-æ¨¡å¼ï¼‰" class="headerlink" title="ä¸‰ã€è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼ˆURL æ¨¡å¼ï¼‰"></a>ä¸‰ã€è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼ˆURL æ¨¡å¼ï¼‰</h2><p>é€‚ç”¨äºéæ³¨å†Œä¸­å¿ƒç®¡ç†çš„æœåŠ¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;weather-client&quot;, url = &quot;å¤©æ°”APIåœ°å€&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">WeatherFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/weather&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getWeather</span><span class="params">(<span class="meta">@RequestHeader(&quot;Authorization&quot;)</span> String auth,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestParam(&quot;token&quot;)</span> String token,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestParam(&quot;cityId&quot;)</span> String cityId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeatherTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    WeatherFeignClient weatherFeignClient;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        weatherFeignClient.getWeather(<span class="string">&quot;Bearer 123&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="string">&quot;101010100&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨å¤©æ°”æœåŠ¡æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€OpenFeign-è¿›é˜¶ç”¨æ³•"><a href="#å››ã€OpenFeign-è¿›é˜¶ç”¨æ³•" class="headerlink" title="å››ã€OpenFeign è¿›é˜¶ç”¨æ³•"></a>å››ã€OpenFeign è¿›é˜¶ç”¨æ³•</h2><hr><h2 id="1-Feign-æ—¥å¿—æ‰“å°"><a href="#1-Feign-æ—¥å¿—æ‰“å°" class="headerlink" title="1. Feign æ—¥å¿—æ‰“å°"></a>1. Feign æ—¥å¿—æ‰“å°</h2><h3 id="é…ç½®æ—¥å¿—çº§åˆ«"><a href="#é…ç½®æ—¥å¿—çº§åˆ«" class="headerlink" title="é…ç½®æ—¥å¿—çº§åˆ«"></a>é…ç½®æ—¥å¿—çº§åˆ«</h3><p><code>application.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.hty.order.feign:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ—¥å¿—-Bean"><a href="#é…ç½®æ—¥å¿—-Bean" class="headerlink" title="é…ç½®æ—¥å¿— Bean"></a>é…ç½®æ—¥å¿— Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">Logger.Level <span class="title function_">feignLoggerLevel</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Logger.Level.FULL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="2-è¶…æ—¶æ§åˆ¶"><a href="#2-è¶…æ—¶æ§åˆ¶" class="headerlink" title="2. è¶…æ—¶æ§åˆ¶"></a>2. è¶…æ—¶æ§åˆ¶</h2><p>ç”¨äºå¤„ç†ï¼š</p><ul><li><strong>è¿æ¥è¶…æ—¶</strong>ï¼šæœåŠ¡å®•æœº</li><li><strong>è¯»å–è¶…æ—¶</strong>ï¼šæœåŠ¡å“åº”æ…¢</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">openfeign:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="attr">config:</span></span><br><span class="line">          <span class="attr">default:</span></span><br><span class="line">            <span class="attr">logger-level:</span> <span class="string">full</span></span><br><span class="line">            <span class="attr">connect-timeout:</span> <span class="number">1000</span></span><br><span class="line">            <span class="attr">read-timeout:</span> <span class="number">2000</span></span><br><span class="line">          <span class="attr">service-product:</span></span><br><span class="line">            <span class="attr">logger-level:</span> <span class="string">full</span></span><br><span class="line">            <span class="attr">connect-timeout:</span> <span class="number">3000</span></span><br><span class="line">            <span class="attr">read-timeout:</span> <span class="number">5000</span></span><br></pre></td></tr></table></figure><hr><h2 id="3-é‡è¯•æœºåˆ¶ï¼ˆRetryerï¼‰"><a href="#3-é‡è¯•æœºåˆ¶ï¼ˆRetryerï¼‰" class="headerlink" title="3. é‡è¯•æœºåˆ¶ï¼ˆRetryerï¼‰"></a>3. é‡è¯•æœºåˆ¶ï¼ˆRetryerï¼‰</h2><p>è¿œç¨‹è°ƒç”¨å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">Retryer <span class="title function_">retryer</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Retryer</span>.Default();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="4-æ‹¦æˆªå™¨ï¼ˆRequestInterceptorï¼‰"><a href="#4-æ‹¦æˆªå™¨ï¼ˆRequestInterceptorï¼‰" class="headerlink" title="4. æ‹¦æˆªå™¨ï¼ˆRequestInterceptorï¼‰"></a>4. æ‹¦æˆªå™¨ï¼ˆRequestInterceptorï¼‰</h2><p>å¯ç”¨äºæ·»åŠ ç»Ÿä¸€è¯·æ±‚å¤´ï¼Œä¾‹å¦‚ tokenã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FeignInterceptor</span> <span class="keyword">implements</span> <span class="title class_">RequestInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">apply</span><span class="params">(RequestTemplate template)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·æ±‚æ‹¦æˆªå™¨å¯åŠ¨&quot;</span>);</span><br><span class="line">        template.header(<span class="string">&quot;X-token&quot;</span>, UUID.randomUUID().toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="5-Fallback-å…œåº•è¿”å›ï¼ˆç†”æ–­é™çº§ï¼‰"><a href="#5-Fallback-å…œåº•è¿”å›ï¼ˆç†”æ–­é™çº§ï¼‰" class="headerlink" title="5. Fallback å…œåº•è¿”å›ï¼ˆç†”æ–­é™çº§ï¼‰"></a>5. Fallback å…œåº•è¿”å›ï¼ˆç†”æ–­é™çº§ï¼‰</h2><p>å½“è¿œç¨‹æœåŠ¡è¶…æ—¶æˆ–ä¸å¯ç”¨æ—¶ï¼Œè¿”å›é»˜è®¤æ•°æ®ã€‚</p><h3 id="1-å®šä¹‰-Fallback-ç±»"><a href="#1-å®šä¹‰-Fallback-ç±»" class="headerlink" title="1. å®šä¹‰ Fallback ç±»"></a>1. å®šä¹‰ Fallback ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductFeignClientFallBack</span> <span class="keyword">implements</span> <span class="title class_">ProductFeignClient</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">getProductById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…œåº•å›è°ƒ...&quot;</span>);</span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">        product.setId(id);</span><br><span class="line">        product.setPrice(BigDecimal.ZERO);</span><br><span class="line">        product.setProductName(<span class="string">&quot;æœªçŸ¥å•†å“&quot;</span>);</span><br><span class="line">        product.setNum(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-é…ç½®-Sentinel-æ”¯æŒ"><a href="#2-é…ç½®-Sentinel-æ”¯æŒ" class="headerlink" title="2. é…ç½® Sentinel æ”¯æŒ"></a>2. é…ç½® Sentinel æ”¯æŒ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feign:</span></span><br><span class="line">  <span class="attr">sentinel:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="3-Feign-å¯ç”¨-fallback"><a href="#3-Feign-å¯ç”¨-fallback" class="headerlink" title="3. Feign å¯ç”¨ fallback"></a>3. Feign å¯ç”¨ fallback</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(value = &quot;service-product&quot;, fallback = ProductFeignClientFallBack.class)</span></span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€é¢è¯•é¢˜æ€»ç»“"><a href="#äº”ã€é¢è¯•é¢˜æ€»ç»“" class="headerlink" title="äº”ã€é¢è¯•é¢˜æ€»ç»“"></a>äº”ã€é¢è¯•é¢˜æ€»ç»“</h2><h3 id="1-Feign-å¦‚ä½•è°ƒç”¨è‡ªå·±çš„-APIï¼Ÿ"><a href="#1-Feign-å¦‚ä½•è°ƒç”¨è‡ªå·±çš„-APIï¼Ÿ" class="headerlink" title="1. Feign å¦‚ä½•è°ƒç”¨è‡ªå·±çš„ APIï¼Ÿ"></a>1. Feign å¦‚ä½•è°ƒç”¨è‡ªå·±çš„ APIï¼Ÿ</h3><p>æŠŠ Controller æ–¹æ³•ç­¾åå¤åˆ¶è¿‡æ¥å³å¯ã€‚</p><h3 id="2-å¦‚ä½•è°ƒç”¨ç¬¬ä¸‰æ–¹-APIï¼Ÿ"><a href="#2-å¦‚ä½•è°ƒç”¨ç¬¬ä¸‰æ–¹-APIï¼Ÿ" class="headerlink" title="2. å¦‚ä½•è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼Ÿ"></a>2. å¦‚ä½•è°ƒç”¨ç¬¬ä¸‰æ–¹ APIï¼Ÿ</h3><p>æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œå†™ URL æ¨¡å¼ + å‚æ•°æ³¨è§£ã€‚</p><h3 id="3-Feign-è¶…æ—¶æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ"><a href="#3-Feign-è¶…æ—¶æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ" class="headerlink" title="3. Feign è¶…æ—¶æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ"></a>3. Feign è¶…æ—¶æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ</h3><p>é€šè¿‡ connect-timeout å’Œ read-timeoutã€‚</p><h3 id="4-Fallback-ä½•æ—¶è§¦å‘ï¼Ÿ"><a href="#4-Fallback-ä½•æ—¶è§¦å‘ï¼Ÿ" class="headerlink" title="4. Fallback ä½•æ—¶è§¦å‘ï¼Ÿ"></a>4. Fallback ä½•æ—¶è§¦å‘ï¼Ÿ</h3><p>è¶…æ—¶ã€å¼‚å¸¸ã€æœåŠ¡ä¸å¯ç”¨æ—¶è§¦å‘ã€‚</p><hr><h2 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h2><p>OpenFeign çš„æ ¸å¿ƒä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><strong>å®šä¹‰ Feign å®¢æˆ·ç«¯æ¥å£</strong></li><li><strong>åœ¨æ¥å£ä¸­å¤åˆ¶ Controller çš„æ–¹æ³•ç­¾å</strong></li><li><strong>ä½¿ç”¨æ³¨è§£æè¿°è¿œç¨‹è¯·æ±‚</strong></li><li><strong>å¼€å¯ <code>@EnableFeignClients</code></strong></li><li><strong>é…ç½®æ—¥å¿—ã€è¶…æ—¶ã€é‡è¯•ã€æ‹¦æˆªå™¨</strong></li><li><strong>ä½¿ç”¨ Fallback æä¾›å…œåº•èƒ½åŠ›</strong></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-OpenFeign-å®æˆ˜è¯¦è§£&quot;&gt;&lt;a href=&quot;#Spring-Cloud-OpenFeign-å®æˆ˜è¯¦è§£&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud OpenFeign å®æˆ˜è¯¦è§£&quot;&gt;&lt;/a&gt;Sprin</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¾®æœåŠ¡" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloud-Nacosç¯‡</title>
    <link href="https://db-hanty.github.io/posts/cfbf6922.html"/>
    <id>https://db-hanty.github.io/posts/cfbf6922.html</id>
    <published>2025-12-02T20:30:06.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-Nacos-å¿«é€Ÿå…¥é—¨"><a href="#Spring-Cloud-Nacos-å¿«é€Ÿå…¥é—¨" class="headerlink" title="Spring Cloud Nacos å¿«é€Ÿå…¥é—¨"></a>Spring Cloud Nacos å¿«é€Ÿå…¥é—¨</h1><h2 id="ä¸€ã€Nacos-ç®€ä»‹"><a href="#ä¸€ã€Nacos-ç®€ä»‹" class="headerlink" title="ä¸€ã€Nacos ç®€ä»‹"></a>ä¸€ã€Nacos ç®€ä»‹</h2><p>Nacos æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ <strong>æ³¨å†Œä¸­å¿ƒ + é…ç½®ä¸­å¿ƒ</strong> è§£å†³æ–¹æ¡ˆã€‚</p><p>æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°</strong></li><li><strong>é›†ä¸­å¼é…ç½®ç®¡ç†ï¼ˆåŠ¨æ€åˆ·æ–°é…ç½®ï¼‰</strong></li></ul><hr><h2 id="äºŒã€æ³¨å†Œä¸­å¿ƒ"><a href="#äºŒã€æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="äºŒã€æ³¨å†Œä¸­å¿ƒ"></a>äºŒã€æ³¨å†Œä¸­å¿ƒ</h2><h3 id="1-æœåŠ¡æ³¨å†Œæ­¥éª¤"><a href="#1-æœåŠ¡æ³¨å†Œæ­¥éª¤" class="headerlink" title="1. æœåŠ¡æ³¨å†Œæ­¥éª¤"></a>1. æœåŠ¡æ³¨å†Œæ­¥éª¤</h3><ol><li>å¯åŠ¨ Nacos</li><li>å¼•å…¥ä¾èµ–</li><li>é…ç½® Nacos åœ°å€</li><li>æœåŠ¡å¯åŠ¨ â†’ è‡ªåŠ¨æ³¨å†Œåˆ° Nacos</li></ol><h4 id="ç¤ºä¾‹ï¼šservice-order"><a href="#ç¤ºä¾‹ï¼šservice-order" class="headerlink" title="ç¤ºä¾‹ï¼šservice-order"></a>ç¤ºä¾‹ï¼šservice-order</h4><p><strong>å¯åŠ¨ç±»ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderMainApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(OrderMainApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¾èµ–ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®ï¼š</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.application.name=service-order</span></span><br><span class="line"><span class="string">server.port=8000</span></span><br><span class="line"></span><br><span class="line"><span class="string">spring.cloud.nacos.server-addr=127.0.0.1:8848</span></span><br><span class="line"><span class="string">spring.cloud.nacos.username=nacos</span></span><br><span class="line"><span class="string">spring.cloud.nacos.password=123456</span></span><br></pre></td></tr></table></figure><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/naocs1.png" alt=""></p><p><strong>ç»“æœï¼š</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos2.png" alt=""></p><hr><h3 id="2-æœåŠ¡å‘ç°"><a href="#2-æœåŠ¡å‘ç°" class="headerlink" title="2. æœåŠ¡å‘ç°"></a>2. æœåŠ¡å‘ç°</h3><h4 id="æ–¹æ³•ä¸€ï¼šé€šç”¨-DiscoveryClient"><a href="#æ–¹æ³•ä¸€ï¼šé€šç”¨-DiscoveryClient" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€šç”¨ DiscoveryClient"></a>æ–¹æ³•ä¸€ï¼šé€šç”¨ DiscoveryClient</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">DiscoveryClient discoveryClient;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">discoveryClientTest</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String service : discoveryClient.getServices()) &#123;</span><br><span class="line">        List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances(service);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•äºŒï¼šNacosDiscoveryClient"><a href="#æ–¹æ³•äºŒï¼šNacosDiscoveryClient" class="headerlink" title="æ–¹æ³•äºŒï¼šNacosDiscoveryClient"></a>æ–¹æ³•äºŒï¼šNacosDiscoveryClient</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">NacosServiceDiscovery nacosServiceDiscovery;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/naocs.png" alt=""></p><hr><h2 id="ä¸‰ã€è¿œç¨‹è°ƒç”¨ï¼ˆRestTemplateï¼‰"><a href="#ä¸‰ã€è¿œç¨‹è°ƒç”¨ï¼ˆRestTemplateï¼‰" class="headerlink" title="ä¸‰ã€è¿œç¨‹è°ƒç”¨ï¼ˆRestTemplateï¼‰"></a>ä¸‰ã€è¿œç¨‹è°ƒç”¨ï¼ˆRestTemplateï¼‰</h2><p><strong>åŸºæœ¬æµç¨‹ï¼š</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos3.png" alt=""></p><p>è®¢å•æœåŠ¡é€šè¿‡ DiscoveryClient è°ƒç”¨å•†å“æœåŠ¡ï¼š<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos4.png" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Product <span class="title function_">getProductFromRemote</span><span class="params">(Long productId)</span>&#123;</span><br><span class="line">    List&lt;ServiceInstance&gt; instances = discoveryClient.getInstances(<span class="string">&quot;service-product&quot;</span>);</span><br><span class="line">    <span class="type">ServiceInstance</span> <span class="variable">instance</span> <span class="operator">=</span> instances.get(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;http://&quot;</span> + instance.getHost() + <span class="string">&quot;:&quot;</span> + instance.getPort() + <span class="string">&quot;/product/&quot;</span> + productId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> restTemplate.getForObject(url, Product.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€è´Ÿè½½å‡è¡¡"><a href="#å››ã€è´Ÿè½½å‡è¡¡" class="headerlink" title="å››ã€è´Ÿè½½å‡è¡¡"></a>å››ã€è´Ÿè½½å‡è¡¡</h2><h3 id="æ–¹å¼ä¸€ï¼šLoadBalancerClient-API-è°ƒç”¨"><a href="#æ–¹å¼ä¸€ï¼šLoadBalancerClient-API-è°ƒç”¨" class="headerlink" title="æ–¹å¼ä¸€ï¼šLoadBalancerClient API è°ƒç”¨"></a>æ–¹å¼ä¸€ï¼šLoadBalancerClient API è°ƒç”¨</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-loadbalancer<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">LoadBalancerClient loadBalancerClient;</span><br></pre></td></tr></table></figure><hr><h3 id="æ–¹å¼äºŒï¼š-LoadBalancedï¼ˆæ¨èï¼‰"><a href="#æ–¹å¼äºŒï¼š-LoadBalancedï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼š@LoadBalancedï¼ˆæ¨èï¼‰"></a>æ–¹å¼äºŒï¼š@LoadBalancedï¼ˆæ¨èï¼‰</h3><p><strong>é…ç½®ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@LoadBalanced</span></span><br><span class="line"><span class="keyword">public</span> RestTemplate <span class="title function_">restTemplate</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestTemplate</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è°ƒç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">restTemplate.getForObject(<span class="string">&quot;http://service-product/product/1&quot;</span>, Product.class);</span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€é…ç½®ä¸­å¿ƒ"><a href="#äº”ã€é…ç½®ä¸­å¿ƒ" class="headerlink" title="äº”ã€é…ç½®ä¸­å¿ƒ"></a>äº”ã€é…ç½®ä¸­å¿ƒ</h2><h3 id="1-åŸºæœ¬ä½¿ç”¨æ­¥éª¤"><a href="#1-åŸºæœ¬ä½¿ç”¨æ­¥éª¤" class="headerlink" title="1. åŸºæœ¬ä½¿ç”¨æ­¥éª¤"></a>1. åŸºæœ¬ä½¿ç”¨æ­¥éª¤</h3><ol><li>å¼•å…¥ nacos-config</li><li>application.properties ä¸­å¯¼å…¥é…ç½®</li><li>åœ¨ Nacos ä¸­åˆ›å»º Data ID</li><li>ä½¿ç”¨ @Value è·å–é…ç½®</li></ol><p><strong>ä¾èµ–ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¯¼å…¥é…ç½®ï¼š</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.config.import=nacos:service-order.properties</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-åŠ¨æ€åˆ·æ–°é…ç½®"><a href="#2-åŠ¨æ€åˆ·æ–°é…ç½®" class="headerlink" title="2. åŠ¨æ€åˆ·æ–°é…ç½®"></a>2. åŠ¨æ€åˆ·æ–°é…ç½®</h3><p>æ–¹å¼ä¸€ï¼š<code>@RefreshScope</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RefreshScope</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;order.timeout&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String timeout;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼š<code>@ConfigurationProperties</code>ï¼ˆæ¨èï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderProperties</span> &#123;</span><br><span class="line">    String timeout;</span><br><span class="line">    String autoConfirm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å…­ã€é…ç½®ç›‘å¬"><a href="#å…­ã€é…ç½®ç›‘å¬" class="headerlink" title="å…­ã€é…ç½®ç›‘å¬"></a>å…­ã€é…ç½®ç›‘å¬</h2><p>å€ŸåŠ© NacosConfigManager å¯ç›‘å¬é…ç½®å˜åŒ–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">configService.addListener(</span><br><span class="line">    <span class="string">&quot;service-order.properties&quot;</span>, <span class="string">&quot;DEFAULT_GROUP&quot;</span>,</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Listener</span>() &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveConfigInfo</span><span class="params">(String s)</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;é…ç½®æ›´æ–°ï¼š&quot;</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸ƒã€æ•°æ®éš”ç¦»"><a href="#ä¸ƒã€æ•°æ®éš”ç¦»" class="headerlink" title="ä¸ƒã€æ•°æ®éš”ç¦»"></a>ä¸ƒã€æ•°æ®éš”ç¦»</h2><p>ä¾æ¬¡é€šè¿‡ä¸‹é¢ä¸‰å±‚ç»“æ„éš”ç¦»ï¼š</p><div class="table-container"><table><thead><tr><th>å±‚çº§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>namespace</td><td>åŒºåˆ†ç¯å¢ƒï¼ˆdevã€testã€prodï¼‰</td></tr><tr><td>group</td><td>åŒºåˆ†é¡¹ç›®ç»„</td></tr><tr><td>data-id</td><td>åŒºåˆ†é…ç½®æ–‡ä»¶</td></tr></tbody></table></div><p>åŠ¨æ€æŒ‡å®š namespaceï¼š<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/nacos5.png" alt=""></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.cloud.nacos.config.namespace=$&#123;spring.profiles.active&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="å…«ã€æ€»ç»“"><a href="#å…«ã€æ€»ç»“" class="headerlink" title="å…«ã€æ€»ç»“"></a>å…«ã€æ€»ç»“</h2><h3 id="æ³¨å†Œä¸­å¿ƒ"><a href="#æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="æ³¨å†Œä¸­å¿ƒ"></a>æ³¨å†Œä¸­å¿ƒ</h3><ul><li>nacos-discovery</li><li>@EnableDiscoveryClient</li><li>LoadBalancerClient / @LoadBalanced æ”¯æŒè´Ÿè½½å‡è¡¡</li></ul><h3 id="é…ç½®ä¸­å¿ƒ"><a href="#é…ç½®ä¸­å¿ƒ" class="headerlink" title="é…ç½®ä¸­å¿ƒ"></a>é…ç½®ä¸­å¿ƒ</h3><ul><li>nacos-config</li><li>spring.config.import å¯¼å…¥é…ç½®</li><li>@Value + @RefreshScope å®ç°åŠ¨æ€åˆ·æ–°</li><li>@ConfigurationProperties å®ç°è‡ªåŠ¨åˆ·æ–°</li><li>NacosConfigManager å®ç°ç›‘å¬</li></ul><h3 id="æ•°æ®éš”ç¦»"><a href="#æ•°æ®éš”ç¦»" class="headerlink" title="æ•°æ®éš”ç¦»"></a>æ•°æ®éš”ç¦»</h3><ul><li>namespace â†’ ç¯å¢ƒéš”ç¦»  </li><li>group â†’ å¾®æœåŠ¡ç»„éš”ç¦»  </li><li>data-id â†’ é…ç½®å†…å®¹éš”ç¦»  </li></ul><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-Nacos-å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#Spring-Cloud-Nacos-å¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud Nacos å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;Spring Cloud Naco</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¾®æœåŠ¡" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>SpringCloudåŸºç¡€ç¯‡</title>
    <link href="https://db-hanty.github.io/posts/e8045072.html"/>
    <id>https://db-hanty.github.io/posts/e8045072.html</id>
    <published>2025-12-01T20:16:39.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spring-Cloud-åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨"><a href="#Spring-Cloud-åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨" class="headerlink" title="Spring Cloud åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨"></a>Spring Cloud åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨</h1><h2 id="ä¸€ã€åˆ†å¸ƒå¼åŸºç¡€æ¦‚å¿µ"><a href="#ä¸€ã€åˆ†å¸ƒå¼åŸºç¡€æ¦‚å¿µ" class="headerlink" title="ä¸€ã€åˆ†å¸ƒå¼åŸºç¡€æ¦‚å¿µ"></a>ä¸€ã€åˆ†å¸ƒå¼åŸºç¡€æ¦‚å¿µ</h2><h3 id="1-å•ä½“æ¶æ„ï¼ˆMonolithic-Architectureï¼‰"><a href="#1-å•ä½“æ¶æ„ï¼ˆMonolithic-Architectureï¼‰" class="headerlink" title="1. å•ä½“æ¶æ„ï¼ˆMonolithic Architectureï¼‰"></a>1. å•ä½“æ¶æ„ï¼ˆMonolithic Architectureï¼‰</h3><p>å•ä½“åº”ç”¨å°†æ‰€æœ‰åŠŸèƒ½æ¨¡å—ï¼ˆç”¨æˆ·ã€è®¢å•ã€åº“å­˜ã€æ”¯ä»˜ç­‰ï¼‰å…¨éƒ¨æ‰“åŒ…åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å¼€å‘éƒ¨ç½²ç®€å•</li><li>ç»“æ„æ¸…æ™°ï¼Œé€‚åˆå°å‹é¡¹ç›®</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>æ— æ³•åº”å¯¹é«˜å¹¶å‘</li><li>ä»»æ„æ¨¡å—ä¿®æ”¹éƒ½éœ€è¦æ•´ä½“éƒ¨ç½²</li><li>é¡¹ç›®åºå¤§åéš¾ä»¥ç»´æŠ¤</li></ul><hr><h3 id="2-é›†ç¾¤æ¶æ„ï¼ˆCluster-Architectureï¼‰"><a href="#2-é›†ç¾¤æ¶æ„ï¼ˆCluster-Architectureï¼‰" class="headerlink" title="2. é›†ç¾¤æ¶æ„ï¼ˆCluster Architectureï¼‰"></a>2. é›†ç¾¤æ¶æ„ï¼ˆCluster Architectureï¼‰</h3><p>ä¸ºè§£å†³å•ä½“æ¶æ„å¤§å¹¶å‘é—®é¢˜ï¼Œé€šè¿‡å¤åˆ¶å¤šä»½åº”ç”¨å®ä¾‹ç»„æˆé›†ç¾¤ï¼Œç”±è´Ÿè½½å‡è¡¡/ç½‘å…³åˆ†å‘æµé‡ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>æ‰©å®¹ç®€å•ï¼Œæå‡ååèƒ½åŠ›</li></ul><p><strong>é—®é¢˜ï¼š</strong></p><ul><li>æ¨¡å—åŒ–å‡çº§å›°éš¾</li><li>ä¸é€‚åˆå¤šè¯­è¨€å›¢é˜Ÿ</li><li>ä¾æ—§æ˜¯å•ä½“ç»“æ„</li></ul><hr><h3 id="3-åˆ†å¸ƒå¼æ¶æ„ï¼ˆDistributed-Architectureï¼‰"><a href="#3-åˆ†å¸ƒå¼æ¶æ„ï¼ˆDistributed-Architectureï¼‰" class="headerlink" title="3. åˆ†å¸ƒå¼æ¶æ„ï¼ˆDistributed Architectureï¼‰"></a>3. åˆ†å¸ƒå¼æ¶æ„ï¼ˆDistributed Architectureï¼‰</h3><p>å°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªå¯ç‹¬ç«‹éƒ¨ç½²çš„å°åº”ç”¨ï¼ˆæœåŠ¡ï¼‰ã€‚</p><p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p><ul><li>ç‹¬ç«‹éƒ¨ç½²</li><li>ç‹¬ç«‹æ‰©å®¹</li><li>å¤šè¯­è¨€æŠ€æœ¯æ ˆ</li><li>æœåŠ¡é—´é€šè¿‡ RPC/REST é€šä¿¡</li></ul><hr><h2 id="äºŒã€å¾®æœåŠ¡é¡¹ç›®ç»“æ„ç¤ºä¾‹"><a href="#äºŒã€å¾®æœåŠ¡é¡¹ç›®ç»“æ„ç¤ºä¾‹" class="headerlink" title="äºŒã€å¾®æœåŠ¡é¡¹ç›®ç»“æ„ç¤ºä¾‹"></a>äºŒã€å¾®æœåŠ¡é¡¹ç›®ç»“æ„ç¤ºä¾‹</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/image.png" alt=""></p><hr><h2 id="ä¸‰ã€çˆ¶é¡¹ç›®-POM-é…ç½®ç¤ºä¾‹"><a href="#ä¸‰ã€çˆ¶é¡¹ç›®-POM-é…ç½®ç¤ºä¾‹" class="headerlink" title="ä¸‰ã€çˆ¶é¡¹ç›® POM é…ç½®ç¤ºä¾‹"></a>ä¸‰ã€çˆ¶é¡¹ç›® POM é…ç½®ç¤ºä¾‹</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.hty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>services<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>common<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>2023.0.3<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud-alibaba.version</span>&gt;</span>2023.0.3.2<span class="tag">&lt;/<span class="name">spring-cloud-alibaba.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-alibaba-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud-alibaba.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æœ¬ç¯‡ä½œä¸º Spring Cloud å…­ç¯‡åšå®¢çš„å¼€ç¯‡ï¼Œè®²è§£äº†ï¼š</p><ul><li>å•ä½“ã€é›†ç¾¤ä¸åˆ†å¸ƒå¼æ¶æ„çš„å·®å¼‚</li><li>å¾®æœåŠ¡çš„æ‹†åˆ†ç†å¿µ</li><li>å¤šæ¨¡å—é¡¹ç›®ç»“æ„</li><li>Spring Cloud çˆ¶é¡¹ç›®ä¾èµ–ç®¡ç†ç»“æ„</li></ul><p>ä½œä¸ºåŸºç¡€ç¯‡ï¼Œåç»­å¯ä»¥ç»§ç»­å…­å¤§ç³»åˆ—ï¼š</p><ol><li>åŸºç¡€ç¯‡ï¼ˆæœ¬ç¯‡ï¼‰  </li><li>Nacos æ³¨å†Œä¸­å¿ƒ  </li><li>Nacos/Spring Cloud Config é…ç½®ä¸­å¿ƒ  </li><li>Spring Cloud Gateway ç½‘å…³  </li><li>OpenFeign æœåŠ¡è°ƒç”¨  </li><li>Sentinel/Resilience4j æœåŠ¡ä¿æŠ¤  </li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Spring-Cloud-åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#Spring-Cloud-åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;Spring Cloud åŸºç¡€ç¯‡ï¼šåˆ†å¸ƒå¼æ¶æ„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;Spring C</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¾®æœåŠ¡" scheme="https://db-hanty.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://db-hanty.github.io/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠåŸåˆ™ã€‹è¯»ä¹¦æŠ¥å‘Š</title>
    <link href="https://db-hanty.github.io/posts/cdfb74ad.html"/>
    <id>https://db-hanty.github.io/posts/cdfb74ad.html</id>
    <published>2025-11-30T20:16:59.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ"><a href="#ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ" class="headerlink" title="ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ"></a>ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ</h1><p>ç‘Â·è¾¾åˆ©æ¬§ï¼ˆRay<br>Dalioï¼‰çš„ã€ŠåŸåˆ™ã€‹ä¸ä»…æ˜¯ä¸€æœ¬æˆåŠŸå­¦ä¹¦ç±ï¼Œæ›´æ˜¯ä¸€å¥—å¯å¤åˆ¶ã€å¯å®è·µçš„äººç”Ÿä¸å·¥ä½œæ–¹æ³•è®ºã€‚å®ƒå¼ºè°ƒâ€”â€”â€”<strong>ä¼˜ç§€çš„äººç”Ÿæºäºä¼˜ç§€çš„å†³ç­–ï¼Œè€Œä¼˜ç§€çš„å†³ç­–æºäºæåº¦çš„æ±‚çœŸä¸æåº¦çš„å¼€æ”¾æ€ç»´ã€‚</strong></p><p>æœ¬æ–‡ç»“åˆåŸä¹¦æ€æƒ³ä¸æ‚¨çš„è¯»ä¹¦ç¬”è®°ï¼Œæç‚¼ä¸ºä¸€ç¯‡ç»“æ„å®Œæ•´ã€æ˜“è¯»ä¸”ä¾¿äºç†è§£çš„åšå®¢æ–‡ç« ã€‚</p><hr><h1 id="ä¸€ã€ç”Ÿæ´»åŸåˆ™ï¼šç”¨åŸåˆ™è¿‡äººç”Ÿ"><a href="#ä¸€ã€ç”Ÿæ´»åŸåˆ™ï¼šç”¨åŸåˆ™è¿‡äººç”Ÿ" class="headerlink" title="ä¸€ã€ç”Ÿæ´»åŸåˆ™ï¼šç”¨åŸåˆ™è¿‡äººç”Ÿ"></a>ä¸€ã€ç”Ÿæ´»åŸåˆ™ï¼šç”¨åŸåˆ™è¿‡äººç”Ÿ</h1><p>è¦æ‹¥æœ‰æœ€å¥½çš„ç”Ÿæ´»ï¼Œä½ éœ€è¦åšåˆ°ä¸¤ä»¶äº‹ï¼š</p><ol><li><strong>çŸ¥é“æœ€å¥½çš„å†³ç­–æ˜¯ä»€ä¹ˆ</strong></li><li><strong>æœ‰å‹‡æ°”åšå‡ºæœ€å¥½çš„å†³ç­–</strong></li></ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå…‰æœ‰â€çŸ¥é“â€æ˜¯ä¸å¤Ÿçš„ï¼Œæ›´é‡è¦çš„æ˜¯â€æ•¢åšâ€ã€‚</p><h2 id="1-æ‹¥æŠ±ç°å®ï¼Œå¹¶å¦¥å–„åº”å¯¹ç°å®"><a href="#1-æ‹¥æŠ±ç°å®ï¼Œå¹¶å¦¥å–„åº”å¯¹ç°å®" class="headerlink" title="1. æ‹¥æŠ±ç°å®ï¼Œå¹¶å¦¥å–„åº”å¯¹ç°å®"></a>1. æ‹¥æŠ±ç°å®ï¼Œå¹¶å¦¥å–„åº”å¯¹ç°å®</h2><p>è¾¾åˆ©æ¬§è®¤ä¸ºï¼Œäººç”Ÿæœ¬è´¨æ˜¯ä¸€åœºä¸ç°å®çš„ç›¸å¤„è¿‡ç¨‹ã€‚â€ç—›è‹¦ + åæ€ =<br>æˆé•¿â€æ˜¯ä¹¦ä¸­æœ€æ ¸å¿ƒçš„å…¬å¼ä¹‹ä¸€ã€‚</p><p>æˆ‘ä»¬å¸¸å¸¸å› ä¸ºé€ƒé¿ç°å®ã€ä¸æ„¿æ‰¿è®¤äº‹å®è€Œé™·å…¥å›°å¢ƒã€‚ç›¸åï¼Œæ¥å—ç°å®ã€é¢å¯¹é—®é¢˜ã€å¯»æ‰¾æ ¹æºï¼Œæ‰æ˜¯çœŸæ­£çš„å¼ºè€…è¡Œä¸ºã€‚</p><h2 id="2-å®ç°ä»»ä½•æ„¿æœ›çš„â€äº”æ­¥æµç¨‹â€"><a href="#2-å®ç°ä»»ä½•æ„¿æœ›çš„â€äº”æ­¥æµç¨‹â€" class="headerlink" title="2. å®ç°ä»»ä½•æ„¿æœ›çš„â€äº”æ­¥æµç¨‹â€"></a>2. å®ç°ä»»ä½•æ„¿æœ›çš„â€äº”æ­¥æµç¨‹â€</h2><p>è¿™æ˜¯å…¨ä¹¦æœ€è‘—åä¹Ÿæ˜¯æœ€å¼ºå¤§çš„æ–¹æ³•è®ºã€‚å‡ ä¹æ‰€æœ‰ç›®æ ‡å®ç°éƒ½å¯ä»¥å¥—ç”¨æ­¤æµç¨‹ï¼š</p><ol><li><strong>è®¾å®šæ˜ç¡®çš„ç›®æ ‡</strong></li><li><strong>æ‰¾åˆ°ç›®æ ‡ä¸ç°å®ä¹‹é—´çš„é—®é¢˜ï¼Œå¹¶ä¸”ä¸å®¹å¿è¿™äº›é—®é¢˜</strong></li><li><strong>è¯Šæ–­é—®é¢˜çš„æ ¹æœ¬åŸå› </strong></li><li><strong>è§„åˆ’å¯ä»¥è§£å†³é—®é¢˜çš„ç­–ç•¥</strong></li><li><strong>æ‰§è¡Œæ–¹æ¡ˆä¸­çš„æ‰€æœ‰ä»»åŠ¡</strong></li></ol><p>è¿™äº”æ­¥æ˜¯å¾ªç¯å¾€å¤ã€æŒç»­è¿­ä»£çš„ã€‚æ‰§è¡Œå¤±è´¥äº†ï¼Œå†ä»å‰é¢é‡æ–°æ¥è¿‡ï¼Œå¦‚æ­¤åå¤ï¼Œä¸æ–­æˆé•¿ã€‚</p><p>è¾¾åˆ©æ¬§è®¤ä¸ºï¼š<strong>æ‹¥æœ‰æ–¹æ³•çš„äººï¼Œæ¯”ä»…æœ‰æŠ€èƒ½çš„äººèµ°å¾—æ›´è¿œã€‚</strong></p><h2 id="3-å¤´è„‘æåº¦å¼€æ”¾ï¼šå¯¹æŠ—æ€ç»´ç›²åŒºæœ€é‡è¦çš„æ­¦å™¨"><a href="#3-å¤´è„‘æåº¦å¼€æ”¾ï¼šå¯¹æŠ—æ€ç»´ç›²åŒºæœ€é‡è¦çš„æ­¦å™¨" class="headerlink" title="3. å¤´è„‘æåº¦å¼€æ”¾ï¼šå¯¹æŠ—æ€ç»´ç›²åŒºæœ€é‡è¦çš„æ­¦å™¨"></a>3. å¤´è„‘æåº¦å¼€æ”¾ï¼šå¯¹æŠ—æ€ç»´ç›²åŒºæœ€é‡è¦çš„æ­¦å™¨</h2><p>æ¯ä¸ªäººéƒ½æœ‰æ€ç»´ç›²åŒºï¼Œæˆ‘ä»¬å¸¸å¸¸åšæŒé”™è¯¯è§‚ç‚¹åªæ˜¯å› ä¸ºâ€è‡ªå·±ç›¸ä¿¡çš„å°±æ˜¯å¯¹çš„â€ã€‚</p><p>è§£å†³åŠæ³•æ˜¯ï¼š\<br>### <strong>å¤´è„‘æåº¦å¼€æ”¾ï¼ˆRadical Open-mindednessï¼‰</strong></p><p>åŒ…æ‹¬ï¼š</p><ul><li>æ„¿æ„çœŸæ­£å€¾å¬ä»–äººçš„è§‚ç‚¹\</li><li>ä¸»åŠ¨å¯»æ‰¾è‡ªå·±å¯èƒ½é”™çš„åœ°æ–¹\</li><li>å°Šé‡äº‹å®èƒœäºå°Šé‡è‡ªæˆ‘æƒ…ç»ª\</li><li>ä¸æŠŠè§‚ç‚¹ä¸è‡ªæˆ‘ä»·å€¼ç»‘å®š</li></ul><p>å¤´è„‘æåº¦å¼€æ”¾å¹¶ä¸æ˜¯è½¯å¼±ï¼Œè€Œæ˜¯ä¸ºäº†è·å¾—æ›´æ¥è¿‘çœŸç›¸çš„è§†è§’ã€‚</p><h2 id="4-ç†è§£äººä¸äººçš„å·®å¼‚"><a href="#4-ç†è§£äººä¸äººçš„å·®å¼‚" class="headerlink" title="4. ç†è§£äººä¸äººçš„å·®å¼‚"></a>4. ç†è§£äººä¸äººçš„å·®å¼‚</h2><p>è¾¾åˆ©æ¬§ç”¨â€é›ªèŠ±â€æ¥æ¯”å–»äººï¼Œæ¯ä¸ªäººçš„ç‰¹å¾éƒ½æ˜¯ç‹¬ç‰¹çš„ã€‚</p><p>ä¸ºäº†è·å¾—å¤–ç•Œå¸®åŠ©ï¼Œä½ å¿…é¡»è®¤è¯†åˆ°ï¼š</p><ul><li>äººä¸äººå¤©ç”Ÿå·®å¼‚æå¤§\</li><li>åªæœ‰ç†è§£å·®å¼‚ï¼Œæ‰èƒ½æ­£ç¡®åˆä½œ\</li><li>ä¸è¦æœŸå¾…æ‰€æœ‰äººéƒ½è·Ÿä½ ä¸€æ ·æ€è€ƒ</li></ul><p>ç®€è€Œè¨€ä¹‹ï¼š</p><blockquote><p><strong>è®¤è¯†è‡ªå·±ã€è®¤è¯†ä»–äººï¼Œè®©åˆé€‚çš„äººåšåˆé€‚çš„äº‹ã€‚</strong></p></blockquote><h2 id="5-äººç”Ÿè¿›åŒ–ä¸‰æ­¥æ›²"><a href="#5-äººç”Ÿè¿›åŒ–ä¸‰æ­¥æ›²" class="headerlink" title="5. äººç”Ÿè¿›åŒ–ä¸‰æ­¥æ›²"></a>5. äººç”Ÿè¿›åŒ–ä¸‰æ­¥æ›²</h2><p>ç»“åˆä½ çš„ç¬”è®°ï¼Œä¸‰å¥è¯å¯ä»¥æ¦‚æ‹¬æˆé•¿çš„æœ¬è´¨ï¼š</p><ol><li><strong>è¿½æ±‚ä½ çœŸæ­£æƒ³è¦çš„ä¸œè¥¿</strong>\</li><li><strong>é€šè¿‡å¤´è„‘æåº¦å¼€æ”¾ï¼Œä»å¤±è´¥ä¸­å­¦ä¹ </strong>\</li><li><strong>ä¸æ–­æ”¹å˜å’Œè¿›åŒ–ï¼Œè®©è‡ªå·±å˜å¾—æ›´å¼º</strong></li></ol><p>è¿™å°±æ˜¯äººç”Ÿçš„èºæ—‹å¼ä¸Šå‡æ€è·¯ï¼šè¯•é”™ â†’ å­¦ä¹  â†’ è¿›åŒ–ã€‚</p><hr><h1 id="äºŒã€å·¥ä½œåŸåˆ™ï¼šå¦‚ä½•ä¸ä»–äººåˆä½œåˆ›é€ ä»·å€¼"><a href="#äºŒã€å·¥ä½œåŸåˆ™ï¼šå¦‚ä½•ä¸ä»–äººåˆä½œåˆ›é€ ä»·å€¼" class="headerlink" title="äºŒã€å·¥ä½œåŸåˆ™ï¼šå¦‚ä½•ä¸ä»–äººåˆä½œåˆ›é€ ä»·å€¼"></a>äºŒã€å·¥ä½œåŸåˆ™ï¼šå¦‚ä½•ä¸ä»–äººåˆä½œåˆ›é€ ä»·å€¼</h1><p>å·¥ä½œåŸåˆ™çš„æ ¸å¿ƒæ˜¯ï¼š<strong>äººä¸äººçš„åˆä½œï¼Œæ˜¯å¤åˆ©å¢é•¿çš„æ¥æºã€‚</strong></p><h2 id="1-åˆä½œå¸¦æ¥çš„ä¸‰å¤§å¥½å¤„"><a href="#1-åˆä½œå¸¦æ¥çš„ä¸‰å¤§å¥½å¤„" class="headerlink" title="1. åˆä½œå¸¦æ¥çš„ä¸‰å¤§å¥½å¤„"></a>1. åˆä½œå¸¦æ¥çš„ä¸‰å¤§å¥½å¤„</h2><p>è¾¾åˆ©æ¬§å¼ºè°ƒå›¢é˜Ÿèƒœè¿‡ä¸ªäººï¼ŒåŸå› åŒ…æ‹¬ï¼š</p><ol><li><strong>ååŒèƒ½åŠ›è¿œå¼ºäºä¸ªäººèƒ½åŠ›</strong>\</li><li><strong>ä¼˜ç§€çš„äººé™…å…³ç³»å¡‘é€ ä¼˜ç§€å›¢é˜Ÿ</strong>\</li><li><strong>è´¢å¯Œæ˜¯å›¢é˜Ÿåˆ›é€ çš„ï¼Œè€Œéä¸ªäººç§¯ç´¯çš„</strong></li></ol><p>å°¤å…¶æ˜¯å¤§è§„æ¨¡ã€æœ‰éš¾åº¦çš„é¡¹ç›®ï¼Œæ°¸è¿œç¦»ä¸å¼€å›¢é˜Ÿçš„åŠ›é‡ã€‚</p><h2 id="2-æœ€ä½³çš„å†³ç­–æ–¹å¼ï¼šæ„å»ºâ€åˆ›æ„æ‹©ä¼˜â€ï¼ˆIdea-Meritocracyï¼‰"><a href="#2-æœ€ä½³çš„å†³ç­–æ–¹å¼ï¼šæ„å»ºâ€åˆ›æ„æ‹©ä¼˜â€ï¼ˆIdea-Meritocracyï¼‰" class="headerlink" title="2. æœ€ä½³çš„å†³ç­–æ–¹å¼ï¼šæ„å»ºâ€åˆ›æ„æ‹©ä¼˜â€ï¼ˆIdea Meritocracyï¼‰"></a>2. æœ€ä½³çš„å†³ç­–æ–¹å¼ï¼šæ„å»ºâ€åˆ›æ„æ‹©ä¼˜â€ï¼ˆIdea Meritocracyï¼‰</h2><p>è¿™æ˜¯æ¡¥æ°´åŸºé‡‘æ–‡åŒ–ä¸­æœ€é‡è¦çš„åˆ¶åº¦ï¼Œä¹Ÿè¢«è®¤ä¸ºæ˜¯å…¶æˆåŠŸä¹‹æºã€‚</p><p>åˆ›æ„æ‹©ä¼˜æ„å‘³ç€ï¼š</p><ul><li><strong>æœ€å¥½çš„è§‚ç‚¹åº”è¯¥èƒœå‡ºï¼Œè€Œä¸æ˜¯èŒä½æœ€é«˜çš„äººèƒœå‡º</strong></li><li>è§‚ç‚¹çš„æƒé‡ç”±å†å²æ•°æ®ã€èƒ½åŠ›ã€å¯é æ€§ç­‰å…±åŒå†³å®š</li><li>å›¢é˜Ÿæˆå‘˜æ•¢äºæ¿€çƒˆä½†æœ‰ç¤¼çš„è®¨è®º</li><li>å†³ç­–è¿‡ç¨‹é€æ˜ï¼Œè®©æ¯ä¸ªäººéƒ½çœ‹åˆ°è§‚ç‚¹å¦‚ä½•å½±å“ç»“æœ</li></ul><p>æ¢å¥è¯è¯´å°±æ˜¯ï¼š</p><blockquote><p><strong>ä¸æ˜¯â€è°è¯´çš„â€ï¼Œè€Œæ˜¯â€è¯´å¾—æ˜¯å¦æ­£ç¡®â€ã€‚</strong></p></blockquote><h2 id="3-ç†è§£æ¯ä¸ªäººè§‚ç‚¹ä¸èƒ½åŠ›çš„å·®å¼‚"><a href="#3-ç†è§£æ¯ä¸ªäººè§‚ç‚¹ä¸èƒ½åŠ›çš„å·®å¼‚" class="headerlink" title="3. ç†è§£æ¯ä¸ªäººè§‚ç‚¹ä¸èƒ½åŠ›çš„å·®å¼‚"></a>3. ç†è§£æ¯ä¸ªäººè§‚ç‚¹ä¸èƒ½åŠ›çš„å·®å¼‚</h2><p>åœ¨å›¢é˜Ÿä¸­ï¼š</p><ul><li>è§‚ç‚¹è´¨é‡ä¸åŒ\</li><li>è®¤çŸ¥æ¨¡å‹ä¸åŒ\</li><li>èƒ½åŠ›å·®å¼‚å·¨å¤§</li></ul><p>è¾¾åˆ©æ¬§è¯´ï¼šâ€ç†è§£å·®å¼‚ï¼Œæ˜¯ä½¿ç”¨ä»–äººè§‚ç‚¹çš„å‰æã€‚â€</p><p>ä¸€ä¸ªç»„ç»‡å¦‚æœèƒ½ï¼š</p><ol><li>è®©æ¯ä¸ªäººå¦è¯šè¡¨è¾¾è§‚ç‚¹\</li><li>æ­£ç¡®è¯„ä¼°æ¯ä¸ªäººçš„èƒ½åŠ›\</li><li>è®©æœ€å¥½çš„è§‚ç‚¹è‡ªç„¶èƒœå‡º</li></ol><p>é‚£ä¹ˆå›¢é˜Ÿå†³ç­–å°†å¤§å¹…ä¼˜äºä»»ä½•å•ä¸ªäººã€‚</p><h2 id="4-ä¸–ç•Œä¸Šæ²¡æœ‰å®Œç¾çš„ç»„ç»‡ï¼Œä½†å¯ä»¥ä¸æ–­é€¼è¿‘æœ€ä¼˜"><a href="#4-ä¸–ç•Œä¸Šæ²¡æœ‰å®Œç¾çš„ç»„ç»‡ï¼Œä½†å¯ä»¥ä¸æ–­é€¼è¿‘æœ€ä¼˜" class="headerlink" title="4. ä¸–ç•Œä¸Šæ²¡æœ‰å®Œç¾çš„ç»„ç»‡ï¼Œä½†å¯ä»¥ä¸æ–­é€¼è¿‘æœ€ä¼˜"></a>4. ä¸–ç•Œä¸Šæ²¡æœ‰å®Œç¾çš„ç»„ç»‡ï¼Œä½†å¯ä»¥ä¸æ–­é€¼è¿‘æœ€ä¼˜</h2><p>è¾¾åˆ©æ¬§æ‰¿è®¤ï¼Œæ²¡æœ‰ä¹Œæ‰˜é‚¦ï¼Œä¹Ÿæ²¡æœ‰ç»å¯¹å®Œç¾çš„å›¢é˜Ÿæ¨¡å¼ã€‚</p><p>ä½†ï¼š</p><blockquote><p><strong>é€šè¿‡åŸåˆ™ã€ç³»ç»Ÿã€åé¦ˆä¸è¿­ä»£ï¼Œç»„ç»‡èƒ½å¤ŸæŒç»­è¿›åŒ–ã€‚</strong></p></blockquote><p>åŸåˆ™å­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯è®©å›¢é˜Ÿåœ¨æ··ä¹±ä¸­å½¢æˆç§©åºï¼Œåœ¨å˜åŒ–ä¸­æŒç»­æ”¹è¿›ã€‚</p><hr><h1 id="ç»“è¯­ï¼šç”¨åŸåˆ™æ­¦è£…è‡ªå·±ï¼Œç”¨ç³»ç»Ÿæå‡äººç”Ÿ"><a href="#ç»“è¯­ï¼šç”¨åŸåˆ™æ­¦è£…è‡ªå·±ï¼Œç”¨ç³»ç»Ÿæå‡äººç”Ÿ" class="headerlink" title="ç»“è¯­ï¼šç”¨åŸåˆ™æ­¦è£…è‡ªå·±ï¼Œç”¨ç³»ç»Ÿæå‡äººç”Ÿ"></a>ç»“è¯­ï¼šç”¨åŸåˆ™æ­¦è£…è‡ªå·±ï¼Œç”¨ç³»ç»Ÿæå‡äººç”Ÿ</h1><p>ã€ŠåŸåˆ™ã€‹æœ€é‡è¦çš„ä»·å€¼åœ¨äºï¼š</p><ul><li>æŠŠâ€æˆåŠŸâ€æ‹†è§£æˆå¯æ‰§è¡Œçš„æ–¹æ³•\</li><li>æŠŠâ€æˆé•¿â€å˜æˆå¯ç»ƒä¹ çš„èƒ½åŠ›\</li><li>æŠŠâ€åˆä½œâ€å˜æˆå¯è®¾è®¡çš„æœºåˆ¶</li></ul><p>å¦‚æœä½ æ„¿æ„çœŸæ­£å®è·µï¼š</p><ul><li>é¢å¯¹ç°å®\</li><li>ä¸æ–­è¿­ä»£\</li><li>ä¿æŒå¤´è„‘å¼€æ”¾\</li><li>ä¸ä¼˜ç§€çš„äººåˆä½œ</li></ul><p>é‚£ä¹ˆä½ å°±å‡ ä¹ä¸€å®šèƒ½å¾—åˆ°ä½ æƒ³è¦çš„äººç”Ÿã€‚</p><p>æ„¿ä½ åœ¨æœªæ¥çš„é“è·¯ä¸Šï¼Œæ—¢æœ‰æ´å¯ŸåŠ›ï¼Œä¹Ÿæœ‰å‹‡æ°”ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ&quot;&gt;&lt;a href=&quot;#ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ã€ŠåŸåˆ™ã€‹è¯»ä¹¦ç¬”è®°ï¼šå¦‚ä½•ç”¨ä¸€å¥—å¯é‡å¤çš„æ–¹æ³•è¿‡å¥½ä¸€ç”Ÿä¸åšå¥½å·¥ä½œ&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="ä¹¦ç±" scheme="https://db-hanty.github.io/categories/%E4%B9%A6%E7%B1%8D/"/>
    
    
    <category term="ç¤¾ä¼šè§„å¾‹" scheme="https://db-hanty.github.io/tags/%E7%A4%BE%E4%BC%9A%E8%A7%84%E5%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨æˆ·ä¸­å¿ƒå¼€å‘é¡¹ç›®ç¬”è®°</title>
    <link href="https://db-hanty.github.io/posts/61475e5a.html"/>
    <id>https://db-hanty.github.io/posts/61475e5a.html</id>
    <published>2025-11-18T21:14:17.000Z</published>
    <updated>2025-12-18T12:59:28.708Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç”¨æˆ·ä¸­å¿ƒ"><a href="#ç”¨æˆ·ä¸­å¿ƒ" class="headerlink" title="ç”¨æˆ·ä¸­å¿ƒ"></a>ç”¨æˆ·ä¸­å¿ƒ</h1><p>åŠŸèƒ½ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</p><p>ç›®çš„ï¼šäº†è§£åšé¡¹ç›®çš„æ€è·¯ï¼Œæ¥è§¦ä¸€äº›ä¼ä¸šçº§çš„å¼€å‘æŠ€æœ¯</p><p>ç›®æ ‡ï¼šèƒ½åšå‡ºç®¡ç†ç³»ç»Ÿ</p><p>MFSUï¼šå‰ç«¯ç¼–è¯‘ä¼˜åŒ–</p><p>Ant Design ç»„ä»¶åº“â‡’ React</p><p>Ant Design Procomponents â‡’ Ant Design</p><p>Ant Design Pro åå°ç®¡ç†ç³»ç»Ÿâ‡’ Ant Designã€Ant Design Procomponentsã€ Reactã€å…¶ä»–åº“</p><h1 id="Ant-Design-Proï¼ˆUmiæ¡†æ¶ï¼‰"><a href="#Ant-Design-Proï¼ˆUmiæ¡†æ¶ï¼‰" class="headerlink" title="Ant Design Proï¼ˆUmiæ¡†æ¶ï¼‰"></a>Ant Design Proï¼ˆUmiæ¡†æ¶ï¼‰</h1><p>app.tsx é¡¹ç›®å…¨å±€å…¥å£æ–‡ä»¶ï¼Œå®šä¹‰äº†æ•´ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„å…¬å…±æ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼‰</p><p>access.ts æ§åˆ¶ç”¨æˆ·çš„è®¿é—®æƒé™</p><p>é¦–æ¬¡è®¿é—®é¡µé¢ï¼ˆåˆ·æ–°é¡µé¢ï¼‰ï¼Œè¿›å…¥app.tsxï¼Œæ‰§è¡ŒgetInitialStateæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯å…¨å±€å¯ç”¨çš„çŠ¶æ€å€¼</p><h2 id="ProComponentsé«˜çº§è¡¨å•"><a href="#ProComponentsé«˜çº§è¡¨å•" class="headerlink" title="ProComponentsé«˜çº§è¡¨å•"></a>ProComponentsé«˜çº§è¡¨å•</h2><ol><li>é€šè¿‡columnså®šä¹‰è¡¨æ ¼æœ‰å“ªäº›åˆ—</li><li><p>columnså±æ€§ </p><pre><code>        dataIndex å¯¹åº”è¿”å›æ•°æ®çš„å¯¹è±¡å±æ€§        titleè¡¨æ ¼åˆ—å        copyable æ˜¯å¦å…è®¸å¤åˆ¶        ellipsis æ˜¯å¦å…è®¸ç¼©ç•¥        valueType ç”¨äºå£°æ˜è¿™ä¸€åˆ—çš„ç±»å‹</code></pre></li></ol><h3 id="ä¼ä¸šé¡¹ç›®æµç¨‹"><a href="#ä¼ä¸šé¡¹ç›®æµç¨‹" class="headerlink" title="ä¼ä¸šé¡¹ç›®æµç¨‹"></a>ä¼ä¸šé¡¹ç›®æµç¨‹</h3><ol><li>éœ€æ±‚åˆ†æ</li><li>è®¾è®¡ï¼ˆæ¦‚è¦è®¾è®¡ã€è¯¦ç»†è®¾è®¡ï¼‰</li><li>æŠ€æœ¯é€‰å‹</li><li>åˆå§‹åŒ–/å¼•å…¥éœ€è¦çš„æŠ€æœ¯</li><li>å†™Demo</li><li>å†™ä»£ç ï¼ˆå®ç°ä¸šåŠ¡é€»è¾‘ï¼‰</li><li>æµ‹è¯•ï¼ˆå•å…ƒæµ‹è¯•ï¼‰</li><li>ä»£ç æäº¤/ä»£ç è¯„å®¡</li><li>éƒ¨ç½²</li><li>å‘å¸ƒ</li></ol><h1 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h1><ol><li>ç™»å½•/æ³¨å†Œ</li><li>ç”¨æˆ·ç®¡ç†ï¼ˆä»…ç®¡ç†å‘˜å¯è§ï¼‰å¯¹ç”¨æˆ·çš„æŸ¥è¯¢æˆ–è€…ä¿®æ”¹</li><li>ç”¨æˆ·æ ¡éªŒï¼ˆä»…æ˜Ÿçƒ/vipç”¨æˆ·ï¼‰</li></ol><h1 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h1><p>å‰ç«¯ï¼šä¸‰ä»¶å¥—+React+ç»„ä»¶åº“ Ant Design+Umi+Ant Design Proï¼ˆç°æˆçš„ç®¡ç†ç³»ç»Ÿï¼‰</p><p>åç«¯ï¼šJavaï¼ˆç¼–ç¨‹è¯­è¨€ï¼‰+</p><p>springï¼ˆä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå¸®åŠ©ç®¡ç†Javaå¯¹è±¡ï¼Œé›†æˆä¸€äº›å…¶ä»–å†…å®¹ï¼‰+</p><p>springmvcï¼ˆwebæ¡†æ¶ï¼Œæä¾›æ¥å£è®¿é—®ã€restfulæ¥å£ç­‰èƒ½åŠ›ï¼‰+</p><p>mybatisï¼ˆJavaæ“ä½œæ•°æ®åº“çš„æ¡†æ¶ï¼ŒæŒä¹…å±‚æ¡†æ¶ï¼Œå¯¹jdbcçš„å°è£…ï¼‰+</p><p>mybatis-plusï¼ˆå¯¹mybatisçš„å¢å¼ºå—ï¼Œä¸ç”¨å†™sqlä¹Ÿèƒ½å®ç°å¢åˆ æ”¹æŸ¥ï¼‰+</p><p>springbootï¼ˆå¿«é€Ÿå¯åŠ¨/å¿«é€Ÿé›†æˆé¡¹ç›®ã€‚ä¸ç”¨è‡ªå·±ç®¡ç†springé…ç½®ï¼Œä¸ç”¨è‡ªå·±æ•´åˆå„ç§æ¡†æ¶ï¼‰+</p><p>mysql+</p><p>Junitï¼ˆå•å…ƒæµ‹è¯•åº“ï¼‰</p><p>éƒ¨ç½²ï¼šæœåŠ¡å™¨/å®¹å™¨ï¼ˆå¹³å°ï¼‰</p><h1 id="è®¡åˆ’"><a href="#è®¡åˆ’" class="headerlink" title="è®¡åˆ’"></a>è®¡åˆ’</h1><p>1ã€åˆå§‹åŒ–é¡¹ç›®</p><pre><code>1ã€å‰ç«¯åˆå§‹åŒ–         1ã€åˆå§‹åŒ–é¡¹ç›®         2ã€å¼•å…¥ä¸€äº›ç»„ä»¶         3ã€æ¡†æ¶ä»‹ç»/ç˜¦èº«2ã€åç«¯åˆå§‹åŒ–         1ã€å‡†å¤‡ç¯å¢ƒï¼ˆMySqlä¹‹ç±»ï¼‰         2ã€å¼•å…¥æ¡†æ¶ï¼ˆæ•´åˆæ¡†æ¶ï¼‰</code></pre><p>2ã€æ•°æ®åº“è®¾è®¡</p><p>3ã€ç™»å½•/æ³¨å†Œ</p><pre><code>  1ã€ åç«¯           1ã€è§„æ•´é¡¹ç›®ç›®å½•           2ã€å®ç°åŸºæœ¬æ•°æ®åº“æ“ä½œï¼ˆæ“ä½œuserè¡¨ï¼‰                     1ã€æ¨¡å‹ user å¯¹è±¡ â‡’ å’Œæ•°æ®åº“çš„å­—æ®µå…³è”ï¼Œè‡ªåŠ¨ç”Ÿæˆ           3ã€å†™ç™»å½•é€»è¾‘  2ã€å‰ç«¯</code></pre><p>4ã€ç”¨æˆ·ç®¡ç†</p><pre><code>   1ã€ å‰ç«¯   2ã€åç«¯</code></pre><h1 id="å‰ç«¯åˆå§‹åŒ–"><a href="#å‰ç«¯åˆå§‹åŒ–" class="headerlink" title="å‰ç«¯åˆå§‹åŒ–"></a>å‰ç«¯åˆå§‹åŒ–</h1><p>å®‰è£…å‰ç«¯æ¡†æ¶Ant Design Pro</p><p><a href="https://pro.ant.design/zh-CN/docs/getting-started/">å¼€å§‹ä½¿ç”¨ - Ant Design Pro</a></p><p>Umiï¼šReactçš„æ•´åˆæ¡†æ¶ï¼Œç”¨äºæ›´å°‘çš„ä»£ç å®ç°å‰ç«¯</p><p>å»ºè®®ä½¿ç”¨nodejs18ï¼Œä»¥åŠæ—§ç‰ˆæœ¬çš„umiè„šæ‰‹æ¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @ant-design/pro-cli@3.1.0 -g</span><br></pre></td></tr></table></figure><p>é€‰æ‹©umi3</p><p>æ¡†æ¶é€‰æ‹©simple</p><p>ä¸‹è½½umiæ‚¬æµ®çª—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add @umijs/preset-ui -D</span><br></pre></td></tr></table></figure><h2 id="ç˜¦èº«"><a href="#ç˜¦èº«" class="headerlink" title="ç˜¦èº«"></a>ç˜¦èº«</h2><p>å»é™¤å›½é™…åŒ–ï¼ˆä¸åŒåœ°åŒºç”¨æˆ·ï¼‰</p><p>å»é™¤e2eï¼ˆå®šä¹‰ä¸€ç³»åˆ—æµ‹è¯•æµç¨‹ï¼‰</p><p>å»é™¤swaggerï¼ˆæ¥å£æ–‡æ¡£å·¥å…·ï¼‰</p><h1 id="åç«¯åˆå§‹åŒ–"><a href="#åç«¯åˆå§‹åŒ–" class="headerlink" title="åç«¯åˆå§‹åŒ–"></a>åç«¯åˆå§‹åŒ–</h1><p>å®‰è£…æ•°æ®åº“ï¼ˆä¸€èˆ¬ä¸ºMysqlï¼‰</p><h3 id="ä¸‰ç§åˆå§‹åŒ–Javaé¡¹ç›®åˆå§‹åŒ–æ–¹æ³•"><a href="#ä¸‰ç§åˆå§‹åŒ–Javaé¡¹ç›®åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="ä¸‰ç§åˆå§‹åŒ–Javaé¡¹ç›®åˆå§‹åŒ–æ–¹æ³•"></a>ä¸‰ç§åˆå§‹åŒ–Javaé¡¹ç›®åˆå§‹åŒ–æ–¹æ³•</h3><ol><li>Githubä¸‹è½½æ¨¡æ¿</li><li>SpringBootå®˜æ–¹ä¸‹è½½</li><li>ç›´æ¥åœ¨IDEAå¼€å‘å·¥å…·ä¸­ç”Ÿæˆ</li></ol><p>å¦‚æœè¦å¼•å…¥JavaåŒ…å»mavenä¸­å¿ƒåº“ä¸­å¯»æ‰¾</p><p>mybatisplusæ•´åˆäº†mybatisåŒ…ï¼Œä¸€èˆ¬ä¸ç”¨å†å¼•å…¥mybatisä¾èµ–</p><h1 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h1><p>æœ‰å“ªäº›å­—æ®µï¼Ÿå­—æ®µçš„ç±»å‹ï¼Ÿæ•°æ®åº“å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ</p><p>è¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”~</p><p>ç”¨æˆ·è¡¨ï¼š</p><p>idï¼ˆä¸»é”®ï¼‰bigint</p><p>userAccountç™»å½•è´¦å· varchar</p><p>username æ˜µç§° varchar</p><p>avatarUrl å¤´åƒ varchar</p><p>gender æ€§åˆ« tinyint</p><p>userPassword å¯†ç  varchar</p><p>phone ç”µè¯ varchar</p><p>email é‚®ç®± varchar</p><p>userStatus ç”¨æˆ·çŠ¶æ€ï¼ˆæ¯”å¦‚è¢«å°å·ï¼‰int 0 1</p><hr><p>createTime åˆ›å»ºæ—¶é—´ ï¼ˆæ•°æ®æ’å…¥æ—¶é—´ï¼‰ datatime</p><p>updateTime æ›´æ–°æ—¶é—´ï¼ˆæ•°æ®æ›´æ–°æ—¶é—´ï¼‰ datatime</p><p>isDelete æ˜¯å¦åˆ é™¤ 0 1ï¼ˆé€»è¾‘åˆ é™¤ï¼‰tinyint</p><p>userRole ç”¨æˆ·è§’è‰² 0-æ™®é€šç”¨æˆ· 1-ç®¡ç†å‘˜</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line">    id           <span class="type">bigint</span> auto_increment comment <span class="string">&#x27;id&#x27;</span></span><br><span class="line">        <span class="keyword">primary</span> key,</span><br><span class="line">    username     <span class="type">varchar</span>(<span class="number">256</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;ç”¨æˆ·æ˜µç§°&#x27;</span>,</span><br><span class="line">    userAccount  <span class="type">varchar</span>(<span class="number">256</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;è´¦å·&#x27;</span>,</span><br><span class="line">    avatarUrl    <span class="type">varchar</span>(<span class="number">1024</span>)                      <span class="keyword">null</span> comment <span class="string">&#x27; ç”¨æˆ·å¤´åƒ&#x27;</span>,</span><br><span class="line">    gender       tinyint                            <span class="keyword">null</span> comment <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">    userPassword <span class="type">varchar</span>(<span class="number">512</span>)                       <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;ç”¨æˆ·å¯†ç &#x27;</span>,</span><br><span class="line">    phone        <span class="type">varchar</span>(<span class="number">128</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;ç”µè¯&#x27;</span>,</span><br><span class="line">    email        <span class="type">varchar</span>(<span class="number">512</span>)                       <span class="keyword">null</span> comment <span class="string">&#x27;é‚®ç®±&#x27;</span>,</span><br><span class="line">    userStatus   <span class="type">int</span>      <span class="keyword">default</span> <span class="number">0</span>                 <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;çŠ¶æ€ 0 æ­£å¸¸&#x27;</span>,</span><br><span class="line">    createTime   datetime <span class="keyword">default</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">null</span> comment <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">    updateTime   datetime <span class="keyword">default</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">null</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">CURRENT_TIMESTAMP</span> comment <span class="string">&#x27;æ›´æ–°æ—¶é—´&#x27;</span>,</span><br><span class="line">    isDelete     tinyint  <span class="keyword">default</span> <span class="number">0</span>                 <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27; æ˜¯å¦åˆ é™¤&#x27;</span></span><br><span class="line">)</span><br><span class="line">    comment <span class="string">&#x27;ç”¨æˆ·&#x27;</span>;</span><br></pre></td></tr></table></figure><p>controllerå±‚ï¼šä¸åšä»»ä½•ä¸šåŠ¡å¤„ç†ï¼Œæ¥å—è¯·æ±‚</p><p>serviceå±‚ï¼šç¼–è¾‘ä¸šåŠ¡é€»è¾‘</p><p>mapperå±‚ï¼šæ“ä½œæ•°æ®</p><p>utilsï¼šå·¥å…·ç±»</p><h1 id="è‡ªåŠ¨ç”Ÿæˆå™¨ä½¿ç”¨"><a href="#è‡ªåŠ¨ç”Ÿæˆå™¨ä½¿ç”¨" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆå™¨ä½¿ç”¨"></a>è‡ªåŠ¨ç”Ÿæˆå™¨ä½¿ç”¨</h1><p>ä½¿ç”¨mybatisXæ ¹æ®æ•°æ®åº“ç”Ÿæˆdomainå®ä½“å¯¹è±¡ã€mapperã€mapper.xmlã€serviceã€impl</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æµ‹è¯•çš„åŒ…åä¸ä¸šåŠ¡ä»£ç çš„ç»“æ„ä¸€è‡´</p><p>ä½¿ç”¨generateAllSetterç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</p><aside>â—å¦‚æœXç”Ÿæˆä½¿ç”¨é©¼å³°ç”Ÿæˆï¼Œæ¡†æ¶è‡ªåŠ¨å¼€å¯é©¼å³°å‘½åè§„åˆ™æ˜ å°„ï¼Œå› æ­¤è¦å…³é—­è‡ªåŠ¨è½¬æ¢</aside><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h1 id="æ³¨å†Œé€»è¾‘"><a href="#æ³¨å†Œé€»è¾‘" class="headerlink" title="æ³¨å†Œé€»è¾‘"></a>æ³¨å†Œé€»è¾‘</h1><p>1ã€ç”¨æˆ·åœ¨å‰ç«¯è¾“å…¥è´¦æˆ·å’Œå¯†ç ã€ä»¥åŠæ ¡éªŒç ï¼ˆtodoï¼‰</p><p>2ã€æ ¡éªŒç”¨æˆ·çš„è´¦æˆ·ã€å¯†ç ã€æ ¡éªŒå¯†ç æ˜¯å¦ç¬¦åˆè¦æ±‚</p><pre><code>            1ã€éç©º            2ã€è´¦æˆ·ä¸å°äº4ä½           3ã€å¯†ç ä¸å°äº8ä½           4ã€è´¦æˆ·ä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦           5ã€å¯†ç å’Œæ ¡éªŒç ç›¸åŒ           6ã€è´¦æˆ·ä¸èƒ½é‡å¤</code></pre><p>3ã€å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼ˆå¯†ç ä¸è¦ä»¥æ˜æ–‡å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼‰</p><p>4ã€å‘æ•°æ®åº“æ’å…¥ç”¨æˆ·æ•°æ®</p><h1 id="ç™»å½•æ¥å£"><a href="#ç™»å½•æ¥å£" class="headerlink" title="ç™»å½•æ¥å£"></a>ç™»å½•æ¥å£</h1><p>æ¥å—å‚æ•°ï¼šç”¨æˆ·è´¦æˆ·ã€å¯†ç </p><p>è¯·æ±‚ç±»å‹ï¼šPOST</p><p>è¯·æ±‚ä½“ï¼šJSONæ ¼å¼</p><blockquote><p>è¯·æ±‚å‚æ•°å¾ˆé•¿æ—¶ä¸å»ºè®®ç”¨GET</p></blockquote><p>è¿”å›å€¼ï¼šç”¨æˆ·ä¿¡æ¯ï¼ˆè„±æ•ï¼‰</p><aside>â—è„±æ•ï¼šæ–°ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œåªè®¾ç½®å…è®¸è¿”å›ç»™å‰ç«¯çš„å€¼</aside><h2 id="é€»è¾‘"><a href="#é€»è¾‘" class="headerlink" title="é€»è¾‘"></a>é€»è¾‘</h2><p>1ã€æ ¡éªŒç”¨æˆ·è´¦æˆ·å’Œå¯†ç æ˜¯å¦è¿æ³•</p><pre><code>            1ã€éç©º            2ã€è´¦æˆ·ä¸å°äº4ä½           3ã€å¯†ç ä¸å°äº8ä½           4ã€è´¦æˆ·ä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦</code></pre><p>2ã€æ ¡éªŒå¯†ç æ˜¯å¦è¾“å…¥æ­£ç¡®ï¼Œè¦å’Œæ•°æ®åº“ä¸­çš„å¯†æ–‡å¯†ç å»å¯¹æ¯”</p><p>3ã€è¿”å›ç”¨æˆ·ä¿¡æ¯ï¼ˆè„±æ•ï¼Œéšè—æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œé˜²æ­¢æ•°æ®åº“ä¸­çš„å­—æ®µæ³„éœ²ç»™å‰ç«¯</p><p>4ã€æˆ‘ä»¬è¦è®°å½•ç”¨æˆ·çš„ç™»å½•æ€ï¼ˆsessionï¼‰ï¼Œå°†å…¶å­˜åˆ°æœåŠ¡å™¨ä¸Šï¼ˆç”¨åç«¯SpringBootæ¡†æ¶å°è£…çš„æœåŠ¡å™¨tomcatå»è®°å½•ï¼‰cookie</p><p>5ã€è¿”å›è„±æ•åçš„ç”¨æˆ·ä¿¡æ¯</p><h2 id="æ§åˆ¶å±‚Controllerå°è£…è¯·æ±‚"><a href="#æ§åˆ¶å±‚Controllerå°è£…è¯·æ±‚" class="headerlink" title="æ§åˆ¶å±‚Controllerå°è£…è¯·æ±‚"></a>æ§åˆ¶å±‚Controllerå°è£…è¯·æ±‚</h2><p>application.ymlæŒ‡å®šæ¥å£å…¨å±€api</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">servlet:</span><br><span class="line">  context-path: /api</span><br></pre></td></tr></table></figure><p>@RestControlleré€‚ç”¨äºrestfulé£æ ¼çš„apiï¼Œè¿”å›å€¼é»˜è®¤ä¸ºjsonç±»å‹</p><p>controllerå±‚å€¾å‘äºå¯¹è¯·æ±‚å‚æ•°æœ¬èº«çš„æ ¡éªŒï¼Œä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘æœ¬èº«ï¼ˆè¶Šå¥½è¶Šå¥½ï¼‰</p><p>serviceå±‚æ˜¯å¯¹ä¸šåŠ¡é€»è¾‘çš„æ ¡éªŒï¼ˆæœ‰å¯èƒ½è¢«controllerä¹‹å¤–çš„ç±»è°ƒç”¨ï¼‰</p><h3 id="å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»å½•"><a href="#å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»å½•" class="headerlink" title="å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»å½•"></a>å¦‚ä½•çŸ¥é“æ˜¯å“ªä¸ªç”¨æˆ·ç™»å½•</h3><p>1ã€è¿æ¥æœåŠ¡å™¨ç«¯åï¼Œå¾—åˆ°ä¸€ä¸ªsession çŠ¶æ€ï¼ˆåŒ¿åä¼šè¯ï¼‰ï¼Œè¿”å›ç»™å‰ç«¯</p><p>2ã€ç™»å½•æˆåŠŸåï¼Œå¾—åˆ°äº†ç™»å½•æˆåŠŸçš„sessionï¼Œå¹¶ä¸”ç»™è¯¥sessionè®¾ç½®ä¸€äº›å€¼ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ï¼‰ï¼Œè¿”å›ç»™å‰ç«¯ä¸€ä¸ªè®¾ç½®cookieçš„â€œå‘½ä»¤â€</p><p>3ã€å‰ç«¯æ¥æ”¶åˆ°åç«¯çš„å‘½ä»¤åï¼Œè®¾ç½®cookieï¼Œä¿å­˜åˆ°æµè§ˆå™¨å†…</p><p>4ã€å‰ç«¯å†æ¬¡è¯·æ±‚åç«¯çš„æ—¶å€™ï¼ˆç›¸åŒçš„åŸŸåï¼‰ï¼Œåœ¨è¯·æ±‚å¤´ä¸­å¸¦ä¸Šcookieå»è¯·æ±‚</p><p>5ã€åç«¯æ‹¿åˆ°å‰ç«¯ä¼ æ¥çš„cookieï¼Œæ‰¾åˆ°å¯¹åº”çš„session</p><p>6ã€å†ä»sessionä¸­å–å‡ºåŸºäºè¯¥sessionå­˜å‚¨çš„å˜é‡ï¼ˆç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ã€ç™»å½•åï¼‰</p><h1 id="ç”¨æˆ·ç®¡ç†æ¥å£"><a href="#ç”¨æˆ·ç®¡ç†æ¥å£" class="headerlink" title="ç”¨æˆ·ç®¡ç†æ¥å£"></a>ç”¨æˆ·ç®¡ç†æ¥å£</h1><aside>â—å¿…é¡»é‰´æƒ</aside><p>1ã€æŸ¥è¯¢ç”¨æˆ·</p><pre><code>       1ã€å…è®¸æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢</code></pre><p>2ã€åˆ é™¤ç”¨æˆ·</p><h1 id="å†™ä»£ç æµç¨‹"><a href="#å†™ä»£ç æµç¨‹" class="headerlink" title="å†™ä»£ç æµç¨‹"></a>å†™ä»£ç æµç¨‹</h1><p>å…ˆåšè®¾è®¡</p><p>ä»£ç å®ç°</p><p>æŒç»­ä¼˜åŒ–ï¼ˆå¤ç”¨ä»£ç ï¼Œæå–å…¬å…±é€»è¾‘/å¸¸é‡ï¼‰</p><h1 id="å‰åç«¯äº¤äº’"><a href="#å‰åç«¯äº¤äº’" class="headerlink" title="å‰åç«¯äº¤äº’"></a>å‰åç«¯äº¤äº’</h1><p>å‰ç«¯éœ€è¦å‘åç«¯å‘é€è¯·æ±‚</p><p>å‰ç«¯ ajax æ¥è¯·æ±‚åç«¯</p><p>axios å°è£…äº† ajax</p><p>request æ˜¯ ant design é¡¹ç›®åˆå°è£…äº†ä¸€æ¬¡</p><p>è¿½è¸ªrequestæºç ï¼šç”¨åˆ°äº†umiæ’ä»¶ã€requestConfigæ˜¯ä¸€ä¸ªé…ç½®</p><h2 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h2><p>æ­£å‘ä»£ç†ï¼šæ›¿å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</p><p>åå‘ä»£ç†ï¼šæ›¿æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚</p><p>å¦‚ä½•è·å¾—ä»£ç†ï¼Ÿ</p><p>NginxæœåŠ¡å™¨</p><p>Node.jsæœåŠ¡å™¨</p><p>å‰ç«¯ä¸­æ°¸è¿œä¸ä¼šä¿®æ”¹çš„å€¼ç”¨å¤§å†™</p><h1 id="ç”¨æˆ·æ ¡éªŒ"><a href="#ç”¨æˆ·æ ¡éªŒ" class="headerlink" title="ç”¨æˆ·æ ¡éªŒ"></a>ç”¨æˆ·æ ¡éªŒ</h1><blockquote><p>ä»…é€‚ç”¨äºç”¨æˆ·å¯ä¿¡çš„æƒ…å†µ</p></blockquote><p>å…ˆè®©ç”¨æˆ·è‡ªå·±å¡«ï¼š2-5ä½ç¼–å·</p><p>åå°è¡¥å……å¯¹ç¼–å·çš„æ ¡éªŒï¼šé•¿åº¦æ ¡éªŒï¼Œå”¯ä¸€æ€§æ ¡éªŒ</p><p>å‰ç«¯è¡¥å……è¾“å…¥æ¡†ï¼Œé€‚é…åç«¯</p><blockquote><p>åæœŸæ‹‰å–æ•°æ®ï¼Œå®šæœŸæ¸…ç†è¿è§„ç”¨æˆ·</p></blockquote><h1 id="åç«¯ä¼˜åŒ–"><a href="#åç«¯ä¼˜åŒ–" class="headerlink" title="åç«¯ä¼˜åŒ–"></a>åç«¯ä¼˜åŒ–</h1><ol><li><p>é€šç”¨è¿”å›å¯¹è±¡ï¼Œç»™å¯¹è±¡è¡¥å……ä¸€äº›ä¿¡æ¯<br>ç›®çš„ï¼šç»™å¯¹è±¡è¡¥å……ä¸€äº›ä¿¡æ¯ï¼Œå‘Šè¯‰å‰ç«¯è¿™ä¸ªè¯·æ±‚åœ¨ä¸šåŠ¡å±‚é¢ä¸Šæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥<br>è‡ªå®šä¹‰é”™è¯¯ç <br>è¿”å›ç±»æ”¯æŒè¿”å›æ­£å¸¸å’Œé”™è¯¯</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æˆåŠŸ</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">       <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="comment">//ä¸šåŠ¡çŠ¶æ€ç </span></span><br><span class="line">       <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">           <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hty&quot;</span></span><br><span class="line">       <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="comment">//é”™è¯¯</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">       <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">50001</span><span class="comment">//ä¸šåŠ¡çŠ¶æ€ç </span></span><br><span class="line">       <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line">       <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç”¨æˆ·æ“ä½œå¼‚å¸¸ã€xxx&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>å°è£…å…¨å±€å¼‚å¸¸å¤„ç†<br>1ã€å®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»<br>   1ã€ç›¸å¯¹äºjavaçš„å¼‚å¸¸ç±»ï¼Œæ”¯æŒæ›´å¤šå­—æ®µ<br>   2ã€è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œæ›´çµæ´»/å¿«æ·çš„è®¾ç½®å­—æ®µ<br>2ã€ç¼–å†™å…¨å±€å¼‚å¸¸å¤„ç†å™¨<br>  ä½œç”¨ï¼š<br>   1ã€æ•è·ä»£ç ä¸­çš„æ‰€æœ‰çš„å¼‚å¸¸ï¼Œå†…éƒ¨æ¶ˆåŒ–ï¼Œé›†ä¸­å¤„ç†ï¼Œè®©å‰ç«¯å¾—åˆ°æ›´è¯¦ç»†çš„ä¸šåŠ¡æŠ¥é”™/ä¿¡æ¯<br>   2ã€åŒæ—¶å±è”½æ‰é¡¹ç›®æ¡†æ¶æœ¬èº«çš„å¼‚å¸¸ï¼ˆä¸æš´éœ²æœåŠ¡å™¨å†…éƒ¨çŠ¶æ€ï¼‰<br>   3ã€é›†ä¸­è®°å½•æ—¥å¿—<br> å®ç°ï¼š<br>   1ã€Srping AOPï¼šåœ¨è°ƒç”¨æ–¹æ³•å‰åè¿›è¡Œé¢å¤–çš„å¤„ç†</p></li><li>å…¨å±€è¯·æ±‚æ—¥å¿—å’Œç™»å½•æ ¡éªŒ</li></ol><h1 id="å‰ç«¯ä¼˜åŒ–"><a href="#å‰ç«¯ä¼˜åŒ–" class="headerlink" title="å‰ç«¯ä¼˜åŒ–"></a>å‰ç«¯ä¼˜åŒ–</h1><p>1ã€å¯¹æ¥åç«¯çš„è¿”å›å€¼ï¼Œå–data</p><p>2ã€å…¨å±€å“åº”å¤„ç†<br>        1ã€åº”ç”¨åœºæ™¯ï¼šéœ€è¦å¯¹æ¥å£çš„é€šç”¨å“åº”è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œæ¯”å¦‚ä»responseä¸­å–å‡ºdataï¼›æˆ–è€…æ ¹æ®codeå–é›†ä¸­å¤„ç†é”™è¯¯ï¼Œæ¯”å¦‚ç”¨æˆ·æœªç™»å½•ã€æ²¡æƒé™ä¹‹ç±»çš„<br>        2ã€ä¼˜åŠ¿ï¼šä¸ç”¨åœ¨æ¯ä¸ªæ¥å£è¯·æ±‚ä¸­éƒ½å»å†™ç›¸åŒçš„é€»è¾‘<br>        3ã€å®ç°ï¼šå‚è€ƒç”¨çš„è¯·æ±‚å°è£…å·¥å…·çš„å®˜æ–¹æ–‡æ¡£ï¼Œæ¯”å¦‚umi-request<br>å¦‚æœç”¨çš„axiosï¼Œå‚è€ƒaxiosçš„æ–‡æ¡£ã€‚åˆ›å»ºæ–°çš„æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸ªå…¨å±€è¯·æ±‚ç±»ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸ªå…¨å±€è¯·æ±‚ç±»ã€‚åœ¨å‘é€è¯·æ±‚æ—¶ï¼Œä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„å®šä¹‰çš„å…¨å±€è¯·æ±‚ç±»</p><h1 id="å¤šç¯å¢ƒ"><a href="#å¤šç¯å¢ƒ" class="headerlink" title="å¤šç¯å¢ƒ"></a>å¤šç¯å¢ƒ</h1><p>æœ¬åœ°å¼€å‘ï¼šlocalhost</p><p>å®šä¹‰ï¼šåŒä¸€å¥—é¡¹ç›®ä»£ç åœ¨ä¸åŒçš„é˜¶æ®µéœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥éƒ¨ç½²åˆ°ä¸åŒçš„æœºå™¨ä¸Š</p><p>ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ</p><ol><li>æ¯ä¸ªç¯å¢ƒäº’ä¸å½±å“</li><li>åŒºåˆ†ä¸åŒçš„é˜¶æ®µï¼šå¼€å‘/æµ‹è¯•/ç”Ÿäº§</li><li>å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–<br>1ã€æœ¬åœ°æ—¥å¿—çº§åˆ«<br>2ã€ç²¾ç®€ä¾èµ–ï¼ŒèŠ‚çœé¡¹ç›®ä½“ç§¯<br>3ã€é¡¹ç›®çš„ç¯å¢ƒ/å‚æ•°å¯ä»¥è°ƒæ•´ï¼Œæ¯”å¦‚JVMå‚æ•°</li></ol><p>é’ˆå¯¹ä¸åŒç¯å¢ƒåšä¸åŒçš„äº‹æƒ…</p><p>æœ¬åœ°ç¯å¢ƒåˆ†ç±»ï¼š</p><ol><li>æœ¬åœ°ç¯å¢ƒ</li><li>å¼€å‘ç¯å¢ƒï¼ˆè¿œç¨‹å¼€å‘ï¼‰å¤§å®¶è¿åŒä¸€å°æœºå™¨ï¼Œä¸ºäº†å¤§å®¶å¼€å‘æ–¹ä¾¿</li><li>æµ‹è¯•ç¯å¢ƒï¼ˆæµ‹è¯•ï¼‰å¼€å‘/æµ‹è¯•/äº§å“ï¼Œæ€§èƒ½æµ‹è¯•/åŠŸèƒ½æµ‹è¯•/ç³»ç»Ÿé›†æˆæµ‹è¯•ï¼Œç‹¬ç«‹çš„æ•°æ®åº“ã€ç‹¬ç«‹çš„æœåŠ¡å™¨</li><li>é¢„å‘å¸ƒç¯å¢ƒï¼ˆä½“éªŒæœï¼‰ï¼šå’Œæ­£å¼ç¯å¢ƒä¸€è‡´ï¼Œæ­£å¼æ•°æ®åº“</li><li>æ­£å¼ç¯å¢ƒï¼ˆçº¿ä¸Šï¼Œå…¬å¼€å¯¹å¤–è®¿é—®çš„é¡¹ç›®ï¼‰ï¼šå°½é‡ä¸è¦æ”¹åŠ¨ï¼Œä¿è¯ä¸Šçº¿å‰çš„ä»£ç æ˜¯â€œå®Œç¾â€è¿è¡Œ</li><li>æ²™ç®±ç¯å¢ƒï¼ˆå®éªŒç¯å¢ƒï¼‰ï¼šä¸ºäº†åšå®éªŒ</li></ol><h2 id="å‰ç«¯å¤šç¯å¢ƒå®æˆ˜"><a href="#å‰ç«¯å¤šç¯å¢ƒå®æˆ˜" class="headerlink" title="å‰ç«¯å¤šç¯å¢ƒå®æˆ˜"></a>å‰ç«¯å¤šç¯å¢ƒå®æˆ˜</h2><p>è¯·æ±‚åœ°å€</p><pre><code> å¼€å‘ç¯å¢ƒï¼šlocalhost:8000</code></pre><p>   æ³¨æ„ï¼š  çº¿ä¸Šç¯å¢ƒï¼šä¸€å®šè¦é…ç½®æ¸…æ¥š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">startFront</span>(<span class="params">env</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(enc === <span class="string">&#x27;prod&#x27;</span>)&#123;</span><br><span class="line">      <span class="comment">//ä¸è¾“å‡ºæ³¨é‡Š</span></span><br><span class="line">      <span class="comment">//é¡¹ç›®ä¼˜åŒ–</span></span><br><span class="line">      <span class="comment">//ä¿®æ”¹è¯·æ±‚åœ°å€</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="comment">//ä¿æŒæœ¬åœ°å¼€å‘é€»è¾‘</span></span><br><span class="line">      </span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨äº†umiæ¡†æ¶ï¼Œbuildæ—¶ä¼šè‡ªåŠ¨ä¼ å…¥NODE ENV == production å‚æ•°ï¼Œsatrt NODE_ENVå‚æ•°ä¸ºdevelopment</p><p>å¯åŠ¨æ–¹å¼</p><pre><code> å¼€å‘ç¯å¢ƒï¼šnpm run startï¼ˆæœ¬åœ°å¯åŠ¨ï¼‰ çº¿ä¸Šç¯å¢ƒï¼šnpm run buildï¼ˆé¡¹ç›®æ„å»ºï¼‰ï¼Œå¯ä»¥ä½¿ç”¨serveå·¥å…·å¯åŠ¨</code></pre><p>é¡¹ç›®çš„é…ç½®</p><p>   ä¸åŒçš„é¡¹ç›®ï¼ˆæ¡†æ¶ï¼‰éƒ½æœ‰ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œumiçš„é…ç½®æ–‡ä»¶æ˜¯config</p><pre><code>     å¯ä»¥åœ¨é…ç½®ç¯å¢ƒåæ·»åŠ å¯¹åº”çš„ç¯å¢ƒåç§°åç¼€æ¥åŒºåˆ†      å¼€å‘ç¯å¢ƒï¼šconfig.dev.ts      ç”Ÿäº§ç¯å¢ƒï¼šconfig.prod.ts      é€šç”¨ç¯å¢ƒï¼šconfig.ts</code></pre><h2 id="åç«¯å¤šç¯å¢ƒå®æˆ˜"><a href="#åç«¯å¤šç¯å¢ƒå®æˆ˜" class="headerlink" title="åç«¯å¤šç¯å¢ƒå®æˆ˜"></a>åç«¯å¤šç¯å¢ƒå®æˆ˜</h2><p>SpringBooté¡¹ç›®ï¼Œé€šè¿‡application.ymlæ·»åŠ ä¸åŒçš„åç¼€æ¥åŒºåˆ†</p><p>å¯ä»¥åœ¨å¯åŠ¨é¡¹ç›®æ—¶ä¼ å…¥ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar .\jaråŒ… --spring.profiles.active=prod</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯æ”¹ä¾èµ–çš„ç¯å¢ƒåœ°å€ï¼š</p><ul><li>æ•°æ®åº“åœ°å€</li><li>ç¼“å­˜åœ°å€</li><li>æ¶ˆæ¯é˜Ÿåˆ—åœ°å€</li><li>é¡¹ç›®ç«¯å£å·</li></ul><p>æœåŠ¡å™¨é…ç½®</p><h1 id="é¡¹ç›®éƒ¨ç½²"><a href="#é¡¹ç›®éƒ¨ç½²" class="headerlink" title="é¡¹ç›®éƒ¨ç½²"></a>é¡¹ç›®éƒ¨ç½²</h1><h2 id="åŸå§‹éƒ¨ç½²"><a href="#åŸå§‹éƒ¨ç½²" class="headerlink" title="åŸå§‹éƒ¨ç½²"></a>åŸå§‹éƒ¨ç½²</h2><p>ä»€ä¹ˆéƒ½è‡ªå·±è£…ï¼ˆä»0å¼€å§‹ï¼‰</p><p>éœ€è¦LinuxæœåŠ¡å™¨ï¼ˆå»ºè®®ç”¨CentOSï¼‰</p><h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><p>éœ€è¦webæœåŠ¡å™¨ï¼šnginx</p><p>å®‰è£…nginxæœåŠ¡å™¨</p><ol><li>ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å¿«é€Ÿå®‰è£…ï¼Œæ¯”å¦‚centosçš„yum</li><li>è‡ªå·±åˆ°å®˜ç½‘å®‰è£…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -o æ–‡ä»¶å æ–‡ä»¶åœ°å€     <span class="comment">#ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line">tar -zxvf å‹ç¼©åŒ…           <span class="comment">#è§£å‹æ–‡ä»¶</span></span><br><span class="line">./configure                <span class="comment">#æ£€æŸ¥ç¯å¢ƒ</span></span><br><span class="line">yum install                <span class="comment">#å®‰è£…ç›¸å…³ç¼ºå¤±åº“</span></span><br><span class="line">make                       <span class="comment">#ç¼–è¯‘</span></span><br><span class="line">make install                <span class="comment">#å®‰è£…</span></span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /../../profile</span><br></pre></td></tr></table></figure><p>é‡æ–°æ¿€æ´»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sourse</span><br></pre></td></tr></table></figure><p>å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä¸€ä»½é…ç½®æ–‡ä»¶nginx.conf</p><p>ä¸Šä¼ å‰ç«¯é¡¹ç›®å¹¶ä¸Šä¼ è‡³äº‘æœåŠ¡å™¨</p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p>å°†rootç›®å½•ä¿®æ”¹ä¸ºç½‘é¡µæ‰€åœ¨ç›®å½•</p><p>é‡æ–°åŠ è½½é…ç½® nginx -s reload</p><p>æ³¨æ„nginxæƒé™</p><h3 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h3><p>javaã€maven</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install jdk</span><br></pre></td></tr></table></figure><p>å°†æºç ä¸Šä¼ è‡³äº‘æœåŠ¡å™¨</p><p>ç”¨mvnæ‰“åŒ…æ„å»ºè·³è¿‡æµ‹è¯•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -DskipTests</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆå¾—åˆ°jaråŒ…</p><p>è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span>  java -jar jaråŒ… --spring.profiles.active=prod  &amp; <span class="comment">#åå°è¿è¡Œé¡¹ç›®</span></span><br></pre></td></tr></table></figure><h2 id="å®å¡”Linuxé¢æ¿"><a href="#å®å¡”Linuxé¢æ¿" class="headerlink" title="å®å¡”Linuxé¢æ¿"></a>å®å¡”Linuxé¢æ¿</h2><p>Linuxè¿ç»´é¢æ¿</p><p>å®˜æ–¹æ•™ç¨‹ï¼š<a href="https://www.bt.cn/new/index.html">å®å¡”é¢æ¿(bt.cn) ç®€å•å¥½ç”¨çš„Linux/WindowsæœåŠ¡å™¨è¿ç»´ç®¡ç†é¢æ¿</a></p><p>äº‘æœåŠ¡å™¨ä¹Ÿæœ‰Linuxå®å¡”é¢æ¿</p><p>æ–¹ä¾¿ç®¡ç†æœåŠ¡å™¨ã€æ–¹ä¾¿å®‰è£…è½¯ä»¶</p><p>å°†ä»£ç æ–‡ä»¶å…¨éƒ¨ä¸Šä¼ è‡³ç›®å½•ä¸‹</p><h2 id="Dockeréƒ¨ç½²"><a href="#Dockeréƒ¨ç½²" class="headerlink" title="Dockeréƒ¨ç½²"></a>Dockeréƒ¨ç½²</h2><p>dockeræ˜¯å®¹å™¨ï¼Œå¯ä»¥å°†é¡¹ç›®çš„ç¯å¢ƒå’Œé¡¹ç›®çš„ä»£ç ä¸€èµ·æ‰“åŒ…æˆé•œåƒï¼Œæ‰€æœ‰äººéƒ½èƒ½ä¸‹è½½é•œåƒï¼Œæ›´å®¹æ˜“åˆ†å‘å’Œç§»æ¤</p><p>å†å¯åŠ¨é¡¹ç›®æ—¶ï¼Œä¸éœ€è¦æ•²ä¸€å¤§å †å‘½ä»¤ï¼Œè€Œæ˜¯ç›´æ¥ä¸‹è½½é•œåƒã€å¯åŠ¨é•œåƒå°±å¯ä»¥äº†</p><p>dockerå¯ä»¥ç†è§£ä¸ºè½¯ä»¶å®‰è£…åŒ…</p><p>ç”¨å®å¡”å®‰è£…dockeræˆ–è€…å®˜ç½‘ä¸‹è½½</p><p>Dockerfileï¼šç”¨äºæŒ‡å®šæ„å»ºDockeré•œåƒçš„æ–¹æ³•ï¼ˆä¸€èˆ¬ä¸éœ€è¦å®Œå…¨ä»0è‡ªå·±å†™ï¼Œä»githubä¸ŠæŸ¥ï¼‰</p><p>Dockerfileç¼–å†™ï¼š</p><ul><li>FROMï¼š5</li><li>WORKDIRï¼šå·¥ä½œç›®å½•</li><li>COPYï¼šä»æœ¬å¤åˆ¶æ–‡ä»¶</li><li>RUNï¼šæ‰§è¡Œå‘½ä»¤</li><li>CMD/ENTRYPOINTï¼šæŒ‡å®šè¿è¡Œå®¹å™¨æ—¶é»˜è®¤è¿›è¡Œçš„å‘½ä»¤</li></ul><p>æ ¹æ®Dockerfileæ„å»ºé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åç«¯</span></span><br><span class="line">docker build -t user-center-backend:v0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment">#å‰ç«¯</span></span><br><span class="line">docker build -t user-center-front:v0.0.1</span><br></pre></td></tr></table></figure><p>Docker æ„å»ºä¼˜åŒ–ï¼šå‡å°‘å°ºå¯¸ã€å‡å°‘æ„å»ºæ—¶é—´ï¼ˆæ¯”å¦‚å¤šé˜¶æ®µæ„å»ºï¼Œå¯ä»¥ä¸¢å¼ƒä¹‹å‰é˜¶æ®µä¸éœ€è¦çš„å†…å®¹ï¼‰</p><p>docker runå¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‰ç«¯</span></span><br><span class="line">docker run -p 80:80 -d user-center-frontend:v0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment">#åç«¯</span></span><br><span class="line">docker run -p 8081:8081 -d user-center-backend:v0.0.1 </span><br></pre></td></tr></table></figure><p>è™šæ‹ŸåŒ–</p><ol><li>ç«¯å£æ˜ å°„ï¼šæŠŠæœ¬æœºçš„èµ„æº(å®é™…è®¿é—®åœ°å€)å’Œå®¹å™¨å†…éƒ¨çš„èµ„æºè¿›è¡Œå…³è”</li><li>ç›®å½•æ˜ å°„ï¼šæŠŠæœ¬æœºçš„ç«¯å£å’Œå®¹å™¨åº”ç”¨çš„ç«¯å£è¿›è¡Œå…³è”</li></ol><p>è¿›å…¥å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -i -t fee2bbb7c9ee /bin/bash</span><br></pre></td></tr></table></figure><p>æ€æ­»å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">kill</span></span><br></pre></td></tr></table></figure><p>å¼ºåˆ¶åˆ é™¤é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi -f</span><br></pre></td></tr></table></figure><h2 id="Dockerå¹³å°éƒ¨ç½²"><a href="#Dockerå¹³å°éƒ¨ç½²" class="headerlink" title="Dockerå¹³å°éƒ¨ç½²"></a>Dockerå¹³å°éƒ¨ç½²</h2><ol><li>äº‘æœåŠ¡å•†çš„å®¹å™¨å¹³å°</li><li>é¢å‘æŸä¸ªé¢†åŸŸçš„å®¹å™¨å¹³å°ï¼ˆè¦èŠ±é’±ï¼‰</li></ol><p>å®¹å™¨å¹³å°çš„å¥½å¤„ï¼š</p><ol><li>ä¸ç”¨è¾“å…¥å‘½ä»¤ï¼Œæ›´æ–¹ä¾¿çœäº‹</li><li>ä¸ç”¨åœ¨æ§åˆ¶å°æ“ä½œï¼Œæ›´å‚»ç“œå¼ã€æ›´ç®€å•</li><li>å¤§å‚è¿ç»´</li><li>é¢å¤–çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ï¼šç›‘æ§ã€å‘Šè­¦</li></ol><h1 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h1><p>å‰ç«¯é¡¹ç›®è®¿é—®ï¼šç”¨æˆ·è¾“å…¥ç½‘å€â†’åŸŸåè§£ææœåŠ¡å™¨ï¼ˆæŠŠç½‘å€è§£æä¸ºipåœ°å€/äº¤ç»™å…¶ä»–çš„åŸŸåè§£ææœåŠ¡ï¼‰â†’</p><p>nginxæ¥æ”¶è¯·æ±‚ï¼Œæ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œè¿”å›æ–‡ä»¶ç»™å‰ç«¯â†’å‰ç«¯åŠ è½½æ–‡ä»¶åˆ°æµè§ˆå™¨ä¸­ï¼ˆjsã€cssï¼‰â†’æ¸²æŸ“é¡µé¢</p><p>åç«¯é¡¹ç›®è®¿é—®ï¼šç”¨æˆ·è¾“å…¥ç½‘å€â†’åŸŸåè§£ææœåŠ¡å™¨â†’æœåŠ¡å™¨â†’åç«¯é¡¹ç›®ï¼ˆæ¯”å¦‚8080ç«¯å£ï¼‰</p><p>nginxåå‘ä»£ç†ï¼šæ›¿æœåŠ¡å™¨æ¥å—è¯·æ±‚ï¼Œè½¬å‘è¯·æ±‚</p><h1 id="è·¨åŸŸé—®é¢˜è§£å†³"><a href="#è·¨åŸŸé—®é¢˜è§£å†³" class="headerlink" title="è·¨åŸŸé—®é¢˜è§£å†³"></a>è·¨åŸŸé—®é¢˜è§£å†³</h1><p>æµè§ˆå™¨ä¸ºäº†ç”¨æˆ·å®‰å…¨ï¼Œä»…å…è®¸å‘åŒåŸŸåã€åŒç«¯å£çš„æœåŠ¡å™¨å‘é€è¯·æ±‚</p><ol><li>æŠŠåŸŸåã€ç«¯å£æ”¹æˆç›¸åŒçš„<br>è®©æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ï¼šå…è®¸è·¨åŸŸï¼ˆè¿”å›cross-origin-allowå“åº”å¤´ï¼‰</li><li>ç½‘å…³æ”¯æŒï¼ˆNginxï¼‰</li><li>ä¿®æ”¹åç«¯æœåŠ¡<br>1ã€é…ç½®@CrossOriginæ³¨è§£<br>2ã€æ·»åŠ webå…¨å±€è¯·æ±‚æ‹¦æˆªå™¨<br>3ã€å®šä¹‰æ–°çš„crosFiler Bean</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç”¨æˆ·ä¸­å¿ƒ&quot;&gt;&lt;a href=&quot;#ç”¨æˆ·ä¸­å¿ƒ&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æˆ·ä¸­å¿ƒ&quot;&gt;&lt;/a&gt;ç”¨æˆ·ä¸­å¿ƒ&lt;/h1&gt;&lt;p&gt;åŠŸèƒ½ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;ç›®çš„ï¼šäº†è§£åšé¡¹ç›®çš„æ€è·¯ï¼Œæ¥è§¦ä¸€äº›ä¼ä¸šçº§çš„å¼€å‘æŠ€æœ¯&lt;/p&gt;
&lt;p&gt;ç›®æ ‡ï¼šèƒ½åšå‡ºç®¡ç†ç³»ç»Ÿ&lt;/p</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="é¡¹ç›®å¼€å‘" scheme="https://db-hanty.github.io/tags/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Dockerçš„å¿«é€Ÿå…¥é—¨</title>
    <link href="https://db-hanty.github.io/posts/ad864190.html"/>
    <id>https://db-hanty.github.io/posts/ad864190.html</id>
    <published>2025-11-13T15:21:09.000Z</published>
    <updated>2025-12-18T12:59:28.706Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dockerçš„å¿«é€Ÿå…¥é—¨"><a href="#Dockerçš„å¿«é€Ÿå…¥é—¨" class="headerlink" title="Dockerçš„å¿«é€Ÿå…¥é—¨"></a>Dockerçš„å¿«é€Ÿå…¥é—¨</h1><p>Docker æ˜¯ä¸€ç§è½»é‡çº§çš„å®¹å™¨åŒ–æŠ€æœ¯ï¼Œå…è®¸å¼€å‘è€…åœ¨ä¸åŒç¯å¢ƒä¸­å¿«é€Ÿæ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ã€‚ç›¸æ¯”ä¼ ç»Ÿçš„è™šæ‹Ÿæœºï¼ŒDocker æ›´åŠ é«˜æ•ˆã€çµæ´»ï¼Œæ˜¯ç°ä»£ DevOps ä¸å¾®æœåŠ¡æ¶æ„çš„é‡è¦åŸºç¡€ã€‚</p><hr><h2 id="ä¸€ã€è™šæ‹ŸæœºæŠ€æœ¯ä¸å®¹å™¨åŒ–æŠ€æœ¯"><a href="#ä¸€ã€è™šæ‹ŸæœºæŠ€æœ¯ä¸å®¹å™¨åŒ–æŠ€æœ¯" class="headerlink" title="ä¸€ã€è™šæ‹ŸæœºæŠ€æœ¯ä¸å®¹å™¨åŒ–æŠ€æœ¯"></a>ä¸€ã€è™šæ‹ŸæœºæŠ€æœ¯ä¸å®¹å™¨åŒ–æŠ€æœ¯</h2><h3 id="1-è™šæ‹ŸæœºæŠ€æœ¯"><a href="#1-è™šæ‹ŸæœºæŠ€æœ¯" class="headerlink" title="1. è™šæ‹ŸæœºæŠ€æœ¯"></a>1. è™šæ‹ŸæœºæŠ€æœ¯</h3><p>é€šè¿‡ <strong>è½¯ä»¶æ¨¡æ‹Ÿ</strong> å‡ºä¸€ä¸ªå®Œæ•´çš„ç¡¬ä»¶ç³»ç»Ÿï¼Œè¿è¡Œåœ¨ä¸€ä¸ªå®Œå…¨éš”ç¦»çš„ç¯å¢ƒä¸­ï¼Œå…·å¤‡å®Œæ•´çš„æ“ä½œç³»ç»Ÿå’Œèµ„æºã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>èµ„æºå ç”¨å¤š</li><li>å†—ä½™æ­¥éª¤å¤š</li><li>å¯åŠ¨æ…¢</li></ul><h3 id="2-å®¹å™¨åŒ–æŠ€æœ¯"><a href="#2-å®¹å™¨åŒ–æŠ€æœ¯" class="headerlink" title="2. å®¹å™¨åŒ–æŠ€æœ¯"></a>2. å®¹å™¨åŒ–æŠ€æœ¯</h3><p>å®¹å™¨åŒ–æŠ€æœ¯ä¸æ˜¯æ¨¡æ‹Ÿå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯é€šè¿‡å…±äº«å®¿ä¸»æœºçš„å†…æ ¸å®ç°è½»é‡çº§éš”ç¦»ã€‚</p><p><strong>ä¼˜åŠ¿ï¼š</strong></p><ul><li>å¯åŠ¨é€Ÿåº¦å¿«  </li><li>èµ„æºå ç”¨å°‘  </li><li>ç¯å¢ƒä¸€è‡´æ€§é«˜  </li><li>æ˜“äºè¿ç§»ä¸æ‰©å±•  </li></ul><h3 id="3-åŒºåˆ«æ€»ç»“"><a href="#3-åŒºåˆ«æ€»ç»“" class="headerlink" title="3. åŒºåˆ«æ€»ç»“"></a>3. åŒºåˆ«æ€»ç»“</h3><div class="table-container"><table><thead><tr><th>ç‰¹æ€§</th><th>è™šæ‹Ÿæœº</th><th>å®¹å™¨</th></tr></thead><tbody><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>æ…¢ï¼ˆåˆ†é’Ÿçº§ï¼‰</td><td>å¿«ï¼ˆç§’çº§ï¼‰</td></tr><tr><td>èµ„æºå ç”¨</td><td>é«˜</td><td>ä½</td></tr><tr><td>éš”ç¦»æ€§</td><td>å¼ºï¼ˆç‹¬ç«‹å†…æ ¸ï¼‰</td><td>è¾ƒå¼ºï¼ˆå…±äº«å®¿ä¸»æœºå†…æ ¸ï¼‰</td></tr><tr><td>å¯ç§»æ¤æ€§</td><td>ä¸€èˆ¬</td><td>é«˜</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>å¤šç³»ç»Ÿå¹¶è¡Œ</td><td>å¾®æœåŠ¡éƒ¨ç½²</td></tr></tbody></table></div><hr><h2 id="äºŒã€Dockerçš„æ ¸å¿ƒç»„æˆ"><a href="#äºŒã€Dockerçš„æ ¸å¿ƒç»„æˆ" class="headerlink" title="äºŒã€Dockerçš„æ ¸å¿ƒç»„æˆ"></a>äºŒã€Dockerçš„æ ¸å¿ƒç»„æˆ</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B70B3E70E-0E4D-4516-9588-9F5F0ECCE669%7D.png" alt=""></p><h3 id="1-é•œåƒï¼ˆImageï¼‰"><a href="#1-é•œåƒï¼ˆImageï¼‰" class="headerlink" title="1. é•œåƒï¼ˆImageï¼‰"></a>1. é•œåƒï¼ˆImageï¼‰</h3><p>Docker é•œåƒç±»ä¼¼äºä¸€ä¸ª <strong>æ¨¡æ¿</strong>ï¼Œç”¨äºåˆ›å»ºå®¹å™¨ã€‚ä¸€ä¸ªé•œåƒå¯ä»¥ç”Ÿæˆå¤šä¸ªå®¹å™¨å®ä¾‹ã€‚</p><h3 id="2-å®¹å™¨ï¼ˆContainerï¼‰"><a href="#2-å®¹å™¨ï¼ˆContainerï¼‰" class="headerlink" title="2. å®¹å™¨ï¼ˆContainerï¼‰"></a>2. å®¹å™¨ï¼ˆContainerï¼‰</h3><p>å®¹å™¨æ˜¯ Docker çš„è¿è¡Œå•å…ƒï¼Œæ˜¯é•œåƒçš„ä¸€ä¸ªè¿è¡Œå®ä¾‹ã€‚<br>å®¹å™¨å†…è¿è¡Œåº”ç”¨ï¼Œå…·æœ‰ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œå’Œè¿›ç¨‹ç©ºé—´ã€‚</p><p>å¸¸è§æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run       <span class="comment"># åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker start     <span class="comment"># å¯åŠ¨å·²å­˜åœ¨å®¹å™¨</span></span><br><span class="line">docker stop      <span class="comment"># åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span>        <span class="comment"># åˆ é™¤å®¹å™¨</span></span><br></pre></td></tr></table></figure><h3 id="3-ä»“åº“ï¼ˆRepositoryï¼‰"><a href="#3-ä»“åº“ï¼ˆRepositoryï¼‰" class="headerlink" title="3. ä»“åº“ï¼ˆRepositoryï¼‰"></a>3. ä»“åº“ï¼ˆRepositoryï¼‰</h3><p>ä»“åº“å­˜æ”¾é•œåƒï¼Œåˆ†ä¸ºï¼š</p><ul><li>å…¬æœ‰ä»“åº“ï¼ˆå¦‚ Docker Hubï¼‰</li><li>ç§æœ‰ä»“åº“ï¼ˆä¼ä¸šè‡ªå»ºï¼‰</li></ul><p>å¸¸è§æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull &lt;é•œåƒå&gt;    <span class="comment"># ä»è¿œç¨‹ä»“åº“ä¸‹è½½é•œåƒ</span></span><br><span class="line">docker push &lt;é•œåƒå&gt;    <span class="comment"># ä¸Šä¼ é•œåƒåˆ°ä»“åº“</span></span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€Docker-å¸¸ç”¨å‘½ä»¤"><a href="#ä¸‰ã€Docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="ä¸‰ã€Docker å¸¸ç”¨å‘½ä»¤"></a>ä¸‰ã€Docker å¸¸ç”¨å‘½ä»¤</h2><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>docker version</code></td><td>æ˜¾ç¤º Docker çš„ç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td><code>docker info</code></td><td>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°é‡</td></tr><tr><td><code>docker run</code></td><td>åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨</td></tr><tr><td><code>docker ps</code></td><td>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</td></tr><tr><td><code>docker ps -a</code></td><td>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰</td></tr><tr><td><code>docker images</code></td><td>æŸ¥çœ‹æ‰€æœ‰é•œåƒ</td></tr><tr><td><code>docker rmi &lt;é•œåƒID&gt;</code></td><td>åˆ é™¤é•œåƒ</td></tr><tr><td><code>docker exec -it &lt;å®¹å™¨ID&gt; bash</code></td><td>è¿›å…¥å®¹å™¨äº¤äº’æ¨¡å¼</td></tr><tr><td><code>docker logs &lt;å®¹å™¨ID&gt;</code></td><td>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</td></tr><tr><td><code>docker stop &lt;å®¹å™¨ID&gt;</code></td><td>åœæ­¢å®¹å™¨</td></tr><tr><td><code>docker start &lt;å®¹å™¨ID&gt;</code></td><td>å¯åŠ¨å®¹å™¨</td></tr></tbody></table></div><hr><h2 id="å››ã€Docker-çš„ä½¿ç”¨æµç¨‹"><a href="#å››ã€Docker-çš„ä½¿ç”¨æµç¨‹" class="headerlink" title="å››ã€Docker çš„ä½¿ç”¨æµç¨‹"></a>å››ã€Docker çš„ä½¿ç”¨æµç¨‹</h2><ol><li><p>ä»ä»“åº“ä¸­æ‹‰å–é•œåƒï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨å®¹å™¨ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 nginx</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure></li><li><p>åœæ­¢å®¹å™¨ï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop &lt;å®¹å™¨ID&gt;</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤å®¹å™¨ä¸é•œåƒï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> &lt;å®¹å™¨ID&gt;</span><br><span class="line">docker rmi &lt;é•œåƒID&gt;</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="äº”ã€Dockerfile-åŸºæœ¬è¯­æ³•"><a href="#äº”ã€Dockerfile-åŸºæœ¬è¯­æ³•" class="headerlink" title="äº”ã€Dockerfile åŸºæœ¬è¯­æ³•"></a>äº”ã€Dockerfile åŸºæœ¬è¯­æ³•</h2><p>Dockerfile æ˜¯ç”¨äºæ„å»ºé•œåƒçš„é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨åŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span>-jdk-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹·è´é¡¹ç›®æ–‡ä»¶åˆ°å®¹å™¨ä¸­</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/app.jar /app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>æ„å»ºé•œåƒå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t myapp:1.0 .</span><br></pre></td></tr></table></figure><hr><h2 id="å…­ã€å­¦ä¹ å»ºè®®"><a href="#å…­ã€å­¦ä¹ å»ºè®®" class="headerlink" title="å…­ã€å­¦ä¹ å»ºè®®"></a>å…­ã€å­¦ä¹ å»ºè®®</h2><ol><li>å»ºè®®å…ˆæŒæ¡ <strong>é•œåƒã€å®¹å™¨ã€ä»“åº“</strong> ä¸‰å¤§æ¦‚å¿µï¼›  </li><li>ç†Ÿæ‚‰åŸºæœ¬å‘½ä»¤ï¼ˆå¦‚ <code>docker run</code>ã€<code>docker ps</code>ã€<code>docker stop</code>ï¼‰ï¼›  </li><li>ç»ƒä¹ ä½¿ç”¨ Docker éƒ¨ç½²ä¸€ä¸ªç®€å•çš„ Web åº”ç”¨ï¼ˆå¦‚ Nginx æˆ– Spring Bootï¼‰ï¼›  </li><li>äº†è§£ Docker Compose çš„åŸºç¡€ç”¨æ³•ï¼Œä¸ºåç»­å¾®æœåŠ¡å­¦ä¹ åšå‡†å¤‡ã€‚  </li></ol><blockquote><p>âœ… å»ºè®®ï¼šå…ˆç†Ÿæ‚‰ Docker çš„åŸºæœ¬æ“ä½œï¼Œèƒ½æ‹‰é•œåƒã€å¯å®¹å™¨ã€åˆ å®¹å™¨å³å¯ã€‚åç»­æ·±å…¥å­¦ä¹ å®¹å™¨ç¼–æ’ï¼ˆKubernetesï¼‰å’Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚</p></blockquote><hr><p>å‚è€ƒæ–‡æ¡£ï¼š  </p><ul><li><a href="https://docs.docker.com/">Docker å®˜æ–¹æ–‡æ¡£</a>  </li><li><a href="https://cloud.tencent.com/document/product/213/46000">è…¾è®¯äº‘ Docker æ•™ç¨‹</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Dockerçš„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#Dockerçš„å¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;Dockerçš„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;Dockerçš„å¿«é€Ÿå…¥é—¨&lt;/h1&gt;&lt;p&gt;Docker æ˜¯ä¸€ç§è½»é‡çº§çš„å®¹å™¨åŒ–æŠ€æœ¯ï¼Œå…è®¸å¼€å‘è€…åœ¨ä¸åŒç¯å¢ƒä¸­å¿«é€Ÿæ„</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Docker" scheme="https://db-hanty.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Nginxçš„åˆæ­¥äº†è§£</title>
    <link href="https://db-hanty.github.io/posts/11c86202.html"/>
    <id>https://db-hanty.github.io/posts/11c86202.html</id>
    <published>2025-10-20T21:48:02.000Z</published>
    <updated>2025-12-18T12:59:28.706Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Nginxçš„åˆæ­¥äº†è§£"><a href="#Nginxçš„åˆæ­¥äº†è§£" class="headerlink" title="Nginxçš„åˆæ­¥äº†è§£"></a>Nginxçš„åˆæ­¥äº†è§£</h1><h2 id="ä¸€ã€Nginxç®€ä»‹"><a href="#ä¸€ã€Nginxç®€ä»‹" class="headerlink" title="ä¸€ã€Nginxç®€ä»‹"></a>ä¸€ã€Nginxç®€ä»‹</h2><p><strong>Nginx</strong>ï¼ˆå‘éŸ³åŒ â€œengine xâ€ï¼‰æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†æœåŠ¡å™¨ã€HTTPæœåŠ¡å™¨å’Œé‚®ä»¶ä»£ç†æœåŠ¡å™¨ã€‚<br>å®ƒä»¥é«˜å¹¶å‘ã€é«˜ç¨³å®šæ€§å’Œä½èµ„æºæ¶ˆè€—è‘—ç§°ï¼Œæ˜¯ç›®å‰äº’è”ç½‘ä¸­æœ€å¸¸ç”¨çš„WebæœåŠ¡å™¨ä¹‹ä¸€ã€‚</p><h3 id="ä¸»è¦åŠŸèƒ½"><a href="#ä¸»è¦åŠŸèƒ½" class="headerlink" title="ä¸»è¦åŠŸèƒ½"></a>ä¸»è¦åŠŸèƒ½</h3><ol><li><strong>è®¿é—®è·¯ç”±</strong>ï¼šæ ¹æ®ä¸åŒè¯·æ±‚è·¯å¾„è½¬å‘åˆ°å¯¹åº”çš„åç«¯æœåŠ¡ã€‚</li><li><strong>åå‘ä»£ç†</strong>ï¼šéšè—åç«¯æœåŠ¡å™¨ï¼Œä»£ç†ç”¨æˆ·è¯·æ±‚åˆ°åç«¯ã€‚</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šå°†è¯·æ±‚åˆ†é…åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œæé«˜æ€§èƒ½ä¸å¯é æ€§ã€‚</li><li><strong>å†…å®¹ç¼“å­˜</strong>ï¼šç¼“å­˜é™æ€èµ„æºæˆ–åç«¯å“åº”ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›ã€‚</li><li><strong>å¯ç¼–ç¨‹æ‰©å±•</strong>ï¼šé€šè¿‡æ¨¡å—å’ŒLuaè„šæœ¬å®ç°å®šåˆ¶é€»è¾‘ã€‚</li></ol><hr><h2 id="äºŒã€å®‰è£…æ–¹å¼"><a href="#äºŒã€å®‰è£…æ–¹å¼" class="headerlink" title="äºŒã€å®‰è£…æ–¹å¼"></a>äºŒã€å®‰è£…æ–¹å¼</h2><h3 id="1-ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…"><a href="#1-ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…" class="headerlink" title="1. ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…"></a>1. ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install nginx -y</span><br></pre></td></tr></table></figure><p>æˆ–åœ¨ Ubuntu ç³»ç»Ÿï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install nginx -y</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨-Docker-å®‰è£…"><a href="#2-ä½¿ç”¨-Docker-å®‰è£…" class="headerlink" title="2. ä½¿ç”¨ Docker å®‰è£…"></a>2. ä½¿ç”¨ Docker å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br><span class="line">docker run -d -p 80:80 --name nginx-server nginx</span><br></pre></td></tr></table></figure><p>å®¹å™¨å¯åŠ¨åè®¿é—®æµè§ˆå™¨è¾“å…¥ï¼š<br>ğŸ‘‰ <code>http://localhost</code><br>å³å¯çœ‹åˆ°Nginxæ¬¢è¿é¡µé¢ã€‚</p><hr><h2 id="ä¸‰ã€æœåŠ¡å¯åœå‘½ä»¤"><a href="#ä¸‰ã€æœåŠ¡å¯åœå‘½ä»¤" class="headerlink" title="ä¸‰ã€æœåŠ¡å¯åœå‘½ä»¤"></a>ä¸‰ã€æœåŠ¡å¯åœå‘½ä»¤</h2><p>Nginxå¯åŠ¨åå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç®¡ç†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡ï¼ˆç«‹å³åœæ­¢ï¼‰</span></span><br><span class="line">nginx -s stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼˜é›…åœæ­¢ï¼ˆç­‰å¾…è¯·æ±‚å®Œæˆåé€€å‡ºï¼‰</span></span><br><span class="line">nginx -s quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">nginx -s reopen</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€ä»£ç†ç±»å‹"><a href="#å››ã€ä»£ç†ç±»å‹" class="headerlink" title="å››ã€ä»£ç†ç±»å‹"></a>å››ã€ä»£ç†ç±»å‹</h2><h3 id="1-æ­£å‘ä»£ç†"><a href="#1-æ­£å‘ä»£ç†" class="headerlink" title="1. æ­£å‘ä»£ç†"></a>1. æ­£å‘ä»£ç†</h3><p><strong>å®šä¹‰</strong>ï¼šä»£ç†å®¢æˆ·ç«¯è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œéšè—å®¢æˆ·ç«¯çœŸå®ä¿¡æ¯ã€‚<br><strong>å…¸å‹åœºæ™¯</strong>ï¼šä½¿ç”¨VPNè®¿é—®å›½å¤–ç½‘ç«™ã€‚</p><p>ç¤ºæ„å›¾ï¼š</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8275E02F-CC20-4034-A3F9-91541654C495%7D.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ ä»£ç†æœåŠ¡å™¨ â†’ ç›®æ ‡ç½‘ç«™</span><br></pre></td></tr></table></figure><h3 id="2-åå‘ä»£ç†"><a href="#2-åå‘ä»£ç†" class="headerlink" title="2. åå‘ä»£ç†"></a>2. åå‘ä»£ç†</h3><p><strong>å®šä¹‰</strong>ï¼šä»£ç†æœåŠ¡å™¨æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚å¹¶è½¬å‘åˆ°å†…éƒ¨æœåŠ¡ã€‚<br><strong>å…¸å‹åœºæ™¯</strong>ï¼šç”¨æˆ·è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼ŒNginxæ ¹æ®é…ç½®å°†è¯·æ±‚è½¬å‘ç»™ä¸åŒåç«¯æœåŠ¡ã€‚</p><p>ç¤ºæ„å›¾ï¼š</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B54D55B4B-3640-4ba8-A9C9-9EB695E13183%7D.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ â†’ Nginxåå‘ä»£ç† â†’ åç«¯åº”ç”¨æœåŠ¡å™¨</span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€NginxåŸºæœ¬é…ç½®"><a href="#äº”ã€NginxåŸºæœ¬é…ç½®" class="headerlink" title="äº”ã€NginxåŸºæœ¬é…ç½®"></a>äº”ã€NginxåŸºæœ¬é…ç½®</h2><p>Nginxä¸»é…ç½®æ–‡ä»¶é€šå¸¸ä½äºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><h3 id="åŸºæœ¬é…ç½®ç»“æ„"><a href="#åŸºæœ¬é…ç½®ç»“æ„" class="headerlink" title="åŸºæœ¬é…ç½®ç»“æ„"></a>åŸºæœ¬é…ç½®ç»“æ„</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å…¨å±€è®¾ç½®</span></span><br><span class="line"><span class="attribute">user</span> nginx;</span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span>       mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æœåŠ¡å™¨é…ç½®</span></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="section">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   /usr/share/nginx/html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åå‘ä»£ç†ç¤ºä¾‹</span></span><br><span class="line">        <span class="section">location</span> /api/ &#123;</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://127.0.0.1:8080/;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å…­ã€å¸¸è§ç”¨æ³•ç¤ºä¾‹"><a href="#å…­ã€å¸¸è§ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="å…­ã€å¸¸è§ç”¨æ³•ç¤ºä¾‹"></a>å…­ã€å¸¸è§ç”¨æ³•ç¤ºä¾‹</h2><h3 id="1-éƒ¨ç½²é™æ€ç½‘ç«™"><a href="#1-éƒ¨ç½²é™æ€ç½‘ç«™" class="headerlink" title="1. éƒ¨ç½²é™æ€ç½‘ç«™"></a>1. éƒ¨ç½²é™æ€ç½‘ç«™</h3><p>å°†ç½‘é¡µæ–‡ä»¶æ”¾å…¥Nginxé»˜è®¤ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/nginx/html</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>http://æœåŠ¡å™¨IP</code> å³å¯è®¿é—®ç½‘ç«™ã€‚</p><h3 id="2-é…ç½®åå‘ä»£ç†"><a href="#2-é…ç½®åå‘ä»£ç†" class="headerlink" title="2. é…ç½®åå‘ä»£ç†"></a>2. é…ç½®åå‘ä»£ç†</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /app/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://localhost:8080/;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å®ç°è´Ÿè½½å‡è¡¡"><a href="#3-å®ç°è´Ÿè½½å‡è¡¡" class="headerlink" title="3. å®ç°è´Ÿè½½å‡è¡¡"></a>3. å®ç°è´Ÿè½½å‡è¡¡</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> myapp &#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.10</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.1.11</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://myapp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å¯ç”¨é™æ€æ–‡ä»¶ç¼“å­˜"><a href="#4-å¯ç”¨é™æ€æ–‡ä»¶ç¼“å­˜" class="headerlink" title="4. å¯ç”¨é™æ€æ–‡ä»¶ç¼“å­˜"></a>4. å¯ç”¨é™æ€æ–‡ä»¶ç¼“å­˜</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /static/ &#123;</span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line">    <span class="attribute">expires</span> <span class="number">7d</span>;</span><br><span class="line">    <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸ƒã€å­¦ä¹ å»ºè®®"><a href="#ä¸ƒã€å­¦ä¹ å»ºè®®" class="headerlink" title="ä¸ƒã€å­¦ä¹ å»ºè®®"></a>ä¸ƒã€å­¦ä¹ å»ºè®®</h2><ul><li>ç¬¬ä¸€æ­¥ï¼šæŒæ¡Nginxçš„å®‰è£…ä¸åŸºæœ¬å‘½ä»¤ã€‚</li><li>ç¬¬äºŒæ­¥ï¼šäº†è§£Nginxé…ç½®æ–‡ä»¶ç»“æ„å’Œåå‘ä»£ç†ç”¨æ³•ã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼šå°è¯•é…ç½®ä¸€ä¸ªé™æ€ç½‘ç«™æˆ–åå‘ä»£ç†æœåŠ¡ã€‚</li><li>ç¬¬å››æ­¥ï¼šæ·±å…¥å­¦ä¹ è´Ÿè½½å‡è¡¡ä¸ç¼“å­˜ä¼˜åŒ–ã€‚</li></ul><blockquote><p>ğŸ’¡ <strong>å»ºè®®ï¼š</strong> åˆå­¦é˜¶æ®µé‡ç‚¹åœ¨â€œèƒ½ç”¨â€ï¼Œç†è§£Nginxé…ç½®ç»“æ„ä¸å¸¸è§åœºæ™¯åï¼Œå†æ·±å…¥åŸç†ä¸ä¼˜åŒ–ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Nginxçš„åˆæ­¥äº†è§£&quot;&gt;&lt;a href=&quot;#Nginxçš„åˆæ­¥äº†è§£&quot; class=&quot;headerlink&quot; title=&quot;Nginxçš„åˆæ­¥äº†è§£&quot;&gt;&lt;/a&gt;Nginxçš„åˆæ­¥äº†è§£&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€Nginxç®€ä»‹&quot;&gt;&lt;a href=&quot;#ä¸€ã€Nginxç®€ä»‹&quot; c</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Nginx" scheme="https://db-hanty.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQå¿«é€Ÿå…¥é—¨</title>
    <link href="https://db-hanty.github.io/posts/371ff66c.html"/>
    <id>https://db-hanty.github.io/posts/371ff66c.html</id>
    <published>2025-10-16T21:05:38.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="RabbitMQå¿«é€Ÿå…¥é—¨"><a href="#RabbitMQå¿«é€Ÿå…¥é—¨" class="headerlink" title="RabbitMQå¿«é€Ÿå…¥é—¨"></a>RabbitMQå¿«é€Ÿå…¥é—¨</h1><h2 id="åˆè¯†MQ"><a href="#åˆè¯†MQ" class="headerlink" title="åˆè¯†MQ"></a>åˆè¯†MQ</h2><h3 id="åŒæ­¥é€šè®¯å’Œå¼‚æ­¥é€šè®¯"><a href="#åŒæ­¥é€šè®¯å’Œå¼‚æ­¥é€šè®¯" class="headerlink" title="åŒæ­¥é€šè®¯å’Œå¼‚æ­¥é€šè®¯"></a>åŒæ­¥é€šè®¯å’Œå¼‚æ­¥é€šè®¯</h3><p>åŒæ­¥ä¾‹å­ï¼šè§†é¢‘é€šè¯<br>å¼‚æ­¥ä¾‹å­ï¼šå¾®ä¿¡èŠå¤©</p><h3 id="åŒæ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹"><a href="#åŒæ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="åŒæ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹"></a>åŒæ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹</h3><p><strong>åŒæ­¥è°ƒç”¨çš„ä¼˜ç‚¹ï¼š</strong></p><ul><li>æ—¶æ•ˆæ€§è¾ƒå¼ºï¼Œå¯ä»¥ç«‹å³å¾—åˆ°ç»“æœ</li></ul><p><strong>åŒæ­¥è°ƒç”¨å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p><ol><li>è€¦åˆåº¦é«˜</li><li>æ€§èƒ½ä¸‹é™</li><li>èµ„æºæµªè´¹</li><li>çº§è”å¤±è´¥</li></ol><h3 id="å¼‚æ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹"><a href="#å¼‚æ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¼‚æ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹"></a>å¼‚æ­¥é€šè®¯çš„ä¼˜ç¼ºç‚¹</h3><p>å¼‚æ­¥é€šè®¯é€šè¿‡æ¶ˆæ¯ä¸­é—´ä»¶å®ç°æœåŠ¡ä¹‹é—´çš„è§£è€¦ä¸å¼‚æ­¥è°ƒç”¨ã€‚</p><p><strong>å¼‚æ­¥é€šè®¯çš„ä¼˜ç‚¹ï¼š</strong></p><ol><li>æœåŠ¡è§£è€¦</li><li>æå‡ç³»ç»Ÿååé‡</li><li>å‡å°‘çº§è”å¤±è´¥é£é™©</li><li>å®ç°æµé‡å‰Šå³°</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>ä¾èµ–æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆBrokerï¼‰çš„å¯é æ€§å’Œååèƒ½åŠ›</li><li>æ¶æ„æ›´å¤æ‚ï¼Œä¸šåŠ¡æµç¨‹è¿½è¸ªå›°éš¾</li></ul><h3 id="ä»€ä¹ˆæ˜¯MQ"><a href="#ä»€ä¹ˆæ˜¯MQ" class="headerlink" title="ä»€ä¹ˆæ˜¯MQ"></a>ä»€ä¹ˆæ˜¯MQ</h3><p>MQï¼ˆMessage Queueï¼‰å³æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ç§å…¸å‹çš„å¼‚æ­¥æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œæ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼ˆBrokerï¼‰ã€‚</p><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8FB93E25-9CD1-4057-8C29-97EDB0922187%7D.png" alt=""></h2><h2 id="RabbitMQæ¦‚è¿°"><a href="#RabbitMQæ¦‚è¿°" class="headerlink" title="RabbitMQæ¦‚è¿°"></a>RabbitMQæ¦‚è¿°</h2><p>RabbitMQ æ˜¯åŸºäº Erlang è¯­è¨€å¼€å‘çš„å¼€æºæ¶ˆæ¯é€šä¿¡ä¸­é—´ä»¶ï¼Œæ”¯æŒ AMQP åè®®ã€‚</p><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><ol><li>åœ¨è™šæ‹Ÿæœºä¸­ä¸Šä¼ å¹¶åŠ è½½é•œåƒï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i mq.tar</span><br></pre></td></tr></table></figure><ol><li>å¯åŠ¨ RabbitMQ æœåŠ¡ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run  -e RABBITMQ_DEFAULT_USER=itcast  -e RABBITMQ_DEFAULT_PASS=123321  -v mq-plugins:/plugins  --name mq  --hostname mq  -p 15672:15672  -p 5672:5672  -d  rabbitmq:3.8-management</span><br></pre></td></tr></table></figure><ol><li>è®¿é—®ç®¡ç†ç•Œé¢ï¼š<a href="http://è™šæ‹ŸæœºIP:15672">http://è™šæ‹ŸæœºIP:15672</a></li></ol><p>é»˜è®¤è´¦å·å¯†ç ï¼š<code>itcast / 123321</code></p><h3 id="æ ¸å¿ƒç»“æ„"><a href="#æ ¸å¿ƒç»“æ„" class="headerlink" title="æ ¸å¿ƒç»“æ„"></a>æ ¸å¿ƒç»“æ„</h3><ul><li><strong>Channel</strong>ï¼šæ“ä½œMQçš„é€šé“</li><li><strong>Exchange</strong>ï¼šæ¶ˆæ¯äº¤æ¢æœºï¼Œè´Ÿè´£è·¯ç”±æ¶ˆæ¯</li><li><strong>Queue</strong>ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨äºå­˜å‚¨æ¶ˆæ¯</li><li><strong>Virtual Host</strong>ï¼šè™šæ‹Ÿä¸»æœºï¼Œç”¨äºé€»è¾‘éš”ç¦»èµ„æº</li></ul><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC70CE1B8-EA0C-44d8-A9B8-AB86D588E0AE%7D.png" alt=""></h2><h2 id="æ¶ˆæ¯æ¨¡å‹ä»‹ç»"><a href="#æ¶ˆæ¯æ¨¡å‹ä»‹ç»" class="headerlink" title="æ¶ˆæ¯æ¨¡å‹ä»‹ç»"></a>æ¶ˆæ¯æ¨¡å‹ä»‹ç»</h2><p>RabbitMQ æ”¯æŒå¤šç§æ¶ˆæ¯æ¨¡å‹ï¼š</p><h3 id="1-åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆSimple-Queueï¼‰"><a href="#1-åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆSimple-Queueï¼‰" class="headerlink" title="1. åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆSimple Queueï¼‰"></a>1. åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆSimple Queueï¼‰</h3><p>æœ€åŸºç¡€çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BBC684FC8-F65F-4254-89FA-15F21FE18BBE%7D.png" alt=""></p><h3 id="2-å·¥ä½œé˜Ÿåˆ—ï¼ˆWork-Queueï¼‰"><a href="#2-å·¥ä½œé˜Ÿåˆ—ï¼ˆWork-Queueï¼‰" class="headerlink" title="2. å·¥ä½œé˜Ÿåˆ—ï¼ˆWork Queueï¼‰"></a>2. å·¥ä½œé˜Ÿåˆ—ï¼ˆWork Queueï¼‰</h3><p>å…è®¸å¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶å¤„ç†ä¸€ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œæé«˜å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B18391AFC-1CC4-49a4-A9DE-4AF384A870C1%7D.png" alt=""></p><h3 id="3-å‘å¸ƒè®¢é˜…ï¼ˆPublish-Subscribeï¼‰"><a href="#3-å‘å¸ƒè®¢é˜…ï¼ˆPublish-Subscribeï¼‰" class="headerlink" title="3. å‘å¸ƒè®¢é˜…ï¼ˆPublish/Subscribeï¼‰"></a>3. å‘å¸ƒè®¢é˜…ï¼ˆPublish/Subscribeï¼‰</h3><p>é€šè¿‡ Exchange å®ç°æ¶ˆæ¯çš„å¤šæ’­åˆ†å‘ã€‚åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p><ul><li><strong>Fanout Exchangeï¼ˆå¹¿æ’­ï¼‰</strong>ï¼šå°†æ¶ˆæ¯åˆ†å‘ç»™æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B6876C099-F0B0-4dde-8780-5C4235982022%7D.png" alt=""></li><li><strong>Direct Exchangeï¼ˆè·¯ç”±ï¼‰</strong>ï¼šæ ¹æ® RoutingKey ç²¾ç¡®åŒ¹é…æ¶ˆæ¯ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BD7F3DFC6-9366-4733-8B70-3F7515C4E1B5%7D.png" alt=""></li><li><strong>Topic Exchangeï¼ˆä¸»é¢˜ï¼‰</strong>ï¼šé€šè¿‡é€šé…ç¬¦åŒ¹é…æ¶ˆæ¯ï¼Œå®ç°çµæ´»è·¯ç”±ã€‚<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BB56E2732-790B-4da4-A3A1-758684B5FDDA%7D.png" alt=""></li></ul><hr><h2 id="Spring-AMQP"><a href="#Spring-AMQP" class="headerlink" title="Spring AMQP"></a>Spring AMQP</h2><p>Spring AMQP æ˜¯åŸºäº AMQP åè®®çš„æ¶ˆæ¯é€šä¿¡å°è£…åº“ï¼Œä¸º Spring Boot æä¾›äº† RabbitTemplate å’Œæ³¨è§£é©±åŠ¨çš„æ¶ˆæ¯ç›‘å¬æœºåˆ¶ã€‚</p><h3 id="1-æ¶ˆæ¯å‘é€"><a href="#1-æ¶ˆæ¯å‘é€" class="headerlink" title="1. æ¶ˆæ¯å‘é€"></a>1. æ¶ˆæ¯å‘é€</h3><p>åœ¨ <code>publisher</code> æœåŠ¡ä¸­ä½¿ç”¨ <code>RabbitTemplate</code> å‘é€æ¶ˆæ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringAmqpTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testSendMessage2Queue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">queueName</span> <span class="operator">=</span> <span class="string">&quot;simple.queue&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;hello, amqp!&quot;</span>;</span><br><span class="line">        rabbitTemplate.convertAndSend(queueName, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ¶ˆæ¯ç›‘å¬"><a href="#2-æ¶ˆæ¯ç›‘å¬" class="headerlink" title="2. æ¶ˆæ¯ç›‘å¬"></a>2. æ¶ˆæ¯ç›‘å¬</h3><p>åœ¨ <code>consumer</code> æœåŠ¡ä¸­å®šä¹‰ç›‘å¬å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringRabbitListener</span> &#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;simple.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">listenSimpleQueueMessage</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šã€&quot;</span> + msg + <span class="string">&quot;ã€‘&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å‘å¸ƒè®¢é˜…æ¨¡å‹ç¤ºä¾‹"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å‹ç¤ºä¾‹" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å‹ç¤ºä¾‹"></a>å‘å¸ƒè®¢é˜…æ¨¡å‹ç¤ºä¾‹</h2><h3 id="FanoutExchangeï¼ˆå¹¿æ’­æ¨¡å‹ï¼‰"><a href="#FanoutExchangeï¼ˆå¹¿æ’­æ¨¡å‹ï¼‰" class="headerlink" title="FanoutExchangeï¼ˆå¹¿æ’­æ¨¡å‹ï¼‰"></a>FanoutExchangeï¼ˆå¹¿æ’­æ¨¡å‹ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FanoutExchange <span class="title function_">fanoutExchange</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FanoutExchange</span>(<span class="string">&quot;itcast.fanout&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;fanout.queue1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">fanoutBinding1</span><span class="params">(Queue fanoutQueue1, FanoutExchange fanoutExchange)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue1).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="æ¶ˆæ¯è½¬æ¢å™¨"><a href="#æ¶ˆæ¯è½¬æ¢å™¨" class="headerlink" title="æ¶ˆæ¯è½¬æ¢å™¨"></a>æ¶ˆæ¯è½¬æ¢å™¨</h2><h3 id="é»˜è®¤é—®é¢˜"><a href="#é»˜è®¤é—®é¢˜" class="headerlink" title="é»˜è®¤é—®é¢˜"></a>é»˜è®¤é—®é¢˜</h3><p>Spring é»˜è®¤ä½¿ç”¨ JDK åºåˆ—åŒ–ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>æ•°æ®ä½“ç§¯å¤§</li><li>å¯è¯»æ€§å·®</li><li>å­˜åœ¨å®‰å…¨é£é™©</li></ul><h3 id="è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-JSON-æ¶ˆæ¯è½¬æ¢å™¨"><a href="#è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-JSON-æ¶ˆæ¯è½¬æ¢å™¨" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ JSON æ¶ˆæ¯è½¬æ¢å™¨"></a>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ JSON æ¶ˆæ¯è½¬æ¢å™¨</h3><p>å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.dataformat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-dataformat-xml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®è½¬æ¢å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> MessageConverter <span class="title function_">jacksonMessageConvertor</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Jackson2JsonMessageConverter</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å­¦ä¹ æ€»ç»“ä¸å»ºè®®"><a href="#å­¦ä¹ æ€»ç»“ä¸å»ºè®®" class="headerlink" title="å­¦ä¹ æ€»ç»“ä¸å»ºè®®"></a>å­¦ä¹ æ€»ç»“ä¸å»ºè®®</h2><ol><li><strong>å…ˆç†è§£å¼‚æ­¥é€šè®¯çš„æ¦‚å¿µ</strong>ï¼šæ˜ç™½ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯é˜Ÿåˆ—ã€‚</li><li><strong>æŒæ¡RabbitMQçš„æ ¸å¿ƒç»„ä»¶</strong>ï¼šExchangeã€Queueã€Bindingçš„å…³ç³»æ˜¯å…³é”®ã€‚</li><li><strong>åŠ¨æ‰‹å®éªŒæ¯ç§äº¤æ¢æœºæ¨¡å¼</strong>ï¼šFanoutã€Directã€Topic æ˜¯å¸¸ç”¨çš„ä¸‰ç§ã€‚</li><li><strong>å­¦ä¼šSpringAMQPæ•´åˆ</strong>ï¼šç†Ÿæ‚‰RabbitTemplateå’Œ@RabbitListenerçš„ä½¿ç”¨ã€‚</li><li><strong>ç†è§£æ¶ˆæ¯ç¡®è®¤ä¸æŒä¹…åŒ–æœºåˆ¶</strong>ï¼šä¿è¯æ¶ˆæ¯å¯é æ€§ã€‚</li></ol><p>ğŸ“˜ <strong>å­¦ä¹ å»ºè®®ï¼š</strong></p><blockquote><p>ç¬¬ä¸€æ¬¡å­¦ä¹ æ—¶å¯ä»¥â€œå…ˆè¿‡ä¸€éâ€ï¼Œé‡ç‚¹ç†è§£å¼‚æ­¥æ¶ˆæ¯æ¨¡å‹ä¸SpringAMQPä½¿ç”¨ï¼Œåç»­å†æ·±å…¥ç ”ç©¶RabbitMQçš„é«˜çº§ç‰¹æ€§å¦‚ï¼šå»¶è¿Ÿé˜Ÿåˆ—ã€æ­»ä¿¡é˜Ÿåˆ—ã€æ¶ˆæ¯ç¡®è®¤æœºåˆ¶ç­‰ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;RabbitMQå¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#RabbitMQå¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;RabbitMQå¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;RabbitMQå¿«é€Ÿå…¥é—¨&lt;/h1&gt;&lt;h2 id=&quot;åˆè¯†MQ&quot;&gt;&lt;a href=&quot;#åˆè¯†MQ&quot; cla</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="RabbitMQ" scheme="https://db-hanty.github.io/tags/RabbitMQ/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š</title>
    <link href="https://db-hanty.github.io/posts/3920611.html"/>
    <id>https://db-hanty.github.io/posts/3920611.html</id>
    <published>2025-10-15T20:48:57.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š"><a href="#ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š" class="headerlink" title="ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š"></a>ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š</h1><h2 id="ä¸€ã€å¼•è¨€"><a href="#ä¸€ã€å¼•è¨€" class="headerlink" title="ä¸€ã€å¼•è¨€"></a>ä¸€ã€å¼•è¨€</h2><p>ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹æ˜¯ä¸€éƒ¨å…¨é¢å±•ç°æ²ƒä¼¦Â·å·´è²ç‰¹äººç”Ÿã€æ€æƒ³ä¸æŠ•èµ„å“²å­¦çš„ä¼ è®°ã€‚æœ¬ä¹¦ä»¥ç»†è…»çš„å™äº‹æ–¹å¼æ­ç¤ºäº†â€œè‚¡ç¥â€å·´è²ç‰¹ä»ç«¥å¹´ã€é’å¹´åˆ°æˆä¸ºä¸–ç•Œçº§æŠ•èµ„å¤§å¸ˆçš„æˆé•¿å†ç¨‹ï¼Œæ·±åˆ»æç»˜äº†ä»–å¦‚ä½•å°†ç†æ€§ã€è€å¿ƒä¸ç‹¬ç«‹æ€è€ƒè´¯ç©¿äºä¸€ç”Ÿçš„äº‹ä¸šä¸äººç”Ÿä¸­ã€‚</p><hr><h2 id="äºŒã€ä¸»è¦å†…å®¹æ¦‚è¿°"><a href="#äºŒã€ä¸»è¦å†…å®¹æ¦‚è¿°" class="headerlink" title="äºŒã€ä¸»è¦å†…å®¹æ¦‚è¿°"></a>äºŒã€ä¸»è¦å†…å®¹æ¦‚è¿°</h2><h3 id="1-è°¦å‘çš„æ™ºæ…§"><a href="#1-è°¦å‘çš„æ™ºæ…§" class="headerlink" title="1. è°¦å‘çš„æ™ºæ…§"></a>1. è°¦å‘çš„æ™ºæ…§</h3><p>ä¹¦ä¸­ç¬¬ä¸€å ‚è¯¾ä¾¿æ˜¯â€œä»¥è°¦å‘ä¹‹æ€å±ˆäººä¹‹å…µâ€ã€‚å·´è²ç‰¹æ‡‚å¾—åœ¨äººé™…äº¤å¾€ä¸­ä¿æŒè°¦é€Šä¸è¯šæ³ï¼Œä»–çš„å…¬ä¼—å½¢è±¡ç®€å•ã€çœŸè¯šã€ç‡ç›´â€”â€”è¿™æ˜¯ä»–æˆåŠŸçš„é‡è¦åŸå› ä¹‹ä¸€ã€‚ä»–æ˜ç™½ï¼Œèµ¢å¾—äººå¿ƒæ¯”èµ¢å¾—äº‰è®ºæ›´é‡è¦ã€‚</p><h3 id="2-æŠ•èµ„çš„ç†æ€§ä¸æœ¬è´¨"><a href="#2-æŠ•èµ„çš„ç†æ€§ä¸æœ¬è´¨" class="headerlink" title="2. æŠ•èµ„çš„ç†æ€§ä¸æœ¬è´¨"></a>2. æŠ•èµ„çš„ç†æ€§ä¸æœ¬è´¨</h3><p>å·´è²ç‰¹è®¤ä¸ºï¼Œ<strong>è‚¡ç¥¨å¹¶ä¸æ˜¯èµŒåœºçš„ç­¹ç ï¼Œè€Œæ˜¯ä¼ä¸šçš„ä¸€éƒ¨åˆ†</strong>ã€‚ä»–æ³¨é‡ä¼ä¸šæœ¬èº«çš„ä»·å€¼è€Œéå¸‚åœºçš„æ³¢åŠ¨ã€‚æ­£å¦‚ä»–æ‰€è¯´ï¼šâ€œçŸ­æœŸæ¥çœ‹ï¼Œå¸‚åœºæ˜¯æŠ•ç¥¨å™¨ï¼›é•¿æœŸæ¥çœ‹ï¼Œå¸‚åœºæ˜¯ç§°é‡å™¨ã€‚â€<br>ä»–ç”¨è¿™ç§â€œç§°é‡â€çš„ç†æ€§æ€ç»´ï¼Œä¸“æ³¨äºå…¬å¸é•¿æœŸä»·å€¼ï¼Œè€ŒéçŸ­æœŸæŠ•æœºã€‚</p><h3 id="3-æ—¶é—´ä¸åˆ©ç‡çš„å“²å­¦"><a href="#3-æ—¶é—´ä¸åˆ©ç‡çš„å“²å­¦" class="headerlink" title="3. æ—¶é—´ä¸åˆ©ç‡çš„å“²å­¦"></a>3. æ—¶é—´ä¸åˆ©ç‡çš„å“²å­¦</h3><p>ä¹¦ä¸­æåˆ°ï¼Œåˆ©ç‡æ˜¯é‡‘èä¸–ç•Œçš„â€œé‡åŠ›â€ã€‚å½“åˆ©ç‡ä¸Šå‡ï¼Œæ‰€æœ‰èµ„äº§çš„ä»·å€¼éƒ½ä¼šä¸‹é™ã€‚å·´è²ç‰¹æé†’æŠ•èµ„è€…è¦ç†è§£æ—¶é—´ä¸èµ„é‡‘æˆæœ¬çš„å…³ç³»â€”â€”æŠ•èµ„çš„æœ¬è´¨å°±æ˜¯<strong>å»¶è¿Ÿæ¶ˆè´¹</strong>ï¼Œè®©é’±åœ¨æ—¶é—´ä¸­åˆ›é€ æ›´å¤šçš„ä»·å€¼ã€‚</p><h3 id="4-æŠ•èµ„åŸåˆ™ä¸å®‰å…¨è¾¹é™…"><a href="#4-æŠ•èµ„åŸåˆ™ä¸å®‰å…¨è¾¹é™…" class="headerlink" title="4. æŠ•èµ„åŸåˆ™ä¸å®‰å…¨è¾¹é™…"></a>4. æŠ•èµ„åŸåˆ™ä¸å®‰å…¨è¾¹é™…</h3><p>å—å¯¼å¸ˆ<strong>æœ¬æ°æ˜Â·æ ¼é›·å„å§†</strong>å½±å“ï¼Œå·´è²ç‰¹å½¢æˆäº†ä¸‰å¤§æŠ•èµ„åŸåˆ™ï¼š</p><ol><li>è‚¡ç¥¨ä»£è¡¨ä¼ä¸šçš„ä¸€éƒ¨åˆ†æ‰€æœ‰æƒï¼›  </li><li>æŠ•èµ„å¿…é¡»æœ‰å®‰å…¨è¾¹é™…ï¼›  </li><li>â€œå¸‚åœºå…ˆç”Ÿâ€æ˜¯ä½ çš„ä»†äººï¼Œè€Œä¸æ˜¯ä½ çš„ä¸»äººã€‚  </li></ol><p>å°¤å…¶æ˜¯â€œå®‰å…¨è¾¹é™…â€ç†å¿µï¼Œè®©ä»–åœ¨é¢å¯¹é£é™©æ—¶å§‹ç»ˆä¿æŒå†·é™ã€‚</p><h3 id="5-å­¦ä¹ ä¸è‡ªæˆ‘æˆé•¿"><a href="#5-å­¦ä¹ ä¸è‡ªæˆ‘æˆé•¿" class="headerlink" title="5. å­¦ä¹ ä¸è‡ªæˆ‘æˆé•¿"></a>5. å­¦ä¹ ä¸è‡ªæˆ‘æˆé•¿</h3><p>ä»å°‘å¹´æ—¶ä»£å–å£é¦™ç³–åˆ°åå››å²æ”’ä¸‹ç¬¬ä¸€ç¬”1000ç¾å…ƒï¼Œå·´è²ç‰¹æ—©æ—©å±•ç°äº†å•†ä¸šå¤©èµ‹ã€‚ä»–é€šè¿‡é˜…è¯»å’Œå®è·µè‡ªå­¦æŠ•èµ„ï¼Œæ·±å—ã€Šæˆ´å°”Â·å¡å†…åŸºã€‹å½±å“ï¼Œæ‡‚å¾—<strong>æ²Ÿé€šä¸å½±å“åŠ›</strong>çš„é‡è¦æ€§ã€‚ä»–ç›¸ä¿¡å­¦ä¹ æ˜¯ç»ˆèº«çš„ï¼Œâ€œä¸æ¯”ä½ ä¼˜ç§€çš„äººåœ¨ä¸€èµ·ï¼Œä½ ä¹Ÿä¼šå˜å¾—æ›´å¥½â€ã€‚</p><h3 id="6-äº‹ä¸šä¸äººç”Ÿå“²å­¦"><a href="#6-äº‹ä¸šä¸äººç”Ÿå“²å­¦" class="headerlink" title="6. äº‹ä¸šä¸äººç”Ÿå“²å­¦"></a>6. äº‹ä¸šä¸äººç”Ÿå“²å­¦</h3><p>å·´è²ç‰¹çš„æˆåŠŸä¸ä»…æ¥æºäºèªæ˜ï¼Œæ›´æºè‡ªè‡ªå¾‹ä¸çƒ­çˆ±ã€‚ä»–<strong>æ¯å¤©å®‰æ’å¥½æ¯ä¸ªå°æ—¶</strong>ï¼Œä¸“æ³¨äºè‡ªå·±è®¤ä¸ºæœ‰æ„ä¹‰çš„äº‹ã€‚ä»–é‡è§†æœ‹å‹ä¸ä¿¡ä»»ï¼Œç§‰æŒâ€œèŠ±çš„æ¯”èµšçš„å°‘â€å’Œâ€œä¸å€Ÿå€ºâ€çš„ç”Ÿæ´»å‡†åˆ™ã€‚<br>ä»–ç”¨è‡ªå·±çš„æ–¹å¼è¯æ˜äº†ï¼Œ<strong>è´¢å¯Œçš„ç§¯ç´¯æºè‡ªç†æ€§ä¸èŠ‚åˆ¶ï¼Œè€ŒéæŠ•æœºä¸ä¾¥å¹¸</strong>ã€‚</p><hr><h2 id="ä¸‰ã€å¯å‘ä¸æ„Ÿæ‚Ÿ"><a href="#ä¸‰ã€å¯å‘ä¸æ„Ÿæ‚Ÿ" class="headerlink" title="ä¸‰ã€å¯å‘ä¸æ„Ÿæ‚Ÿ"></a>ä¸‰ã€å¯å‘ä¸æ„Ÿæ‚Ÿ</h2><p>é€šè¿‡é˜…è¯»ã€Šæ»šé›ªçƒã€‹ï¼Œæˆ‘å—åˆ°äº†æ·±åˆ»å¯å‘ï¼š<br>å·´è²ç‰¹ä»å°å¯¹æ•°å­—æ•æ„Ÿï¼Œå¯¹é‡‘é’±ä¸æŠ•èµ„æœ‰ç€å¤©ç„¶çš„å…´è¶£ï¼Œæ›´é‡è¦çš„æ˜¯ä»–<strong>çƒ­çˆ±å­¦ä¹ ã€å–„äºåˆ†æã€é•¿æœŸåšæŒ</strong>ã€‚<br>ä»–ä¸æ˜¯ä¸€å¤œæˆåŠŸçš„æŠ•æœºè€…ï¼Œè€Œæ˜¯é ç€æŒç»­ç§¯ç´¯çŸ¥è¯†ä¸ç†æ€§å†³ç­–ï¼Œä¸€æ­¥æ­¥â€œæ»šå‡ºâ€è´¢å¯Œé›ªçƒçš„äººã€‚</p><p>åœ¨ä»–èº«ä¸Šï¼Œæˆ‘å­¦åˆ°ï¼š  </p><ul><li>åšä»»ä½•äº‹æƒ…éƒ½è¦<strong>é•¿æœŸä¸»ä¹‰</strong>ï¼Œä¸è¢«çŸ­æœŸè¯±æƒ‘å½±å“åˆ¤æ–­ï¼›  </li><li>ç”¨ç†æ€§æ€è€ƒä»£æ›¿æƒ…ç»ªååº”ï¼›  </li><li>æŠ•èµ„è‡ªå·±æ¯”æŠ•èµ„å¸‚åœºæ›´é‡è¦ï¼›  </li><li>ä¿æŒèŠ‚ä¿­ã€è¯šå®ä¸è°¦é€Šï¼Œæ˜¯æˆå°±ä¸€ç”Ÿçš„æ ¹æœ¬ã€‚</li></ul><hr><h2 id="å››ã€äººç”Ÿé“ç†æ€»ç»“"><a href="#å››ã€äººç”Ÿé“ç†æ€»ç»“" class="headerlink" title="å››ã€äººç”Ÿé“ç†æ€»ç»“"></a>å››ã€äººç”Ÿé“ç†æ€»ç»“</h2><ol><li><p><strong>ç‹¬ç«‹æ€è€ƒæ˜¯æœ€é«˜çº§çš„æ™ºæ…§ã€‚</strong><br>ä¸éšæ³¢é€æµï¼Œæ•¢äºåšæŒè‡ªå·±ç†è§£çš„æ­£ç¡®æ–¹å‘ã€‚  </p></li><li><p><strong>æŒç»­å­¦ä¹ ä¸çƒ­çˆ±æ˜¯æœ€å¤§çš„æŠ¤åŸæ²³ã€‚</strong><br>å·´è²ç‰¹æ¯å¤©é˜…è¯»ã€åæ€ï¼Œå½¢æˆäº†å±äºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚  </p></li><li><p><strong>èŠ‚åˆ¶ä¸è‡ªå¾‹æ¯”èªæ˜æ›´é‡è¦ã€‚</strong><br>æˆåŠŸçš„äººä¸æ˜¯çŸ¥é“æ›´å¤šï¼Œè€Œæ˜¯æ‡‚å¾—å…‹åˆ¶ä¸ä¸“æ³¨ã€‚  </p></li><li><p><strong>è´¢å¯Œä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯åšæœ‰æ„ä¹‰äº‹æƒ…çš„å·¥å…·ã€‚</strong><br>å·´è²ç‰¹æœ€ç»ˆé€‰æ‹©å°†å…¨éƒ¨è´¢å¯Œæå‡ºï¼Œä»–è¯æ˜äº†è´¢å¯Œçš„çœŸæ­£ä»·å€¼åœ¨äºè´¡çŒ®ç¤¾ä¼šã€‚  </p></li></ol><hr><h2 id="äº”ã€ç»“è¯­"><a href="#äº”ã€ç»“è¯­" class="headerlink" title="äº”ã€ç»“è¯­"></a>äº”ã€ç»“è¯­</h2><p>ã€Šæ»šé›ªçƒã€‹ä¸ä»…æ˜¯ä¸€éƒ¨æŠ•èµ„åœ£ç»ï¼Œæ›´æ˜¯ä¸€éƒ¨äººç”Ÿå“²å­¦çš„æ•™ç§‘ä¹¦ã€‚å·´è²ç‰¹ç”¨è‡ªå·±çš„ä¸€ç”Ÿè¯æ˜ï¼š<strong>ç†æ€§ã€è¯šå®ã€çƒ­çˆ±ä¸åšæŒï¼Œæ˜¯é€šå¾€å¹¸ç¦ä¸æˆåŠŸçš„æœ€å¯é é“è·¯ã€‚</strong><br>ä»–ç”¨è¡ŒåŠ¨å‘Šè¯‰æˆ‘ä»¬â€”â€”<strong>äººç”Ÿå°±åƒæ»šé›ªçƒï¼Œæœ€é‡è¦çš„æ˜¯æ‰¾åˆ°æ¹¿é›ªå’Œé•¿å¡</strong>ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š&quot;&gt;&lt;a href=&quot;#ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š&quot; class=&quot;headerlink&quot; title=&quot;ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š&quot;&gt;&lt;/a&gt;ã€Šæ»šé›ªçƒï¼šå·´è²ç‰¹å’Œä»–çš„è´¢å¯Œäººç”Ÿã€‹è¯»ä¹¦æŠ¥å‘Š&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="ä¹¦ç±" scheme="https://db-hanty.github.io/categories/%E4%B9%A6%E7%B1%8D/"/>
    
    
    <category term="äººç‰©ä¼ è®°" scheme="https://db-hanty.github.io/tags/%E4%BA%BA%E7%89%A9%E4%BC%A0%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨</title>
    <link href="https://db-hanty.github.io/posts/a84ce48b.html"/>
    <id>https://db-hanty.github.io/posts/a84ce48b.html</id>
    <published>2025-10-13T21:05:29.000Z</published>
    <updated>2025-12-18T12:59:28.706Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨"><a href="#Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨" class="headerlink" title="Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨"></a>Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨</h1><h2 id="ä¸€ã€Redisçš„Luaè„šæœ¬"><a href="#ä¸€ã€Redisçš„Luaè„šæœ¬" class="headerlink" title="ä¸€ã€Redisçš„Luaè„šæœ¬"></a>ä¸€ã€Redisçš„Luaè„šæœ¬</h2><p>Lua æ˜¯ä¸€ç§è½»é‡çº§è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥åœ¨ Redis ä¸­ç¡®ä¿å¤šæ¡å‘½ä»¤çš„<strong>åŸå­æ€§æ‰§è¡Œ</strong>ã€‚åœ¨å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ä¸­ä½¿ç”¨ Lua å¯ä»¥é¿å…åˆ†å¸ƒå¼é”æˆ–äº‹åŠ¡å¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚</p><hr><h3 id="1-Redis-çš„è°ƒç”¨å‡½æ•°"><a href="#1-Redis-çš„è°ƒç”¨å‡½æ•°" class="headerlink" title="1. Redis çš„è°ƒç”¨å‡½æ•°"></a>1. Redis çš„è°ƒç”¨å‡½æ•°</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;å‘½ä»¤åç§°&#x27;</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;å…¶ä»–å‚æ•°&#x27;</span>, ...)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æ‰§è¡Œ <code>SET name jack</code>ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;jack&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><h3 id="2-è°ƒç”¨è„šæœ¬"><a href="#2-è°ƒç”¨è„šæœ¬" class="headerlink" title="2. è°ƒç”¨è„šæœ¬"></a>2. è°ƒç”¨è„šæœ¬</h3><p><code>EVAL</code> å‘½ä»¤ç”¨äºæ‰§è¡Œ Lua è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EVAL <span class="string">&quot;return redis.call(&#x27;set&#x27;,&#x27;name&#x27;,&#x27;jack&#x27;)&quot;</span> 0</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ <code>0</code> è¡¨ç¤ºè„šæœ¬æ‰€éœ€çš„ key ç±»å‹å‚æ•°ä¸ªæ•°ã€‚</p></blockquote><hr><h3 id="3-ä¼ å‚æœºåˆ¶"><a href="#3-ä¼ å‚æœºåˆ¶" class="headerlink" title="3. ä¼ å‚æœºåˆ¶"></a>3. ä¼ å‚æœºåˆ¶</h3><p>å¦‚æœ keyã€value ä¸æƒ³å†™æ­»ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ã€‚  </p><ul><li>key ç±»å‹å‚æ•°ä¼šæ”¾å…¥ <code>KEYS</code> æ•°ç»„  </li><li>å…¶ä»–å‚æ•°ä¼šæ”¾å…¥ <code>ARGV</code> æ•°ç»„</li></ul><p>åœ¨è„šæœ¬ä¸­é€šè¿‡ <code>KEYS</code> å’Œ <code>ARGV</code> è·å–è¿™äº›å‚æ•°ã€‚</p><hr><h3 id="âœ…-å°ç»“"><a href="#âœ…-å°ç»“" class="headerlink" title="âœ… å°ç»“"></a>âœ… å°ç»“</h3><p>Lua è„šæœ¬çš„ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>å®ç°åˆ†å¸ƒå¼é”çš„åŸå­æ“ä½œ</li><li>ä¿è¯å¤æ‚é€»è¾‘çš„äº‹åŠ¡æ€§æ‰§è¡Œ</li><li>å®ç°è®¡æ•°å™¨ã€åº“å­˜æ‰£å‡ã€é™æµç­‰åŠŸèƒ½</li></ul><p>å­¦ä¹ å»ºè®®ï¼š</p><ol><li>æŒæ¡åŸºæœ¬ Lua è¯­æ³•ï¼ˆå˜é‡ã€æ§åˆ¶æµã€å‡½æ•°ï¼‰ã€‚  </li><li>å­¦ä¼šåœ¨ Redis CLI æˆ– Java ä¸­è°ƒç”¨ <code>EVAL</code>ã€‚  </li><li>ç†è§£ Redis ä¸­ Lua è„šæœ¬æ‰§è¡Œçš„åŸå­æ€§åŸç†ã€‚</li></ol><hr><h2 id="äºŒã€Redisson-å¿«é€Ÿå…¥é—¨"><a href="#äºŒã€Redisson-å¿«é€Ÿå…¥é—¨" class="headerlink" title="äºŒã€Redisson å¿«é€Ÿå…¥é—¨"></a>äºŒã€Redisson å¿«é€Ÿå…¥é—¨</h2><p>Redisson æ˜¯ Redis çš„ Java å®¢æˆ·ç«¯ï¼Œæä¾›äº†ä¸°å¯Œçš„åˆ†å¸ƒå¼æ•°æ®ç»“æ„ä¸é”æœºåˆ¶ã€‚</p><h3 id="1-å¼•å…¥ä¾èµ–"><a href="#1-å¼•å…¥ä¾èµ–" class="headerlink" title="1. å¼•å…¥ä¾èµ–"></a>1. å¼•å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.redisson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redisson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.15.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-é…ç½®-Redisson-å®¢æˆ·ç«¯"><a href="#2-é…ç½®-Redisson-å®¢æˆ·ç«¯" class="headerlink" title="2. é…ç½® Redisson å®¢æˆ·ç«¯"></a>2. é…ç½® Redisson å®¢æˆ·ç«¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedissionConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedissonClient <span class="title function_">redissionClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Config</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Config</span>();</span><br><span class="line">        config.useSingleServer()</span><br><span class="line">            .setAddress(<span class="string">&quot;redis://192.168.85.133:6379&quot;</span>)</span><br><span class="line">            .setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Redisson.create(config);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="3-ä½¿ç”¨-Redisson"><a href="#3-ä½¿ç”¨-Redisson" class="headerlink" title="3. ä½¿ç”¨ Redisson"></a>3. ä½¿ç”¨ Redisson</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line"><span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€Redisson-å¯é‡å…¥é”åŸç†"><a href="#ä¸‰ã€Redisson-å¯é‡å…¥é”åŸç†" class="headerlink" title="ä¸‰ã€Redisson å¯é‡å…¥é”åŸç†"></a>ä¸‰ã€Redisson å¯é‡å…¥é”åŸç†</h2><p>Redisson çš„å¯é‡å…¥é”ä½¿ç”¨ <strong>Hash ç»“æ„</strong> å­˜å‚¨é”ä¿¡æ¯ï¼š  </p><ul><li>keyï¼šé”åç§°  </li><li>fieldï¼šçº¿ç¨‹ID  </li><li>valueï¼šé‡å…¥æ¬¡æ•°</li></ul><p>é”é€»è¾‘ï¼š<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B0281478D-0D90-4210-A6E4-440FB8B34F10%7D.png" alt=""></p><ol><li>å¦‚æœé”ä¸å­˜åœ¨ï¼Œåˆ›å»ºé”å¹¶è®¾ç½®çº¿ç¨‹ IDã€‚  </li><li>å¦‚æœçº¿ç¨‹å·²æŒæœ‰é”ï¼Œå¢åŠ é‡å…¥æ¬¡æ•°ã€‚  </li><li>å¦‚æœé”è¢«å ç”¨ï¼Œé˜»å¡æˆ–ç­‰å¾…é‡è¯•ã€‚</li></ol><hr><h3 id="Lua-å®ç°ç¤ºä¾‹"><a href="#Lua-å®ç°ç¤ºä¾‹" class="headerlink" title="Lua å®ç°ç¤ºä¾‹"></a>Lua å®ç°ç¤ºä¾‹</h3><p>Redisson çš„åº•å±‚ä½¿ç”¨ Lua è„šæœ¬ä¿è¯åŠ é”ä¸é‡Šæ”¾é”çš„åŸå­æ€§ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- è·å–é”çš„ Lua è„šæœ¬ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">if</span> (redis.call(<span class="string">&#x27;exists&#x27;</span>, KEYS[<span class="number">1</span>]) == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hset&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">elseif</span> (redis.call(<span class="string">&#x27;hexists&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>]) == <span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hincrby&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€Redisson-åˆ†å¸ƒå¼é”æœºåˆ¶"><a href="#å››ã€Redisson-åˆ†å¸ƒå¼é”æœºåˆ¶" class="headerlink" title="å››ã€Redisson åˆ†å¸ƒå¼é”æœºåˆ¶"></a>å››ã€Redisson åˆ†å¸ƒå¼é”æœºåˆ¶</h2><div class="table-container"><table><thead><tr><th>ç‰¹æ€§</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td><strong>å¯é‡å…¥</strong></td><td>ä½¿ç”¨ Hash ç»“æ„è®°å½•çº¿ç¨‹ ID å’Œé‡å…¥æ¬¡æ•°</td></tr><tr><td><strong>å¯é‡è¯•</strong></td><td>åˆ©ç”¨ä¿¡å·é‡ä¸ PubSub å®ç°ç­‰å¾…å”¤é†’æœºåˆ¶</td></tr><tr><td><strong>è¶…æ—¶ç»­çº¦</strong></td><td>WatchDog å®šæœŸé‡ç½®é”çš„è¿‡æœŸæ—¶é—´</td></tr><tr><td><strong>ä¸»ä»ä¸€è‡´æ€§</strong></td><td>é€šè¿‡ MultiLockï¼ˆè”é”ï¼‰ç¡®ä¿å¤šèŠ‚ç‚¹ä¸€è‡´æ€§</td></tr></tbody></table></div><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF8FC16EF-4232-4f29-B244-54DDBAF5F3DB%7D.png" alt=""></h2><h3 id="è”é”ï¼ˆMultiLockï¼‰æœºåˆ¶"><a href="#è”é”ï¼ˆMultiLockï¼‰æœºåˆ¶" class="headerlink" title="è”é”ï¼ˆMultiLockï¼‰æœºåˆ¶"></a>è”é”ï¼ˆMultiLockï¼‰æœºåˆ¶</h3><p>åœ¨å¤šä¸ª Redis èŠ‚ç‚¹ä¸ŠåŒæ—¶åŠ é”ï¼Œåªæœ‰æ‰€æœ‰èŠ‚ç‚¹åŠ é”æˆåŠŸï¼Œæ‰è§†ä¸ºæ•´ä½“åŠ é”æˆåŠŸã€‚  </p><blockquote><p>ç¼ºç‚¹ï¼šè¿ç»´æˆæœ¬é«˜ã€å®ç°å¤æ‚ï¼Œä½†å¯é æ€§æ›´å¼ºã€‚</p></blockquote><hr><h2 id="äº”ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®"><a href="#äº”ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®" class="headerlink" title="äº”ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®"></a>äº”ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®</h2><h3 id="å­¦ä¹ é‡ç‚¹"><a href="#å­¦ä¹ é‡ç‚¹" class="headerlink" title="å­¦ä¹ é‡ç‚¹"></a>å­¦ä¹ é‡ç‚¹</h3><ol><li>ç†è§£ Lua è„šæœ¬åœ¨ Redis ä¸­çš„æ‰§è¡Œæœºåˆ¶ä¸åŸå­æ€§ã€‚</li><li>ç†Ÿæ‚‰ Redisson çš„ä½¿ç”¨ï¼ŒæŒæ¡åˆ†å¸ƒå¼é”ã€ä¿¡å·é‡ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</li><li>èƒ½åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ Lua ä¸ Redisson ä¼˜åŒ–å¹¶å‘ä¸æ€§èƒ½ã€‚</li></ol><h3 id="å­¦ä¹ è·¯å¾„"><a href="#å­¦ä¹ è·¯å¾„" class="headerlink" title="å­¦ä¹ è·¯å¾„"></a>å­¦ä¹ è·¯å¾„</h3><ul><li>ğŸ”¹ åˆçº§ï¼šæŒæ¡ <code>EVAL</code> å‘½ä»¤ä¸ Lua è°ƒç”¨ Redis APIã€‚</li><li>ğŸ”¹ ä¸­çº§ï¼šç¼–å†™ Lua å®ç°åŸå­æ€§ä¸šåŠ¡é€»è¾‘ã€‚</li><li>ğŸ”¹ é«˜çº§ï¼šç»“åˆ Redisson å®ç°åˆ†å¸ƒå¼é”ä¸å¼‚æ­¥ä»»åŠ¡ã€‚</li></ul><blockquote><p>ğŸ’¡ å»ºè®®å¤šåŠ¨æ‰‹å®éªŒï¼Œæ¯”å¦‚ï¼šæ¨¡æ‹Ÿåº“å­˜æ‰£å‡ã€å¹¶å‘ä¸‹å•ã€å®šæ—¶ä»»åŠ¡ç»­é”ç­‰åœºæ™¯ã€‚</p></blockquote><hr><p><strong>ä½œè€…å»ºè®®</strong>ï¼š<br>ç†Ÿæ‚‰ Lua è„šæœ¬ä¸ Redisson æ˜¯è¿›å…¥ Java åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘çš„é‡è¦ä¸€æ­¥ã€‚<br>ä¸ä»…èƒ½æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œä¹Ÿèƒ½å¸®åŠ©ç†è§£åº•å±‚é”æœºåˆ¶ä¸æ•°æ®ä¸€è‡´æ€§ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;Luaè„šæœ¬ä¸Redissonçš„å¿«é€Ÿå…¥é—¨&lt;/h1&gt;&lt;h2 i</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°</title>
    <link href="https://db-hanty.github.io/posts/f9b146a.html"/>
    <id>https://db-hanty.github.io/posts/f9b146a.html</id>
    <published>2025-09-29T09:22:41.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°"><a href="#Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°" class="headerlink" title="Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°"></a>Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°</h1><h2 id="ä¸€ã€Redis-åŸºç¡€ä¸ç®€ä»‹"><a href="#ä¸€ã€Redis-åŸºç¡€ä¸ç®€ä»‹" class="headerlink" title="ä¸€ã€Redis åŸºç¡€ä¸ç®€ä»‹"></a>ä¸€ã€Redis åŸºç¡€ä¸ç®€ä»‹</h2><h3 id="1-ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ</h3><p>ç¼“å­˜ï¼ˆCacheï¼‰æ˜¯ä¸€ç§<strong>æ•°æ®åŠ é€Ÿè®¿é—®æœºåˆ¶</strong>ï¼Œé€šè¿‡å°†çƒ­ç‚¹æ•°æ®å­˜å‚¨åœ¨è®¿é—®é€Ÿåº¦æ›´å¿«çš„ä»‹è´¨ï¼ˆå¦‚å†…å­˜ï¼‰ä¸­ï¼Œå‡å°‘æ•°æ®åº“çš„è®¿é—®å‹åŠ›ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ä¸å“åº”é€Ÿåº¦ã€‚</p><h3 id="2-æœ¬åœ°ç¼“å­˜"><a href="#2-æœ¬åœ°ç¼“å­˜" class="headerlink" title="2. æœ¬åœ°ç¼“å­˜"></a>2. æœ¬åœ°ç¼“å­˜</h3><p>æœ¬åœ°ç¼“å­˜æŒ‡æ•°æ®ç¼“å­˜åœ¨åº”ç”¨æœåŠ¡å™¨æœ¬åœ°å†…å­˜ä¸­ã€‚å¸¸è§å®ç°åŒ…æ‹¬ï¼š</p><ul><li><strong>Caffeine</strong>ï¼šé«˜æ€§èƒ½æœ¬åœ°ç¼“å­˜åº“ï¼ŒåŸºäº LRU ç®—æ³•ä¼˜åŒ–ï¼Œé€‚ç”¨äºå•æœºåº”ç”¨åœºæ™¯ã€‚</li></ul><h3 id="3-å¤šçº§ç¼“å­˜"><a href="#3-å¤šçº§ç¼“å­˜" class="headerlink" title="3. å¤šçº§ç¼“å­˜"></a>3. å¤šçº§ç¼“å­˜</h3><p>å¤šçº§ç¼“å­˜ = æœ¬åœ°ç¼“å­˜ + åˆ†å¸ƒå¼ç¼“å­˜<br>å¸¸è§æ¶æ„ï¼š  </p><ul><li>ä¸€çº§ç¼“å­˜ï¼ˆCaffeineã€æœ¬åœ°ï¼‰  </li><li>äºŒçº§ç¼“å­˜ï¼ˆRedisã€åˆ†å¸ƒå¼ï¼‰  </li></ul><p>ä¼˜ç‚¹ï¼šå‡å°‘ Redis å‹åŠ›ï¼Œæé«˜çƒ­ç‚¹æ•°æ®å‘½ä¸­ç‡ã€‚</p><h3 id="4-Redis-åˆ†å¸ƒå¼ç¼“å­˜"><a href="#4-Redis-åˆ†å¸ƒå¼ç¼“å­˜" class="headerlink" title="4. Redis åˆ†å¸ƒå¼ç¼“å­˜"></a>4. Redis åˆ†å¸ƒå¼ç¼“å­˜</h3><p>Redis æ˜¯ä¸€ä¸ªåŸºäº<strong>å†…å­˜</strong>çš„é«˜æ€§èƒ½ <strong>Key-Value NoSQL æ•°æ®åº“</strong>ã€‚</p><p>ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li>åŸºäºå†…å­˜å­˜å‚¨ï¼Œé€Ÿåº¦æå¿«</li><li>æ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼ˆStringã€Hashã€Listã€Setã€SortedSetï¼‰</li><li>æä¾›æŒä¹…åŒ–æœºåˆ¶ï¼ˆRDBã€AOFï¼‰</li><li>æ”¯æŒä¸»ä»å¤åˆ¶ã€å“¨å…µä¸é›†ç¾¤æ¨¡å¼</li><li>æä¾›ä¸°å¯Œçš„å‘½ä»¤æ“ä½œä¸å¤šè¯­è¨€å®¢æˆ·ç«¯</li></ul><hr><h2 id="äºŒã€Redis-æ•°æ®ç±»å‹ä¸å¸¸ç”¨æ“ä½œ"><a href="#äºŒã€Redis-æ•°æ®ç±»å‹ä¸å¸¸ç”¨æ“ä½œ" class="headerlink" title="äºŒã€Redis æ•°æ®ç±»å‹ä¸å¸¸ç”¨æ“ä½œ"></a>äºŒã€Redis æ•°æ®ç±»å‹ä¸å¸¸ç”¨æ“ä½œ</h2><div class="table-container"><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>ç¤ºä¾‹ç”¨é€”</th><th>å¸¸ç”¨å‘½ä»¤</th></tr></thead><tbody><tr><td>String</td><td>è®¡æ•°å™¨ã€ç¼“å­˜å¯¹è±¡</td><td><code>SET</code>ã€<code>GET</code>ã€<code>INCR</code>ã€<code>DECR</code></td></tr><tr><td>Hash</td><td>å­˜å‚¨å¯¹è±¡ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ï¼‰</td><td><code>HSET</code>ã€<code>HGET</code>ã€<code>HGETALL</code></td></tr><tr><td>List</td><td>æ¶ˆæ¯é˜Ÿåˆ—ã€æ—¶é—´çº¿</td><td><code>LPUSH</code>ã€<code>RPUSH</code>ã€<code>LPOP</code>ã€<code>LRANGE</code></td></tr><tr><td>Set</td><td>å»é‡ã€æ ‡ç­¾é›†åˆ</td><td><code>SADD</code>ã€<code>SREM</code>ã€<code>SMEMBERS</code></td></tr><tr><td>Sorted Set</td><td>æ’è¡Œæ¦œã€ç§¯åˆ†æ¦œ</td><td><code>ZADD</code>ã€<code>ZRANGE</code>ã€<code>ZINCRBY</code></td></tr></tbody></table></div><hr><h2 id="ä¸‰ã€Java-æ“ä½œ-Redis"><a href="#ä¸‰ã€Java-æ“ä½œ-Redis" class="headerlink" title="ä¸‰ã€Java æ“ä½œ Redis"></a>ä¸‰ã€Java æ“ä½œ Redis</h2><h3 id="1-Jedis"><a href="#1-Jedis" class="headerlink" title="1. Jedis"></a>1. Jedis</h3><p>Jedis æ˜¯ Redis çš„ Java å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ç®€å•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-Spring-Boot-RedisTemplate"><a href="#2-Spring-Boot-RedisTemplate" class="headerlink" title="2. Spring Boot - RedisTemplate"></a>2. Spring Boot - RedisTemplate</h3><p>Spring Boot æä¾›çš„å°è£…ï¼Œç®€åŒ– Redis æ“ä½œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">redisTemplate.opsForValue().set(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Hty&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure><h3 id="3-Redisson"><a href="#3-Redisson" class="headerlink" title="3. Redisson"></a>3. Redisson</h3><p>Redisson æ˜¯å®˜æ–¹æ¨èçš„ Java å®¢æˆ·ç«¯ï¼Œæä¾›ä¸°å¯Œçš„åˆ†å¸ƒå¼åŠŸèƒ½ï¼š</p><ul><li>åˆ†å¸ƒå¼é”</li><li>å»¶è¿Ÿé˜Ÿåˆ—</li><li>é™æµå™¨</li><li>åˆ†å¸ƒå¼é›†åˆã€Mapã€List</li></ul><hr><h2 id="å››ã€Redis-é«˜å¯ç”¨ä¸æŒä¹…åŒ–"><a href="#å››ã€Redis-é«˜å¯ç”¨ä¸æŒä¹…åŒ–" class="headerlink" title="å››ã€Redis é«˜å¯ç”¨ä¸æŒä¹…åŒ–"></a>å››ã€Redis é«˜å¯ç”¨ä¸æŒä¹…åŒ–</h2><h3 id="1-ä¸»ä»å¤åˆ¶"><a href="#1-ä¸»ä»å¤åˆ¶" class="headerlink" title="1. ä¸»ä»å¤åˆ¶"></a>1. ä¸»ä»å¤åˆ¶</h3><p>Redis æ”¯æŒä¸»ä»å¤åˆ¶ï¼ˆMaster-Slaveï¼‰ï¼Œå¯å®ç°ï¼š</p><ul><li>æ•°æ®å†—ä½™ä¸å¤‡ä»½</li><li>è¯»å†™åˆ†ç¦»</li></ul><h3 id="2-å“¨å…µæ¨¡å¼ï¼ˆSentinelï¼‰"><a href="#2-å“¨å…µæ¨¡å¼ï¼ˆSentinelï¼‰" class="headerlink" title="2. å“¨å…µæ¨¡å¼ï¼ˆSentinelï¼‰"></a>2. å“¨å…µæ¨¡å¼ï¼ˆSentinelï¼‰</h3><p>æä¾›ä¸»ä»è‡ªåŠ¨åˆ‡æ¢ä¸æ•…éšœè½¬ç§»æœºåˆ¶ï¼Œä¿è¯é«˜å¯ç”¨æ€§ã€‚</p><h3 id="3-Redis-é›†ç¾¤"><a href="#3-Redis-é›†ç¾¤" class="headerlink" title="3. Redis é›†ç¾¤"></a>3. Redis é›†ç¾¤</h3><p>é€šè¿‡åˆ†ç‰‡ï¼ˆShardingï¼‰å®ç°å¤šèŠ‚ç‚¹æ•°æ®åˆ†å¸ƒä¸æ°´å¹³æ‰©å±•ã€‚</p><h3 id="4-æŒä¹…åŒ–æœºåˆ¶"><a href="#4-æŒä¹…åŒ–æœºåˆ¶" class="headerlink" title="4. æŒä¹…åŒ–æœºåˆ¶"></a>4. æŒä¹…åŒ–æœºåˆ¶</h3><ul><li><strong>RDB</strong>ï¼šå®šæœŸå¿«ç…§ä¿å­˜æ•°æ®</li><li><strong>AOF</strong>ï¼šè®°å½•æ¯æ¡å†™æ“ä½œæ—¥å¿—ï¼Œæ¢å¤æ—¶é‡æ”¾æ—¥å¿—</li><li>ä¸¤è€…å¯æ··åˆä½¿ç”¨ä»¥å…¼é¡¾å®‰å…¨ä¸æ€§èƒ½</li></ul><hr><h2 id="äº”ã€Redis-åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯"><a href="#äº”ã€Redis-åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯" class="headerlink" title="äº”ã€Redis åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯"></a>äº”ã€Redis åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯</h2><div class="table-container"><table><thead><tr><th>åº”ç”¨åœºæ™¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ•°æ®å…±äº«</strong></td><td>ä¸åŒæœåŠ¡é—´å…±äº«ç”¨æˆ·ä¿¡æ¯æˆ–çŠ¶æ€</td></tr><tr><td><strong>å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰</strong></td><td>ç»Ÿä¸€è®¤è¯ä¸­å¿ƒï¼Œå°† Token å­˜å‚¨åœ¨ Redis</td></tr><tr><td><strong>è®¡æ•°å™¨</strong></td><td>æµè§ˆé‡ã€ç‚¹èµæ•°ç­‰</td></tr><tr><td><strong>é™æµ</strong></td><td>æ§åˆ¶æ¥å£è®¿é—®é¢‘ç‡</td></tr><tr><td><strong>ç‚¹èµ / æ”¶è—</strong></td><td>ä½¿ç”¨ Set æˆ– SortedSet å®ç°</td></tr><tr><td><strong>å®æ—¶æ’è¡Œæ¦œ</strong></td><td>ä½¿ç”¨ SortedSet å­˜å‚¨ç”¨æˆ·ç§¯åˆ†å¹¶æ’åº</td></tr><tr><td><strong>åˆ†å¸ƒå¼é”</strong></td><td>ä½¿ç”¨ <code>SETNX</code> æˆ– Redisson å®ç°</td></tr><tr><td><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong></td><td>åŸºäº Listã€Stream å®ç°ç®€å•å¼‚æ­¥é€šä¿¡</td></tr></tbody></table></div><hr><h2 id="å…­ã€ç¼“å­˜å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a href="#å…­ã€ç¼“å­˜å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å…­ã€ç¼“å­˜å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a>å…­ã€ç¼“å­˜å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id="1-ç¼“å­˜é›ªå´©"><a href="#1-ç¼“å­˜é›ªå´©" class="headerlink" title="1. ç¼“å­˜é›ªå´©"></a>1. ç¼“å­˜é›ªå´©</h3><p><strong>å®šä¹‰</strong>ï¼šå¤§é‡ç¼“å­˜åŒæ—¶å¤±æ•ˆï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›éª¤å¢ã€‚<br><strong>è§£å†³</strong>ï¼š</p><ul><li>è®¾ç½®ä¸åŒè¿‡æœŸæ—¶é—´ï¼Œé¿å…åŒæ—¶è¿‡æœŸ</li><li>ä½¿ç”¨å¤šçº§ç¼“å­˜</li><li>å¼•å…¥é™çº§ä¸é™æµæœºåˆ¶</li></ul><h3 id="2-ç¼“å­˜å‡»ç©¿"><a href="#2-ç¼“å­˜å‡»ç©¿" class="headerlink" title="2. ç¼“å­˜å‡»ç©¿"></a>2. ç¼“å­˜å‡»ç©¿</h3><p><strong>å®šä¹‰</strong>ï¼šçƒ­ç‚¹ key å¤±æ•ˆç¬é—´ï¼Œå¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ã€‚<br><strong>è§£å†³</strong>ï¼š<br>| è§£å†³æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |<br>| â€”- | â€”- | â€”- |<br>| äº’æ–¥é” | Â· æ²¡æœ‰é¢å¤–çš„å†…å­˜æ¶ˆè€—<br>Â· ä¿è¯ä¸€è‡´æ€§<br>Â· å®ç°ç®€å• | Â· çº¿ç¨‹éœ€è¦ç­‰å¾…ï¼Œæ€§èƒ½å—å½±å“<br>Â· å¯èƒ½æœ‰æ­»é”é£é™© |<br>| é€»è¾‘è¿‡æœŸ | Â· çº¿ç¨‹æ— éœ€ç­‰å¾…ï¼Œæ€§èƒ½è¾ƒå¥½ | Â· ä¸ä¿è¯ä¸€è‡´æ€§<br>Â· æœ‰é¢å¤–å†…å­˜æ¶ˆè€—<br>Â· å®ç°å¤æ‚ |<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF47D80E1-8BDD-4346-A5B1-B0AF4FDCC587%7D.png" alt=""></p><h3 id="3-ç¼“å­˜ç©¿é€"><a href="#3-ç¼“å­˜ç©¿é€" class="headerlink" title="3. ç¼“å­˜ç©¿é€"></a>3. ç¼“å­˜ç©¿é€</h3><p><strong>å®šä¹‰</strong>ï¼šæŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®ï¼Œå¯¼è‡´æ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“ã€‚<br><strong>è§£å†³</strong>ï¼š</p><ul><li>ç¼“å­˜ç©ºå¯¹è±¡<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B694B1FC8-D029-4e5f-8EFF-70EBBE536741%7D.png" alt=""></li><li>å‚æ•°æ ¡éªŒ</li><li>å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8197FAB0-4A33-4d7c-956F-536F86EF1F2B%7D.png" alt=""></li></ul><h3 id="4-ç¼“å­˜ä¸€è‡´æ€§"><a href="#4-ç¼“å­˜ä¸€è‡´æ€§" class="headerlink" title="4. ç¼“å­˜ä¸€è‡´æ€§"></a>4. ç¼“å­˜ä¸€è‡´æ€§</h3><p><strong>å®šä¹‰</strong>ï¼šç¼“å­˜ä¸æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´ã€‚<br><strong>è§£å†³</strong>ï¼š</p><ul><li>å…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜</li><li>ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—å»¶è¿ŸåŒåˆ </li><li>å…³é”®ä¸šåŠ¡å¯ä½¿ç”¨ Redisson ä¿è¯ä¸€è‡´æ€§</li></ul><hr><h2 id="ä¸ƒã€ç›¸å…³æŠ€æœ¯å¯¹æ¯”"><a href="#ä¸ƒã€ç›¸å…³æŠ€æœ¯å¯¹æ¯”" class="headerlink" title="ä¸ƒã€ç›¸å…³æŠ€æœ¯å¯¹æ¯”"></a>ä¸ƒã€ç›¸å…³æŠ€æœ¯å¯¹æ¯”</h2><div class="table-container"><table><thead><tr><th>æŠ€æœ¯</th><th>ç‰¹ç‚¹</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Redis</strong></td><td>å†…å­˜å­˜å‚¨ï¼Œæ”¯æŒå¤šæ•°æ®ç»“æ„ï¼Œé«˜æ€§èƒ½</td><td>çƒ­ç‚¹æ•°æ®ã€é«˜å¹¶å‘åœºæ™¯</td></tr><tr><td><strong>Memcached</strong></td><td>ä»…æ”¯æŒé”®å€¼å¯¹ï¼Œå†…å­˜å‹ç¼“å­˜</td><td>ç®€å•é«˜é€Ÿç¼“å­˜</td></tr><tr><td><strong>Ehcache</strong></td><td>æœ¬åœ°ç¼“å­˜ï¼ŒåµŒå…¥å¼</td><td>å•æœºé¡¹ç›®ã€æœ¬åœ°æ•°æ®ç¼“å­˜</td></tr></tbody></table></div><hr><h2 id="å…«ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®"><a href="#å…«ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®" class="headerlink" title="å…«ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®"></a>å…«ã€æ€»ç»“ä¸å­¦ä¹ å»ºè®®</h2><p>Redis æ˜¯åç«¯å¼€å‘çš„é‡è¦åŸºç¡€ç»„ä»¶ï¼Œæ—¢æ˜¯ç¼“å­˜ç³»ç»Ÿï¼Œä¹Ÿæ˜¯è½»é‡çº§æ•°æ®åº“ã€æ¶ˆæ¯ä¸­é—´ä»¶ã€‚<br><strong>å­¦ä¹ å»ºè®®ï¼š</strong></p><ol><li>æŒæ¡ Redis åŸºç¡€å‘½ä»¤ä¸æ•°æ®ç»“æ„ã€‚</li><li>ç†Ÿæ‚‰ Java å®¢æˆ·ç«¯ï¼ˆJedisã€RedisTemplateã€Redissonï¼‰ã€‚</li><li>ç†è§£ä¸»ä»å¤åˆ¶ã€å“¨å…µã€é›†ç¾¤çš„éƒ¨ç½²åŸç†ã€‚</li><li>æŒæ¡ç¼“å­˜ä¸€è‡´æ€§ä¸é«˜å¯ç”¨ç­–ç•¥ã€‚</li></ol><blockquote><p>Redis å­¦å®Œåï¼Œå¯ä»¥ç»§ç»­å­¦ä¹  <strong>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆRabbitMQ / Kafkaï¼‰</strong> ä¸ <strong>åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡</strong>ï¼Œä¸ºåç»­æ¡†æ¶å­¦ä¹ æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°&quot;&gt;&lt;a href=&quot;#Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°&quot;&gt;&lt;/a&gt;Redisçš„å®é™…åº”ç”¨åŠå­¦ä¹ ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;ä¸€ã€Redis-åŸºç¡€ä¸ç®€ä»‹</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»</title>
    <link href="https://db-hanty.github.io/posts/undefined.html"/>
    <id>https://db-hanty.github.io/posts/undefined.html</id>
    <published>2025-09-28T20:41:40.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»"><a href="#Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»" class="headerlink" title="Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»"></a>Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»</h1><p>Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ <strong>é”®å€¼å‹ NoSQL æ•°æ®åº“</strong>ï¼Œå¹¿æ³›åº”ç”¨äºç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å®æ—¶ç»Ÿè®¡ç­‰é«˜å¹¶å‘åœºæ™¯ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µã€å¸¸ç”¨æ•°æ®ç»“æ„ä¸å‘½ä»¤ã€ä»¥åŠåœ¨ Java ä¸­çš„ä½¿ç”¨æ–¹å¼ä¸‰ä¸ªæ–¹é¢ï¼Œå¸¦ä½ å¿«é€Ÿå…¥é—¨ Redisã€‚</p><hr><h2 id="ä¸€ã€åŸºç¡€çŸ¥è¯†"><a href="#ä¸€ã€åŸºç¡€çŸ¥è¯†" class="headerlink" title="ä¸€ã€åŸºç¡€çŸ¥è¯†"></a>ä¸€ã€åŸºç¡€çŸ¥è¯†</h2><h3 id="1-NoSQL-æ¦‚è¿°"><a href="#1-NoSQL-æ¦‚è¿°" class="headerlink" title="1. NoSQL æ¦‚è¿°"></a>1. NoSQL æ¦‚è¿°</h3><p>ä¼ ç»Ÿçš„ SQL æ•°æ®åº“ï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰ä¸ NoSQLï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p><div class="table-container"><table><thead><tr><th>ç‰¹ç‚¹</th><th>SQLï¼ˆå…³ç³»å‹ï¼‰</th><th>NoSQLï¼ˆéå…³ç³»å‹ï¼‰</th></tr></thead><tbody><tr><td>æ•°æ®ç»“æ„</td><td>ç»“æ„åŒ–ï¼šè¡¨æ ¼ç»“æ„</td><td>éç»“æ„åŒ–ï¼šé”®å€¼å¯¹ã€JSONã€å›¾</td></tr><tr><td>æ•°æ®å…³è”</td><td>æœ‰å…³è”</td><td>æ— å…³è”</td></tr><tr><td>æŸ¥è¯¢æ–¹å¼</td><td>SQL æŸ¥è¯¢</td><td>é SQL æŸ¥è¯¢</td></tr><tr><td>äº‹åŠ¡ç‰¹æ€§</td><td>ACID</td><td>BASE</td></tr><tr><td>å­˜å‚¨æ–¹å¼</td><td>ç£ç›˜</td><td>å†…å­˜</td></tr><tr><td>æ‰©å±•æ€§</td><td>å‚ç›´æ‰©å±•</td><td>æ°´å¹³æ‰©å±•</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>æ•°æ®ç¨³å®šã€å¯¹ä¸€è‡´æ€§è¦æ±‚é«˜</td><td>æ•°æ®ç»“æ„çµæ´»ã€æ€§èƒ½è¦æ±‚é«˜</td></tr></tbody></table></div><h3 id="2-Redis-ç®€ä»‹"><a href="#2-Redis-ç®€ä»‹" class="headerlink" title="2. Redis ç®€ä»‹"></a>2. Redis ç®€ä»‹</h3><ul><li><strong>å®šä¹‰</strong>ï¼šåŸºäºå†…å­˜çš„é”®å€¼å‹ NoSQL æ•°æ®åº“  </li><li><strong>ç‰¹æ€§</strong>ï¼š  <ul><li>æ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼ˆStringã€Hashã€Listã€Setã€SortedSetï¼‰  </li><li>å•çº¿ç¨‹æ¨¡å‹ï¼Œé€Ÿåº¦å¿«ï¼ˆå†…å­˜å­˜å‚¨ã€IO å¤šè·¯å¤ç”¨ï¼‰  </li><li>æ”¯æŒæŒä¹…åŒ–ï¼ˆRDBã€AOFï¼‰  </li><li>æ”¯æŒä¸»ä»å¤åˆ¶ã€åˆ†ç‰‡é›†ç¾¤  </li></ul></li></ul><hr><h2 id="äºŒã€Redis-å¸¸ç”¨å‘½ä»¤"><a href="#äºŒã€Redis-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="äºŒã€Redis å¸¸ç”¨å‘½ä»¤"></a>äºŒã€Redis å¸¸ç”¨å‘½ä»¤</h2><h3 id="1-é€šç”¨å‘½ä»¤"><a href="#1-é€šç”¨å‘½ä»¤" class="headerlink" title="1. é€šç”¨å‘½ä»¤"></a>1. é€šç”¨å‘½ä»¤</h3><ul><li><code>KEYS</code>ï¼šæŸ¥çœ‹ç¬¦åˆæ¨¡æ¿çš„æ‰€æœ‰ keyï¼ˆç”Ÿäº§ç¯å¢ƒä¸æ¨èï¼‰  </li><li><code>DEL</code>ï¼šåˆ é™¤æŒ‡å®š key  </li><li><code>EXISTS</code>ï¼šåˆ¤æ–­ key æ˜¯å¦å­˜åœ¨  </li><li><code>EXPIRE</code>ï¼šè®¾ç½® key çš„è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰  </li></ul><h3 id="2-String-ç±»å‹"><a href="#2-String-ç±»å‹" class="headerlink" title="2. String ç±»å‹"></a>2. String ç±»å‹</h3><ul><li><code>SET key value</code>ï¼šæ·»åŠ /ä¿®æ”¹  </li><li><code>GET key</code>ï¼šè·å–å€¼  </li><li><code>MSET k1 v1 k2 v2</code>ï¼šæ‰¹é‡æ·»åŠ   </li><li><code>MGET k1 k2</code>ï¼šæ‰¹é‡è·å–  </li><li><code>INCR key</code>ï¼šæ•´å‹å€¼è‡ªå¢ 1  </li><li><code>SETEX key seconds value</code>ï¼šè®¾ç½®å€¼å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´  </li></ul><h3 id="3-Hash-ç±»å‹"><a href="#3-Hash-ç±»å‹" class="headerlink" title="3. Hash ç±»å‹"></a>3. Hash ç±»å‹</h3><ul><li><code>HSET key field value</code>ï¼šæ·»åŠ æˆ–ä¿®æ”¹  </li><li><code>HGET key field</code>ï¼šè·å–å­—æ®µå€¼  </li><li><code>HGETALL key</code>ï¼šè·å–æ‰€æœ‰å­—æ®µå’Œå€¼  </li><li><code>HINCRBY key field n</code>ï¼šå­—æ®µå€¼è‡ªå¢  </li></ul><h3 id="4-List-ç±»å‹"><a href="#4-List-ç±»å‹" class="headerlink" title="4. List ç±»å‹"></a>4. List ç±»å‹</h3><ul><li><code>LPUSH key v1 v2</code>ï¼šå·¦æ’å…¥  </li><li><code>RPUSH key v1 v2</code>ï¼šå³æ’å…¥  </li><li><code>LPOP key</code>ï¼šç§»é™¤å·¦ç«¯å…ƒç´   </li><li><code>RPOP key</code>ï¼šç§»é™¤å³ç«¯å…ƒç´   </li><li><code>LRANGE key start end</code>ï¼šè·å–èŒƒå›´å†…å…ƒç´   </li></ul><h3 id="5-Set-ç±»å‹"><a href="#5-Set-ç±»å‹" class="headerlink" title="5. Set ç±»å‹"></a>5. Set ç±»å‹</h3><ul><li><code>SADD key v1 v2</code>ï¼šæ·»åŠ å…ƒç´   </li><li><code>SREM key v1</code>ï¼šåˆ é™¤å…ƒç´   </li><li><code>SMEMBERS key</code>ï¼šæŸ¥çœ‹æ‰€æœ‰å…ƒç´   </li><li><code>SINTER key1 key2</code>ï¼šæ±‚äº¤é›†  </li></ul><h3 id="6-SortedSet-ç±»å‹"><a href="#6-SortedSet-ç±»å‹" class="headerlink" title="6. SortedSet ç±»å‹"></a>6. SortedSet ç±»å‹</h3><ul><li><code>ZADD key score value</code>ï¼šæ·»åŠ å…ƒç´   </li><li><code>ZRANGE key start end</code>ï¼šæŒ‰åˆ†æ•°æ’åºå–å€¼  </li><li><code>ZINCRBY key n value</code>ï¼šå¢åŠ åˆ†æ•°  </li><li><code>ZUNION</code> / <code>ZINTER</code> / <code>ZDIFF</code>ï¼šå¹¶é›†ã€äº¤é›†ã€å·®é›†  </li></ul><hr><h2 id="ä¸‰ã€Redis-åœ¨-Java-ä¸­çš„ä½¿ç”¨"><a href="#ä¸‰ã€Redis-åœ¨-Java-ä¸­çš„ä½¿ç”¨" class="headerlink" title="ä¸‰ã€Redis åœ¨ Java ä¸­çš„ä½¿ç”¨"></a>ä¸‰ã€Redis åœ¨ Java ä¸­çš„ä½¿ç”¨</h2><h3 id="1-ä½¿ç”¨-Jedis"><a href="#1-ä½¿ç”¨-Jedis" class="headerlink" title="1. ä½¿ç”¨ Jedis"></a>1. ä½¿ç”¨ Jedis</h3><p><strong>å¼•å…¥ä¾èµ–</strong>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.select(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String ç±»å‹</span></span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hash ç±»å‹</span></span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;18&quot;</span>);</span><br><span class="line">System.out.println(jedis.hgetAll(<span class="string">&quot;user:1&quot;</span>));</span><br><span class="line"></span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨-Spring-Data-Redis"><a href="#2-ä½¿ç”¨-Spring-Data-Redis" class="headerlink" title="2. ä½¿ç”¨ Spring Data Redis"></a>2. ä½¿ç”¨ Spring Data Redis</h3><p><strong>å¼•å…¥ä¾èµ–</strong>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.85</span><span class="number">.130</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">lettuce:</span></span><br><span class="line">        <span class="attr">pool:</span></span><br><span class="line">          <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">min-idle:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•ä»£ç </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">    <span class="type">Object</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>Redis ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½ NoSQL æ•°æ®åº“ï¼Œå‡­å€Ÿ <strong>é«˜å¹¶å‘èƒ½åŠ›ã€ä¸°å¯Œçš„æ•°æ®ç»“æ„ã€è‰¯å¥½çš„ç”Ÿæ€</strong>ï¼Œå·²ç»æˆä¸ºç°ä»£åº”ç”¨å¼€å‘ä¸­çš„é‡è¦ç»„ä»¶ã€‚é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº† Redis çš„åŸºæœ¬å‘½ä»¤åŠå…¶åœ¨ Java é¡¹ç›®ä¸­çš„å¿«é€Ÿä½¿ç”¨æ–¹å¼ã€‚</p><blockquote><p>âœ… å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­åˆç†ä½¿ç”¨ Redis ä½œä¸º <strong>ç¼“å­˜å±‚</strong>ï¼Œé¿å…ç›´æ¥æ›¿ä»£å…³ç³»å‹æ•°æ®åº“ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»&quot;&gt;&lt;a href=&quot;#Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»&quot;&gt;&lt;/a&gt;Rediså¿«é€Ÿå…¥é—¨ä¸ç®€å•ä»‹ç»&lt;/h1&gt;&lt;p&gt;Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ &lt;strong&gt;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>ç¼–æ›²æ•™å­¦ä¹‹ä¹ç†</title>
    <link href="https://db-hanty.github.io/posts/18823607.html"/>
    <id>https://db-hanty.github.io/posts/18823607.html</id>
    <published>2025-09-22T21:30:19.000Z</published>
    <updated>2025-12-18T12:59:28.708Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¼–æ›²åŸºç¡€å…¥é—¨"><a href="#ç¼–æ›²åŸºç¡€å…¥é—¨" class="headerlink" title="ç¼–æ›²åŸºç¡€å…¥é—¨"></a>ç¼–æ›²åŸºç¡€å…¥é—¨</h1><p>ç¼–æ›²ï¼ˆArrangementï¼‰æ˜¯éŸ³ä¹åˆ›ä½œä¸­çš„å…³é”®ç¯èŠ‚ï¼Œå®ƒä¸ä»…å†³å®šäº†æ­Œæ›²çš„æ•´ä½“é£æ ¼å’Œæ°›å›´ï¼Œè¿˜ç›´æ¥å½±å“å¬ä¼—çš„æ„Ÿå—ã€‚æœ¬æ–‡å°†ä»åŸºç¡€ä¹ç†ã€æ­Œæ›²çš„å…ƒç´ å’Œå¸¸è§çš„æ­Œæ›²ç»“æ„ä¸‰ä¸ªæ–¹é¢ï¼Œå¸¦ä½ å¿«é€Ÿå…¥é—¨ç¼–æ›²çš„åŸºæœ¬çŸ¥è¯†ã€‚</p><hr><h2 id="ä¸€ã€åŸºç¡€ä¹ç†"><a href="#ä¸€ã€åŸºç¡€ä¹ç†" class="headerlink" title="ä¸€ã€åŸºç¡€ä¹ç†"></a>ä¸€ã€åŸºç¡€ä¹ç†</h2><h3 id="1-éŸ³åä¸å”±å"><a href="#1-éŸ³åä¸å”±å" class="headerlink" title="1. éŸ³åä¸å”±å"></a>1. éŸ³åä¸å”±å</h3><p>éŸ³ä¹çš„åŸºæœ¬éŸ³é«˜ç”¨ <strong>éŸ³å</strong> è¡¨ç¤ºï¼Œä¾‹å¦‚ Cã€Dã€Eã€Fã€Gã€Aã€Bï¼›è€Œ<strong>å”±å</strong> åˆ™æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ã€Œå“†ã€æ¥ã€å’ªã€å‘ã€ç´¢ã€æ‹‰ã€è¥¿ã€ã€‚</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B1386C79D-D909-4c74-AF7E-8CCE977CC4DE%7D.png" alt=""></p><h3 id="2-éŸ³ç¨‹"><a href="#2-éŸ³ç¨‹" class="headerlink" title="2. éŸ³ç¨‹"></a>2. éŸ³ç¨‹</h3><p>éŸ³ç¨‹æ˜¯æŒ‡ä¸¤ä¸ªéŸ³ä¹‹é—´çš„è·ç¦»ï¼Œé€šå¸¸ç”¨â€œåº¦æ•°â€æ¥è¡¨ç¤ºã€‚æ–¹æ³•æ˜¯ï¼šæ•°ä¸¤ä¸ªéŸ³ä¹‹é—´åŒ…å«çš„ <strong>ç™½é”®</strong> æ•°é‡ã€‚</p><h3 id="3-åŠéŸ³"><a href="#3-åŠéŸ³" class="headerlink" title="3. åŠéŸ³"></a>3. åŠéŸ³</h3><p>åŠéŸ³æ˜¯éŸ³ä¹ä¸­æœ€å°çš„éŸ³ç¨‹å•ä½ã€‚å¸¸è§éŸ³ç¨‹ä¸¾ä¾‹ï¼š</p><ul><li>çº¯ä¸€åº¦ï¼š0 åŠéŸ³</li><li>å°äºŒåº¦ï¼š1 åŠéŸ³</li><li>å¤§äºŒåº¦ï¼š2 åŠéŸ³</li><li>å°ä¸‰åº¦ï¼š3 åŠéŸ³</li><li>å¤§ä¸‰åº¦ï¼š4 åŠéŸ³</li></ul><h3 id="4-å’Œå¼¦"><a href="#4-å’Œå¼¦" class="headerlink" title="4. å’Œå¼¦"></a>4. å’Œå¼¦</h3><p>å’Œå¼¦æ˜¯ç”±ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šçš„éŸ³æŒ‰ç…§ä¸€å®šè§„åˆ™å ç½®è€Œæˆã€‚æœ€åŸºæœ¬çš„æ˜¯ä¸‰å’Œå¼¦ï¼Œç”±ã€Œæ ¹éŸ³ã€ä¸‰éŸ³ã€äº”éŸ³ã€ç»„æˆï¼š</p><ul><li><strong>å¤§ä¸‰å’Œå¼¦</strong>ï¼šC - E - G</li><li><strong>å°ä¸‰å’Œå¼¦</strong>ï¼šC - Eb - G</li><li><strong>å‡ä¸‰å’Œå¼¦</strong>ï¼šC - Eb - Gb</li><li><strong>å¢ä¸‰å’Œå¼¦</strong>ï¼šC - E - G#</li></ul><h3 id="5-è°ƒå¼ä¸è°ƒæ€§"><a href="#5-è°ƒå¼ä¸è°ƒæ€§" class="headerlink" title="5. è°ƒå¼ä¸è°ƒæ€§"></a>5. è°ƒå¼ä¸è°ƒæ€§</h3><ul><li><strong>å¤§è°ƒå¼</strong>ï¼šå…¨ - å…¨ - åŠ - å…¨ - å…¨ - å…¨ - åŠ</li><li><strong>å°è°ƒå¼</strong>ï¼šå…¨ - åŠ - å…¨ - å…¨ - åŠ - å…¨ - å…¨</li></ul><p>è°ƒæ€§ = è°ƒå¼ + ä¸»éŸ³ï¼Œä¾‹å¦‚ã€ŒCå¤§è°ƒã€è¡¨ç¤ºä¸»éŸ³æ˜¯ Cï¼Œé‡‡ç”¨å¤§è°ƒå¼ã€‚</p><hr><h2 id="äºŒã€æ­Œæ›²çš„åŸºæœ¬å…ƒç´ "><a href="#äºŒã€æ­Œæ›²çš„åŸºæœ¬å…ƒç´ " class="headerlink" title="äºŒã€æ­Œæ›²çš„åŸºæœ¬å…ƒç´ "></a>äºŒã€æ­Œæ›²çš„åŸºæœ¬å…ƒç´ </h2><p>ä¸€é¦–å®Œæ•´çš„æ­Œæ›²é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒå…ƒç´ æ„æˆï¼š</p><h3 id="1-èŠ‚å¥å…ƒç´ "><a href="#1-èŠ‚å¥å…ƒç´ " class="headerlink" title="1. èŠ‚å¥å…ƒç´ "></a>1. èŠ‚å¥å…ƒç´ </h3><p>èŠ‚å¥å†³å®šäº†æ­Œæ›²çš„é€Ÿåº¦ä¸å¾‹åŠ¨ï¼Œå¾€å¾€ç”±é¼“ç»„æˆ–æ‰“å‡»ä¹å™¨æ¥ä½“ç°ã€‚å®ƒæ¡†å®šäº†æ•´é¦–æ­Œçš„â€œè„‰æâ€ã€‚</p><h3 id="2-å’Œå£°å…ƒç´ "><a href="#2-å’Œå£°å…ƒç´ " class="headerlink" title="2. å’Œå£°å…ƒç´ "></a>2. å’Œå£°å…ƒç´ </h3><p>å’Œå£°å†³å®šäº†æ­Œæ›²çš„éŸ³é«˜å±‚æ¬¡ã€‚åˆç†çš„å’Œå¼¦ç¼–æ’èƒ½è®©æ—‹å¾‹æ›´æœ‰å¼ åŠ›ã€‚ç¼–æ›²æ—¶å¸¸ç”¨çš„å°æŠ€å·§ï¼š</p><blockquote><p>åœ¨å’Œå¼¦åˆ‡æ¢æ—¶ï¼Œè®©æ ¹éŸ³ã€ä¸‰éŸ³ã€äº”éŸ³çš„ç§»åŠ¨å¹…åº¦å°½é‡å°ï¼Œå¯ä»¥è®©æ­Œæ›²æ›´é¡ºç•…å’Œè‡ªç„¶ã€‚</p></blockquote><h3 id="3-æ—‹å¾‹å…ƒç´ "><a href="#3-æ—‹å¾‹å…ƒç´ " class="headerlink" title="3. æ—‹å¾‹å…ƒç´ "></a>3. æ—‹å¾‹å…ƒç´ </h3><p>æ—‹å¾‹æ˜¯æ­Œæ›²çš„ä¸»ä½“ï¼Œä¹Ÿæ˜¯å¬ä¼—æœ€å®¹æ˜“è®°ä½çš„éƒ¨åˆ†ã€‚å®ƒé€šå¸¸ç”±ä¸»å”±æˆ–ä¸»ä¹å™¨æ‰¿æ‹…ã€‚</p><h3 id="4-ä½éŸ³å…ƒç´ "><a href="#4-ä½éŸ³å…ƒç´ " class="headerlink" title="4. ä½éŸ³å…ƒç´ "></a>4. ä½éŸ³å…ƒç´ </h3><p>ä½éŸ³å¢åŠ åšé‡æ„Ÿå’Œå±‚æ¬¡æ„Ÿï¼Œé€šå¸¸ç”± <strong>Bass</strong> æˆ–ä½é¢‘ä¹å™¨æ¥å®Œæˆã€‚</p><hr><h2 id="ä¸‰ã€æ­Œæ›²çš„åŸºæœ¬ç»“æ„"><a href="#ä¸‰ã€æ­Œæ›²çš„åŸºæœ¬ç»“æ„" class="headerlink" title="ä¸‰ã€æ­Œæ›²çš„åŸºæœ¬ç»“æ„"></a>ä¸‰ã€æ­Œæ›²çš„åŸºæœ¬ç»“æ„</h2><p>æµè¡Œæ­Œæ›²å¸¸è§çš„ç»“æ„ï¼š</p><blockquote><p>å‰å¥ â†’ ä¸»æ­Œ1 â†’ å‰¯æ­Œ1 â†’ é—´å¥ â†’ ä¸»æ­Œ2 â†’ å‰¯æ­Œ2 â†’ å°¾å¥</p></blockquote><p>æ ¸å¿ƒé€»è¾‘ï¼šæ­Œæ›²è¦æœ‰ <strong>å±‚æ¬¡æ„Ÿ</strong>ï¼Œåœ¨æ®µè½ä¹‹é—´è¦æœ‰é€‚å½“çš„å˜åŒ–ã€‚</p><h3 id="è®©æ­Œæ›²æ›´æœ‰å±‚æ¬¡æ„Ÿçš„æ–¹æ³•ï¼š"><a href="#è®©æ­Œæ›²æ›´æœ‰å±‚æ¬¡æ„Ÿçš„æ–¹æ³•ï¼š" class="headerlink" title="è®©æ­Œæ›²æ›´æœ‰å±‚æ¬¡æ„Ÿçš„æ–¹æ³•ï¼š"></a>è®©æ­Œæ›²æ›´æœ‰å±‚æ¬¡æ„Ÿçš„æ–¹æ³•ï¼š</h3><ol><li>åœ¨ä¸åŒæ®µè½å‡å°‘æˆ–æ”¹å˜ä¹å™¨é…ç½®ï¼›</li><li>ç›¸åŒçš„ä¹å™¨åœ¨ä¸åŒæ®µè½æ”¹å˜å†™ä½œæ–¹æ³•ï¼Œä¾‹å¦‚èŠ‚å¥ã€æ¼”å¥æ–¹å¼ã€‚</li></ol><h3 id="å‰å¥"><a href="#å‰å¥" class="headerlink" title="å‰å¥"></a>å‰å¥</h3><p>å‰å¥é€šå¸¸æƒ…ç»ªæ¯”è¾ƒå¹³ç¼“ï¼Œå¯ä»¥åªç”¨æ—‹å¾‹ä¹å™¨ï¼Œä¸å¿…åŠ å…¥ä½éŸ³æˆ–å¼ºçƒˆçš„èŠ‚å¥å…ƒç´ ï¼Œè®©æ­Œæ›²æœ‰é€æ­¥è¿›å…¥çš„æ„Ÿè§‰ã€‚</p><hr><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>ç¼–æ›²çš„æœ¬è´¨ï¼Œæ˜¯å¯¹æ­Œæ›²å…ƒç´ çš„ç»„åˆä¸å±‚æ¬¡å®‰æ’ã€‚åªè¦æŒæ¡äº†åŸºæœ¬ä¹ç†ï¼ˆéŸ³ç¨‹ã€å’Œå¼¦ã€è°ƒæ€§ï¼‰ï¼Œå¹¶ç†è§£èŠ‚å¥ã€å’Œå£°ã€æ—‹å¾‹ã€ä½éŸ³çš„ä½œç”¨ï¼Œå°±èƒ½å¼€å§‹å°è¯•ç®€å•çš„ç¼–æ›²ã€‚</p><blockquote><p>å°å»ºè®®ï¼šç¼–æ›²æ—¶ä¸è¦å®³æ€•å°è¯•ä¸åŒçš„å£°éŸ³ç»„åˆï¼Œå…ˆå‡†å¤‡å¥½ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ä¹æ®µï¼Œå†é€šè¿‡å¯¹æ¯”å’Œè¿‡æ¸¡ï¼Œé€æ­¥è®©ä½œå“æ‹¥æœ‰ç‹¬ç‰¹çš„å±‚æ¬¡æ„Ÿå’Œå®Œæ•´åº¦ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ç¼–æ›²åŸºç¡€å…¥é—¨&quot;&gt;&lt;a href=&quot;#ç¼–æ›²åŸºç¡€å…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;ç¼–æ›²åŸºç¡€å…¥é—¨&quot;&gt;&lt;/a&gt;ç¼–æ›²åŸºç¡€å…¥é—¨&lt;/h1&gt;&lt;p&gt;ç¼–æ›²ï¼ˆArrangementï¼‰æ˜¯éŸ³ä¹åˆ›ä½œä¸­çš„å…³é”®ç¯èŠ‚ï¼Œå®ƒä¸ä»…å†³å®šäº†æ­Œæ›²çš„æ•´ä½“é£æ ¼å’Œæ°›å›´ï¼Œè¿˜ç›´æ¥å½±å“å¬ä¼—çš„æ„Ÿå—</summary>
      
    
    
    
    <category term="è‰ºæœ¯" scheme="https://db-hanty.github.io/categories/%E8%89%BA%E6%9C%AF/"/>
    
    
    <category term="éŸ³ä¹" scheme="https://db-hanty.github.io/tags/%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹</title>
    <link href="https://db-hanty.github.io/posts/a8603297.html"/>
    <id>https://db-hanty.github.io/posts/a8603297.html</id>
    <published>2025-09-17T20:09:08.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹"><a href="#å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹" class="headerlink" title="å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹"></a>å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹</h1><h2 id="JSP-ä¸-JSTL"><a href="#JSP-ä¸-JSTL" class="headerlink" title="JSP ä¸ JSTL"></a>JSP ä¸ JSTL</h2><h3 id="JSPï¼ˆJava-Server-Pagesï¼‰"><a href="#JSPï¼ˆJava-Server-Pagesï¼‰" class="headerlink" title="JSPï¼ˆJava Server Pagesï¼‰"></a>JSPï¼ˆJava Server Pagesï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šJSP æ˜¯ä¸€ç§åŠ¨æ€ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼Œå…è®¸åœ¨ HTML ä¸­ç›´æ¥åµŒå…¥ Java ä»£ç ã€‚</li><li><strong>è¿è¡ŒåŸç†</strong>ï¼šJSP é¡µé¢åœ¨æœåŠ¡å™¨ç«¯ä¼šè¢« <strong>ç¼–è¯‘æˆ Servlet</strong>ï¼Œç„¶åç”±æœåŠ¡å™¨æ‰§è¡Œç”Ÿæˆæœ€ç»ˆçš„ HTML é¡µé¢è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šç®€åŒ–äº†åŠ¨æ€é¡µé¢å¼€å‘ï¼Œä¸å¿…åœ¨ Servlet ä¸­å†™å¤§é‡çš„ <code>out.println()</code>ã€‚</li></ul><h3 id="JSTLï¼ˆJava-Standard-Tag-Libraryï¼‰"><a href="#JSTLï¼ˆJava-Standard-Tag-Libraryï¼‰" class="headerlink" title="JSTLï¼ˆJava Standard Tag Libraryï¼‰"></a>JSTLï¼ˆJava Standard Tag Libraryï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šJSTL æ˜¯ JSP æ ‡å‡†æ ‡ç­¾åº“ï¼Œç”¨æ¥ä»£æ›¿ JSP é¡µé¢ä¸­å†—ä½™çš„ Java ä»£ç ã€‚</li><li><strong>ä½œç”¨</strong>ï¼š<ol><li>æä¾›æ ‡å‡†åŒ–æ ‡ç­¾ï¼Œç®€åŒ– JSP å¼€å‘ã€‚</li><li>ä½¿ JSP é¡µé¢æ›´æ¥è¿‘ HTMLï¼Œé™ä½å‰ç«¯äººå‘˜ç†è§£æˆæœ¬ã€‚</li></ol></li><li><strong>å¸¸ç”¨æ ‡ç­¾åº“</strong>ï¼š<ul><li>æ ¸å¿ƒæ ‡ç­¾åº“ï¼ˆé€»è¾‘åˆ¤æ–­ã€å¾ªç¯ï¼‰</li><li>æ ¼å¼åŒ–æ ‡ç­¾åº“ï¼ˆå›½é™…åŒ–ã€æœ¬åœ°åŒ–ï¼‰</li><li>SQL æ ‡ç­¾åº“ï¼ˆæ•°æ®åº“æ“ä½œï¼Œå®é™…å¼€å‘ä¸­å¾ˆå°‘ç”¨ï¼‰</li></ul></li></ul><hr><h2 id="ä¼šè¯ç®¡ç†ï¼ˆCookie-amp-Sessionï¼‰"><a href="#ä¼šè¯ç®¡ç†ï¼ˆCookie-amp-Sessionï¼‰" class="headerlink" title="ä¼šè¯ç®¡ç†ï¼ˆCookie&amp;Sessionï¼‰"></a>ä¼šè¯ç®¡ç†ï¼ˆCookie&amp;Sessionï¼‰</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>ä¼šè¯ç®¡ç†çš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š<strong>è®°å½•ç”¨æˆ·çŠ¶æ€å’Œäº¤äº’è¿‡ç¨‹</strong>ã€‚ç”±äº HTTP åè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œå› æ­¤éœ€è¦é¢å¤–æœºåˆ¶æ¥è·Ÿè¸ªç”¨æˆ·ã€‚</p><h3 id="å®ç°æ‰‹æ®µ"><a href="#å®ç°æ‰‹æ®µ" class="headerlink" title="å®ç°æ‰‹æ®µ"></a>å®ç°æ‰‹æ®µ</h3><div class="table-container"><table><thead><tr><th>æŠ€æœ¯</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>Cookie</strong></td><td>ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„å°å‹æ•°æ®æ–‡ä»¶ï¼Œé€šè¿‡å“åº”å¤´å†™å…¥æµè§ˆå™¨ã€‚</td></tr><tr><td><strong>Session</strong></td><td>ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ä¼šè¯å¯¹è±¡ï¼Œä¾èµ– Cookie ä¸­çš„ SessionID è¿›è¡Œè¯†åˆ«ã€‚</td></tr></tbody></table></div><blockquote><p>å®é™…å¼€å‘ä¸­ï¼Œå¸¸å¸¸ç»“åˆä½¿ç”¨ Cookie å’Œ Sessionã€‚</p></blockquote><hr><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ol><li><strong>åŸç†</strong>ï¼šæœåŠ¡å™¨é€šè¿‡ <code>Set-Cookie</code> å“åº”å¤´å‘Šè¯‰æµè§ˆå™¨ä¿å­˜æ•°æ®ï¼Œåç»­è¯·æ±‚ä¸­æµè§ˆå™¨ä¼šè‡ªåŠ¨æºå¸¦ Cookieã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>å­˜å‚¨å½¢å¼</strong>ï¼šé”®å€¼å¯¹ã€‚</li><li><strong>åˆ†ç±»</strong>ï¼š<ul><li><strong>ä¼šè¯çº§ Cookie</strong>ï¼šå­˜åœ¨äºæµè§ˆå™¨å†…å­˜ï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆã€‚</li><li><strong>æŒä¹…åŒ– Cookie</strong>ï¼šä¿å­˜åˆ°ç¡¬ç›˜ï¼Œç›´åˆ°è¿‡æœŸæ—¶é—´æ‰ä¼šå¤±æ•ˆã€‚</li></ul></li><li><strong>è·¯å¾„æ§åˆ¶</strong>ï¼šé€šè¿‡ <code>setPath</code> è®¾ç½® Cookie çš„ç”Ÿæ•ˆè·¯å¾„ã€‚</li></ol><hr><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ol><li><strong>åŸç†</strong>ï¼šæœåŠ¡å™¨åˆ›å»º HttpSession å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ SessionIDï¼Œé€šè¿‡ Cookieï¼ˆæˆ– URL é‡å†™ï¼‰åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>ä½œç”¨</strong>ï¼š<ul><li>ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚</li><li>è®°å½•ç”¨æˆ·çš„æ“ä½œå†å²ã€‚</li></ul></li><li><strong>é»˜è®¤æ—¶æ•ˆæ€§</strong>ï¼š30 åˆ†é’Ÿï¼ˆå¯åœ¨ <code>web.xml</code> ä¸­ä¿®æ”¹ï¼‰ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šå®‰å…¨æ€§é«˜ï¼Œæ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œä½†ä¼šå ç”¨æœåŠ¡å™¨å†…å­˜ã€‚</li></ol><hr><h2 id="ä¸‰å¤§åŸŸå¯¹è±¡"><a href="#ä¸‰å¤§åŸŸå¯¹è±¡" class="headerlink" title="ä¸‰å¤§åŸŸå¯¹è±¡"></a>ä¸‰å¤§åŸŸå¯¹è±¡</h2><p>åŸŸå¯¹è±¡æ˜¯ <strong>å­˜å‚¨å’Œä¼ é€’æ•°æ®</strong> çš„å®¹å™¨ï¼Œæ ¹æ®ä½œç”¨èŒƒå›´åˆ’åˆ†ï¼š</p><div class="table-container"><table><thead><tr><th>åŸŸå¯¹è±¡</th><th>ç±»å‹</th><th>èŒƒå›´</th></tr></thead><tbody><tr><td>è¯·æ±‚åŸŸ</td><td>HttpServletRequest</td><td>ä¸€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆï¼ˆåŒ…æ‹¬è¯·æ±‚è½¬å‘ï¼‰</td></tr><tr><td>ä¼šè¯åŸŸ</td><td>HttpSession</td><td>ä¸€æ¬¡ä¼šè¯èŒƒå›´å†…æœ‰æ•ˆï¼ˆå¤šä¸ªè¯·æ±‚ä¹‹é—´å…±äº«ï¼‰</td></tr><tr><td>åº”ç”¨åŸŸ</td><td>ServletContext</td><td>æ•´ä¸ªåº”ç”¨èŒƒå›´å†…æœ‰æ•ˆï¼ˆæ‰€æœ‰ç”¨æˆ·ã€æ‰€æœ‰è¯·æ±‚å…±äº«ï¼‰</td></tr></tbody></table></div><ul><li>è¯·æ±‚åŸŸï¼šé€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œå¦‚è¡¨å•æ ¡éªŒç»“æœã€‚</li><li>ä¼šè¯åŸŸï¼šé€‚åˆå­˜å‚¨ç”¨æˆ·çº§æ•°æ®ï¼Œå¦‚ç™»å½•ä¿¡æ¯ã€‚</li><li>åº”ç”¨åŸŸï¼šé€‚åˆå­˜å‚¨å…¨å±€é…ç½®æ•°æ®ï¼Œå¦‚ç½‘ç«™è®¿é—®ç»Ÿè®¡ã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B4FBF80C6-77AE-4d79-A4AA-E32DDD074FCE%7D.png" alt=""></li></ul><hr><h2 id="MVC-æ¶æ„æ¨¡å¼"><a href="#MVC-æ¶æ„æ¨¡å¼" class="headerlink" title="MVC æ¶æ„æ¨¡å¼"></a>MVC æ¶æ„æ¨¡å¼</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>MVCï¼ˆModel-View-Controllerï¼‰æ˜¯ä¸€ç§ç»å…¸çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå°†ç³»ç»Ÿåˆ†ä¸ºä¸‰å±‚ï¼Œåšåˆ° <strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼š</p><ul><li><strong>Mï¼ˆModel æ¨¡å‹å±‚ï¼‰</strong><ul><li>è´Ÿè´£ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®æ“ä½œã€‚</li><li>åŒ…å«å®ä½“ç±»ï¼ˆEntityï¼‰ã€æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆVO/DTOï¼‰ã€ä¸šåŠ¡å¤„ç†ç±»ï¼ˆServiceï¼‰ã€‚</li></ul></li><li><strong>Vï¼ˆView è§†å›¾å±‚ï¼‰</strong><ul><li>è´Ÿè´£ç•Œé¢å±•ç¤ºï¼Œä½¿ç”¨ HTMLã€CSSã€JSã€JSP ç­‰æŠ€æœ¯ã€‚</li><li>åœ¨å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œè§†å›¾å±‚ç‹¬ç«‹ä¸ºå‰ç«¯å·¥ç¨‹ã€‚</li></ul></li><li><strong>Cï¼ˆController æ§åˆ¶å±‚ï¼‰</strong><ul><li>æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè°ƒç”¨ä¸šåŠ¡é€»è¾‘ï¼Œè¿”å›ç»“æœã€‚</li><li>å…¸å‹å®ç°ï¼šServletã€SpringMVC æ§åˆ¶å™¨ã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC66DBBCF-19D1-4445-BA18-C8BE5261421D%7D.png" alt=""></li></ul></li></ul><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ol><li>é™ä½è€¦åˆåº¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§ã€‚</li><li>ç»“æ„æ¸…æ™°ï¼Œä¾¿äºåˆ†å·¥åä½œã€‚</li><li>ä¾¿äºå‡çº§åˆ°æ›´å¤æ‚çš„æ¡†æ¶ï¼ˆå¦‚ Springã€SpringMVCï¼‰ã€‚</li></ol><hr><h2 id="JavaWeb-æ€»ç»“ä¸å­¦ä¹ å»ºè®®"><a href="#JavaWeb-æ€»ç»“ä¸å­¦ä¹ å»ºè®®" class="headerlink" title="JavaWeb æ€»ç»“ä¸å­¦ä¹ å»ºè®®"></a>JavaWeb æ€»ç»“ä¸å­¦ä¹ å»ºè®®</h2><p>JavaWeb æ˜¯ <strong>Java å¼€å‘çš„å…¥é—¨æ¡†æ¶</strong>ï¼Œå…¶æ ¸å¿ƒæ˜¯æŒæ¡ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li><strong>åŸºç¡€æ¦‚å¿µ</strong>ï¼šServletã€JSPã€JSTLã€ä¸‰å¤§åŸŸå¯¹è±¡ã€‚</li><li><strong>ä¼šè¯ç®¡ç†</strong>ï¼šç†è§£ Cookie ä¸ Session çš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯ã€‚</li><li><strong>MVC æ¨¡å¼</strong>ï¼šæŒæ¡åˆ†å±‚æ€æƒ³ï¼Œä¸ºåç»­å­¦ä¹  SpringMVCã€Spring Boot æ‰“ä¸‹åŸºç¡€ã€‚</li><li><strong>é…ç½®æ–‡ä»¶</strong>ï¼šç†Ÿæ‚‰ XMLã€propertiesã€YAML ç­‰å¸¸è§é…ç½®æ–¹å¼ã€‚</li></ol><h3 id="å­¦ä¹ å»ºè®®"><a href="#å­¦ä¹ å»ºè®®" class="headerlink" title="å­¦ä¹ å»ºè®®"></a>å­¦ä¹ å»ºè®®</h3><ul><li><strong>å»ºè®®å¿«é€Ÿè¿‡ä¸€éå³å¯</strong>ï¼ŒæŒæ¡æ ¸å¿ƒæ€æƒ³å’ŒåŸºæœ¬ç”¨æ³•ã€‚</li><li>ä¸å¿…è¿‡åˆ†æ·±å…¥ JSPï¼Œå› ä¸ºç°åœ¨ä¸»æµé¡¹ç›®æ™®éé‡‡ç”¨ <strong>å‰åç«¯åˆ†ç¦»</strong>ï¼ŒJSP ä½¿ç”¨åœºæ™¯è¶Šæ¥è¶Šå°‘ã€‚</li><li><strong>é‡ç‚¹ç†è§£ Servletã€Sessionã€MVC</strong>ï¼Œè¿™äº›æ˜¯åç»­å­¦ä¹  Spring ç³»åˆ—æ¡†æ¶çš„åŸºçŸ³ã€‚</li><li>å»ºè®®åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ <strong>å†™ä¸€äº›å°é¡¹ç›®</strong>ï¼ˆå¦‚ç™»å½•ç³»ç»Ÿã€ç•™è¨€æ¿ï¼‰ï¼Œç”¨å®é™…æ¡ˆä¾‹åŠ æ·±ç†è§£ã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹&quot;&gt;&lt;a href=&quot;#å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹&quot;&gt;&lt;/a&gt;å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸‹&lt;/h1&gt;&lt;h2 id=&quot;JSP-ä¸-JSTL&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¼€å‘æ¡†æ¶" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘æ¡†æ¶ä¹‹JavaWebä¸Š</title>
    <link href="https://db-hanty.github.io/posts/df670201.html"/>
    <id>https://db-hanty.github.io/posts/df670201.html</id>
    <published>2025-09-17T19:46:09.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¼€å‘æ¡†æ¶ä¹‹-JavaWeb"><a href="#å¼€å‘æ¡†æ¶ä¹‹-JavaWeb" class="headerlink" title="å¼€å‘æ¡†æ¶ä¹‹ JavaWeb"></a>å¼€å‘æ¡†æ¶ä¹‹ JavaWeb</h1><p>JavaWeb æ˜¯åŸºäº Java æŠ€æœ¯å¼€å‘ Web åº”ç”¨çš„ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆã€‚å®ƒæ¶µç›–äº†ä»æ•°æ®äº¤æ¢æ ¼å¼åˆ°æœåŠ¡ç«¯ç»„ä»¶ï¼Œå†åˆ°è¯·æ±‚å¤„ç†å’Œäº‹ä»¶ç›‘å¬çš„ä¸€ç³»åˆ—æ ¸å¿ƒçŸ¥è¯†ã€‚æœ¬æ–‡å°†ç»“åˆå¸¸è§çš„å¼€å‘è¦ç‚¹ï¼Œå¯¹ JavaWeb çš„ä¸»è¦æŠ€æœ¯è¿›è¡Œæ¢³ç†ã€‚</p><hr><h2 id="ä¸€ã€XML"><a href="#ä¸€ã€XML" class="headerlink" title="ä¸€ã€XML"></a>ä¸€ã€XML</h2><p>ğŸ’¡ <strong>ä»‹ç»</strong>ï¼šXMLï¼ˆeXtensible Markup Languageï¼Œå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ã€‚<br><strong>ä¸»è¦ç”¨é€”</strong>ï¼šå¸¸ç”¨äºé…ç½®æ–‡ä»¶ã€‚</p><h3 id="å¸¸è§çš„é…ç½®æ–‡ä»¶ç±»å‹"><a href="#å¸¸è§çš„é…ç½®æ–‡ä»¶ç±»å‹" class="headerlink" title="å¸¸è§çš„é…ç½®æ–‡ä»¶ç±»å‹"></a>å¸¸è§çš„é…ç½®æ–‡ä»¶ç±»å‹</h3><ol><li><strong>properties æ–‡ä»¶</strong>ï¼šå¦‚ Druid æ•°æ®åº“è¿æ¥æ± çš„é…ç½®ã€‚  </li><li><strong>XML æ–‡ä»¶</strong>ï¼šå¦‚ Tomcat çš„é…ç½®æ–‡ä»¶ã€‚  </li><li><strong>YAML æ–‡ä»¶</strong>ï¼šå¦‚ SpringBoot çš„é…ç½®æ–‡ä»¶ã€‚  </li><li><strong>JSON æ–‡ä»¶</strong>ï¼šé€šå¸¸ç”¨æ¥åšæ•°æ®ä¼ è¾“ã€‚</li></ol><h3 id="XML-åŸºæœ¬æ ¼å¼"><a href="#XML-åŸºæœ¬æ ¼å¼" class="headerlink" title="XML åŸºæœ¬æ ¼å¼"></a>XML åŸºæœ¬æ ¼å¼</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dev</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>root<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dev</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ol><li>æ ¹æ ‡ç­¾åªæœ‰ä¸€ä¸ªã€‚  </li><li>ç¬¬ä¸€è¡Œå¿…é¡»æ˜¯ <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</code>ã€‚  </li><li>XML çº¦æŸï¼ˆDTD/Schemaï¼‰ç”¨äºé™å®š XML å†…å®¹èƒ½ç¼–å†™çš„ç»“æ„å’Œå†…å®¹ã€‚</li></ol><hr><h2 id="äºŒã€JSON"><a href="#äºŒã€JSON" class="headerlink" title="äºŒã€JSON"></a>äºŒã€JSON</h2><p>ğŸ’¡ <strong>ä»‹ç»</strong>ï¼šJSONï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚<br>ç‰¹ç‚¹ï¼šå¯è¯»æ€§å¼ºï¼Œæ ¼å¼ç®€å•ï¼Œå¹¿æ³›ç”¨äºå‰åç«¯æ•°æ®äº¤äº’ã€‚</p><p><strong>ç¤ºæ„å›¾ï¼š</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BA3040115-05FE-4e6f-A220-8CE218CC3805%7D.png" alt=""></p><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;root&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€Servlet"><a href="#ä¸‰ã€Servlet" class="headerlink" title="ä¸‰ã€Servlet"></a>ä¸‰ã€Servlet</h2><h3 id="1-åŠ¨æ€èµ„æºä¸é™æ€èµ„æº"><a href="#1-åŠ¨æ€èµ„æºä¸é™æ€èµ„æº" class="headerlink" title="1. åŠ¨æ€èµ„æºä¸é™æ€èµ„æº"></a>1. åŠ¨æ€èµ„æºä¸é™æ€èµ„æº</h3><ul><li><p><strong>é™æ€èµ„æº</strong>ï¼šæ— éœ€è¿è¡Œæ—¶é€šè¿‡ä»£ç ç”Ÿæˆçš„èµ„æºï¼Œä¾‹å¦‚ HTMLã€CSSã€JSã€å›¾ç‰‡ã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B7F89A94D-1396-4289-92EC-DD3CE3EDC489%7D.png" alt=""></p></li><li><p><strong>åŠ¨æ€èµ„æº</strong>ï¼šè¿è¡Œæ—¶é€šè¿‡ä»£ç ç”Ÿæˆçš„èµ„æºï¼Œä¾‹å¦‚ Servletã€‚<br><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC92EA9AA-C926-4ad2-ABF7-36DE2C4E0A27%7D.png" alt=""></p><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œçš„â€œåŠ¨æ€â€å¹¶ä¸æ˜¯æŒ‡å‰ç«¯åŠ¨ç”»æˆ–äº¤äº’æ•ˆæœï¼Œè€Œæ˜¯åç«¯ç”Ÿæˆå†…å®¹çš„è¿‡ç¨‹ã€‚</p></blockquote></li></ul><h3 id="2-Servlet-ç®€ä»‹"><a href="#2-Servlet-ç®€ä»‹" class="headerlink" title="2. Servlet ç®€ä»‹"></a>2. Servlet ç®€ä»‹</h3><ul><li>Servlet æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ Java å°ç¨‹åºã€‚  </li><li>ä»ä»£ç å±‚é¢çœ‹ï¼ŒServlet æ˜¯ä¸€ä¸ªæ¥å£ï¼Œéœ€è¦ç”±å¼€å‘è€…å®ç°ã€‚</li></ul><h3 id="3-Servlet-å¼€å‘æµç¨‹"><a href="#3-Servlet-å¼€å‘æµç¨‹" class="headerlink" title="3. Servlet å¼€å‘æµç¨‹"></a>3. Servlet å¼€å‘æµç¨‹</h3><ol><li>åˆ›å»º JavaWeb é¡¹ç›®ï¼Œå°† Tomcat æ·»åŠ åˆ°ä¾èµ–ã€‚  </li><li>ç¼–å†™ Servlet ç±»ï¼Œé‡å†™ <code>service</code> æ–¹æ³•ï¼š  <ul><li>ä» <code>request</code> å¯¹è±¡ä¸­è·å–è¯·æ±‚ä¿¡æ¯ã€‚  </li><li>ç¼–å†™ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚  </li><li>å°†å“åº”æ•°æ®æ”¾å…¥ <code>response</code> å¯¹è±¡ã€‚  </li><li>åœ¨è¿”å›æ•°æ®å‰è®¾ç½®å“åº”å¤´ï¼ˆContent-Typeï¼‰ã€‚  </li></ul></li></ol><h3 id="4-åœ¨-web-xml-ä¸­é…ç½®-Servlet"><a href="#4-åœ¨-web-xml-ä¸­é…ç½®-Servlet" class="headerlink" title="4. åœ¨ web.xml ä¸­é…ç½® Servlet"></a>4. åœ¨ web.xml ä¸­é…ç½® Servlet</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.demo.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>servlet-class</strong>ï¼šå‘Šè¯‰ Tomcat è¦å®ä¾‹åŒ–çš„ Servletã€‚  </li><li><strong>url-pattern</strong>ï¼šé…ç½®è¯·æ±‚çš„æ˜ å°„è·¯å¾„ã€‚  </li></ul><h3 id="5-å¸¸è§é—®é¢˜"><a href="#5-å¸¸è§é—®é¢˜" class="headerlink" title="5. å¸¸è§é—®é¢˜"></a>5. å¸¸è§é—®é¢˜</h3><ul><li><strong>Content-Type</strong>ï¼šé™æ€èµ„æºç”± Tomcat è‡ªåŠ¨é…ç½®ï¼›åŠ¨æ€èµ„æºéœ€æ‰‹åŠ¨è®¾ç½®ã€‚  </li><li><strong>url-pattern</strong>ï¼š  <ul><li>ç²¾å‡†åŒ¹é…ï¼šå¦‚ <code>/Servlet01</code>ã€‚  </li><li>æ¨¡ç³ŠåŒ¹é…ï¼šå¦‚ <code>/*</code>ï¼ˆäº†è§£å³å¯ï¼‰ã€‚  </li></ul></li></ul><h3 id="6-æ³¨è§£æ–¹å¼é…ç½®-Servlet"><a href="#6-æ³¨è§£æ–¹å¼é…ç½®-Servlet" class="headerlink" title="6. æ³¨è§£æ–¹å¼é…ç½® Servlet"></a>6. æ³¨è§£æ–¹å¼é…ç½® Servlet</h3><p>ä½¿ç”¨ <code>@WebServlet</code> ç®€åŒ–é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;Hello, JavaWeb!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-Servlet-ç”Ÿå‘½å‘¨æœŸ"><a href="#7-Servlet-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="7. Servlet ç”Ÿå‘½å‘¨æœŸ"></a>7. Servlet ç”Ÿå‘½å‘¨æœŸ</h3><ol><li><strong>å®ä¾‹åŒ–</strong>ï¼šè°ƒç”¨æ„é€ æ–¹æ³•ã€‚  </li><li><strong>åˆå§‹åŒ–</strong>ï¼šè°ƒç”¨ <code>init()</code> æ–¹æ³•ã€‚  </li><li><strong>å¤„ç†è¯·æ±‚</strong>ï¼šè°ƒç”¨ <code>service()</code> æ–¹æ³•ã€‚  </li><li><strong>é”€æ¯</strong>ï¼šè°ƒç”¨ <code>destroy()</code> æ–¹æ³•ã€‚  </li></ol><h3 id="8-å¸¸ç”¨-API"><a href="#8-å¸¸ç”¨-API" class="headerlink" title="8. å¸¸ç”¨ API"></a>8. å¸¸ç”¨ API</h3><ul><li><strong>ServletConfig</strong>ï¼šä¸ºæŸä¸ª Servlet æä¾›é…ç½®å‚æ•°ï¼ˆå¤šä¾‹ï¼‰ã€‚  </li><li><strong>ServletContext</strong>ï¼š  <ol><li>ä¸ºæ‰€æœ‰ Servlet æä¾›å…±äº«çš„é…ç½®å‚æ•°ï¼ˆå•ä¾‹ï¼‰ã€‚  </li><li>è·å–æ–‡ä»¶è·¯å¾„å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚  </li><li>ä½œä¸ºåŸŸå¯¹è±¡å­˜å–æ•°æ®ã€‚  </li></ol></li></ul><h3 id="9-HttpServletRequest"><a href="#9-HttpServletRequest" class="headerlink" title="9. HttpServletRequest"></a>9. HttpServletRequest</h3><ul><li>ç”± Tomcat å°†è¯·æ±‚æŠ¥æ–‡è½¬æ¢å¹¶å°è£…è€Œæ¥ã€‚  </li><li>ä»£è¡¨å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚ï¼Œæ‰€æœ‰è¯·æ±‚ä¿¡æ¯éƒ½å¯é€šè¿‡è¯¥å¯¹è±¡è·å¾—ã€‚  </li></ul><p><strong>ç¤ºæ„å›¾</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BEA57A048-04B0-4f93-9FA6-4FB179B21CC5%7D.png" alt=""></p><h3 id="10-HttpServletResponse"><a href="#10-HttpServletResponse" class="headerlink" title="10. HttpServletResponse"></a>10. HttpServletResponse</h3><ul><li>ç”± Tomcat å°†å“åº”æŠ¥æ–‡è½¬æ¢å¹¶å°è£…è€Œæ¥ã€‚  </li><li>ä»£è¡¨æœåŠ¡ç«¯å‘å‡ºçš„å“åº”ï¼Œå¯è®¾ç½®å“åº”å¤´ã€å“åº”ä½“ç­‰ä¿¡æ¯ã€‚  </li></ul><hr><h2 id="å››ã€Filterï¼ˆè¿‡æ»¤å™¨ï¼‰"><a href="#å››ã€Filterï¼ˆè¿‡æ»¤å™¨ï¼‰" class="headerlink" title="å››ã€Filterï¼ˆè¿‡æ»¤å™¨ï¼‰"></a>å››ã€Filterï¼ˆè¿‡æ»¤å™¨ï¼‰</h2><h3 id="1-ä½œç”¨"><a href="#1-ä½œç”¨" class="headerlink" title="1. ä½œç”¨"></a>1. ä½œç”¨</h3><ul><li>åœ¨ Servlet æ‰§è¡Œå‰åï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œæ‹¦æˆªå’Œå¤„ç†ã€‚  </li><li>å¸¸è§åº”ç”¨åœºæ™¯ï¼šæƒé™æ ¡éªŒã€ç¼–ç è®¾ç½®ã€æ—¥å¿—è®°å½•ç­‰ã€‚  </li></ul><h3 id="2-ç”Ÿå‘½å‘¨æœŸ"><a href="#2-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2. ç”Ÿå‘½å‘¨æœŸ"></a>2. ç”Ÿå‘½å‘¨æœŸ</h3><p>ä¸ Servlet ç±»ä¼¼ï¼Œä½†æ²¡æœ‰ <code>load-on-startup</code>ã€‚</p><h3 id="3-è¿‡æ»¤å™¨é“¾"><a href="#3-è¿‡æ»¤å™¨é“¾" class="headerlink" title="3. è¿‡æ»¤å™¨é“¾"></a>3. è¿‡æ»¤å™¨é“¾</h3><ul><li>å¤šä¸ªè¿‡æ»¤å™¨å¯ä¾æ¬¡å¯¹åŒä¸€èµ„æºè¿›è¡Œè¿‡æ»¤ã€‚  </li><li>é¡ºåºç”± <code>filter-mapping</code> é…ç½®å†³å®šã€‚  </li><li>ä½¿ç”¨ Servlet name è¿›è¡ŒåŒ¹é…æ—¶ï¼Œä¼˜å…ˆçº§è¾ƒä½ã€‚  </li></ul><p><strong>ç¤ºæ„ï¼š</strong></p><p>å®¢æˆ·ç«¯è¯·æ±‚ â†’ Filter1 â†’ Filter2 â†’ Servlet â†’ Filter2 â†’ Filter1 â†’ å“åº”è¿”å›å®¢æˆ·ç«¯  </p><h3 id="4-æ³¨è§£æ–¹å¼é…ç½®"><a href="#4-æ³¨è§£æ–¹å¼é…ç½®" class="headerlink" title="4. æ³¨è§£æ–¹å¼é…ç½®"></a>4. æ³¨è§£æ–¹å¼é…ç½®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(filterName=&quot;logFilter&quot;, urlPatterns=&quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">        <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·æ±‚å¼€å§‹...&quot;</span>);</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">        System.out.println(<span class="string">&quot;å“åº”ç»“æŸ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€Listenerï¼ˆç›‘å¬å™¨ï¼‰"><a href="#äº”ã€Listenerï¼ˆç›‘å¬å™¨ï¼‰" class="headerlink" title="äº”ã€Listenerï¼ˆç›‘å¬å™¨ï¼‰"></a>äº”ã€Listenerï¼ˆç›‘å¬å™¨ï¼‰</h2><h3 id="1-æ¦‚å¿µ"><a href="#1-æ¦‚å¿µ" class="headerlink" title="1. æ¦‚å¿µ"></a>1. æ¦‚å¿µ</h3><p>ç›‘å¬å™¨ç±»ä¼¼äº JavaScript ä¸­çš„äº‹ä»¶ç›‘å¬å™¨ã€‚<br>ğŸ’¡ <strong>ä½œç”¨</strong>ï¼šç”¨äºç›‘å¬åŸŸå¯¹è±¡ï¼ˆApplicationã€Sessionã€Requestï¼‰èº«ä¸Šå‘ç”Ÿçš„äº‹ä»¶æˆ–çŠ¶æ€å˜åŒ–ï¼Œå¹¶ä½œå‡ºå“åº”ã€‚</p><h3 id="2-åˆ†ç±»"><a href="#2-åˆ†ç±»" class="headerlink" title="2. åˆ†ç±»"></a>2. åˆ†ç±»</h3><ul><li><strong>Application ç›‘å¬å™¨</strong>ï¼šç›‘å¬åº”ç”¨ä¸Šä¸‹æ–‡çš„åˆ›å»ºå’Œé”€æ¯ã€‚  </li><li><strong>Session ç›‘å¬å™¨</strong>ï¼šç›‘å¬ Session çš„åˆ›å»ºã€é”€æ¯ä»¥åŠå±æ€§å˜åŒ–ã€‚  </li><li><strong>Request ç›‘å¬å™¨</strong>ï¼šç›‘å¬è¯·æ±‚å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚  </li></ul><h3 id="3-é’åŒ–ä¸æ´»åŒ–ç›‘å¬å™¨"><a href="#3-é’åŒ–ä¸æ´»åŒ–ç›‘å¬å™¨" class="headerlink" title="3. é’åŒ–ä¸æ´»åŒ–ç›‘å¬å™¨"></a>3. é’åŒ–ä¸æ´»åŒ–ç›‘å¬å™¨</h3><ul><li><strong>é’åŒ–</strong>ï¼šæœåŠ¡å™¨å…³é—­æ—¶ï¼Œå°† Session å¯¹è±¡åºåˆ—åŒ–ä¿å­˜åˆ°ç£ç›˜ã€‚  </li><li><strong>æ´»åŒ–</strong>ï¼šæœåŠ¡å™¨é‡å¯æˆ–å†æ¬¡è·å– Session æ—¶ï¼Œä»ç£ç›˜ååºåˆ—åŒ–æ¢å¤åˆ°å†…å­˜ã€‚  </li></ul><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JavaWeb æ˜¯ Java å¼€å‘ Web åº”ç”¨çš„åŸºç¡€ï¼ŒæŒæ¡å…¶æ ¸å¿ƒç»„ä»¶ï¼ˆServletã€Filterã€Listenerï¼‰ï¼Œç†è§£è¯·æ±‚ä¸å“åº”çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯¹åç»­å­¦ä¹  Spring MVCã€Spring Boot ç­‰æ¡†æ¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚<br>éšç€ç°ä»£æ¡†æ¶çš„æ™®åŠï¼ŒServlet ç­‰æŠ€æœ¯é€æ¸éšè—åœ¨æ›´é«˜å±‚çš„æ¡†æ¶ä¹‹ä¸‹ï¼Œä½†ç†è§£å…¶æœ¬è´¨ä»ç„¶æ˜¯æ¯ä¸€ä½ Java å¼€å‘è€…çš„å¿…ä¿®è¯¾ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¼€å‘æ¡†æ¶ä¹‹-JavaWeb&quot;&gt;&lt;a href=&quot;#å¼€å‘æ¡†æ¶ä¹‹-JavaWeb&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘æ¡†æ¶ä¹‹ JavaWeb&quot;&gt;&lt;/a&gt;å¼€å‘æ¡†æ¶ä¹‹ JavaWeb&lt;/h1&gt;&lt;p&gt;JavaWeb æ˜¯åŸºäº Java æŠ€æœ¯å¼€å‘ Web </summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å¼€å‘æ¡†æ¶" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®</title>
    <link href="https://db-hanty.github.io/posts/6efdc0e0.html"/>
    <id>https://db-hanty.github.io/posts/6efdc0e0.html</id>
    <published>2025-09-10T19:29:48.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®"><a href="#ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®" class="headerlink" title="ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®"></a>ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®</h1><p>Githubç½‘å€ï¼š<a href="https://github.com/">text</a></p><h2 id="ä¸€ã€åˆ›å»ºGitHubä»“åº“"><a href="#ä¸€ã€åˆ›å»ºGitHubä»“åº“" class="headerlink" title="ä¸€ã€åˆ›å»ºGitHubä»“åº“"></a>ä¸€ã€åˆ›å»ºGitHubä»“åº“</h2><p>ç‚¹å‡»åˆ›å»º<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193318.png" alt=""></p><p>åˆ›å»ºä»“åº“ç•Œé¢<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193751.png" alt=""></p><h2 id="äºŒã€æ‰“å¼€é¡¹ç›®ç»ˆç«¯æˆ–è€…é€šè¿‡git-bashæ‰“å¼€é¡¹ç›®"><a href="#äºŒã€æ‰“å¼€é¡¹ç›®ç»ˆç«¯æˆ–è€…é€šè¿‡git-bashæ‰“å¼€é¡¹ç›®" class="headerlink" title="äºŒã€æ‰“å¼€é¡¹ç›®ç»ˆç«¯æˆ–è€…é€šè¿‡git bashæ‰“å¼€é¡¹ç›®"></a>äºŒã€æ‰“å¼€é¡¹ç›®ç»ˆç«¯æˆ–è€…é€šè¿‡git bashæ‰“å¼€é¡¹ç›®</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194017.png" alt=""></p><h2 id="ä¸‰ã€åˆ›å»ºgitä»“åº“"><a href="#ä¸‰ã€åˆ›å»ºgitä»“åº“" class="headerlink" title="ä¸‰ã€åˆ›å»ºgitä»“åº“"></a>ä¸‰ã€åˆ›å»ºgitä»“åº“</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h2 id="å››ã€å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­"><a href="#å››ã€å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­" class="headerlink" title="å››ã€å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­"></a>å››ã€å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><h2 id="äº”ã€æäº¤æ‰€æœ‰æ–‡ä»¶åˆ°ä»“åº“ä¸­"><a href="#äº”ã€æäº¤æ‰€æœ‰æ–‡ä»¶åˆ°ä»“åº“ä¸­" class="headerlink" title="äº”ã€æäº¤æ‰€æœ‰æ–‡ä»¶åˆ°ä»“åº“ä¸­"></a>äº”ã€æäº¤æ‰€æœ‰æ–‡ä»¶åˆ°ä»“åº“ä¸­</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;commit&quot;</span></span><br></pre></td></tr></table></figure><h2 id="å…­ã€å°†ä»“åº“ä¸GitHubä»“åº“å…³è”"><a href="#å…­ã€å°†ä»“åº“ä¸GitHubä»“åº“å…³è”" class="headerlink" title="å…­ã€å°†ä»“åº“ä¸GitHubä»“åº“å…³è”"></a>å…­ã€å°†ä»“åº“ä¸GitHubä»“åº“å…³è”</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin + ssh</span><br></pre></td></tr></table></figure><p>âš ï¸<code>ssh</code>ä¸ºGitHubä»“åº“çš„sshåœ°å€</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194714.png" alt=""></p><h2 id="ä¸ƒã€å°†ä»“åº“æ¨é€åˆ°GitHubä»“åº“ä¸­"><a href="#ä¸ƒã€å°†ä»“åº“æ¨é€åˆ°GitHubä»“åº“ä¸­" class="headerlink" title="ä¸ƒã€å°†ä»“åº“æ¨é€åˆ°GitHubä»“åº“ä¸­"></a>ä¸ƒã€å°†ä»“åº“æ¨é€åˆ°GitHubä»“åº“ä¸­</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>âš ï¸æ³¨æ„æ–‡ä»¶å¤¹å¿…é¡»æœ‰æ–‡ä»¶å¦åˆ™ä¼šæŠ¥é”™<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: failed to push some refs to <span class="string">&#x27;github.com:DB-HanTy/demo01.git&#x27;</span></span><br></pre></td></tr></table></figure><br>âš ï¸æ¨é€åˆ°masteråˆ†æ”¯</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20195301.png" alt=""></p><h1 id="æ­å–œï¼Œé¡¹ç›®å·²æˆåŠŸéƒ¨ç½²åˆ°GitHubä»“åº“ä¸­ï¼"><a href="#æ­å–œï¼Œé¡¹ç›®å·²æˆåŠŸéƒ¨ç½²åˆ°GitHubä»“åº“ä¸­ï¼" class="headerlink" title="æ­å–œï¼Œé¡¹ç›®å·²æˆåŠŸéƒ¨ç½²åˆ°GitHubä»“åº“ä¸­ï¼"></a>æ­å–œï¼Œé¡¹ç›®å·²æˆåŠŸéƒ¨ç½²åˆ°GitHubä»“åº“ä¸­ï¼</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®&quot;&gt;&lt;/a&gt;ä½¿ç”¨gitåœ¨GitHubä¸Šå¿«é€Ÿéƒ¨ç½²é¡¹ç›®&lt;/h1&gt;&lt;p&gt;Gi</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="å·¥å…·" scheme="https://db-hanty.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å¤–è§‚æ¨¡å¼</title>
    <link href="https://db-hanty.github.io/posts/f7de8aa8.html"/>
    <id>https://db-hanty.github.io/posts/f7de8aa8.html</id>
    <published>2025-09-08T20:38:06.000Z</published>
    <updated>2025-12-18T12:59:28.707Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰"><a href="#å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰" class="headerlink" title="å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰"></a>å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</h1><p>åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ<strong>å¤–è§‚æ¨¡å¼</strong>ï¼ˆFacade Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ã€‚å®ƒä¸ºå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¬¡æ¥å£ï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯çš„ä½¿ç”¨æ–¹å¼ï¼Œå¹¶éšè—äº†ç³»ç»Ÿçš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚</p><hr><h2 id="æ¨¡å¼çš„ä½œç”¨"><a href="#æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="æ¨¡å¼çš„ä½œç”¨"></a>æ¨¡å¼çš„ä½œç”¨</h2><blockquote><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šé€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ä¸å­ç³»ç»Ÿäº¤äº’ï¼Œé™ä½å®¢æˆ·ç«¯çš„å¤æ‚æ€§ï¼Œä½¿å¾—ç³»ç»Ÿæ›´æ˜“äºä½¿ç”¨ã€‚</p></blockquote><hr><h2 id="è§£å†³çš„é—®é¢˜"><a href="#è§£å†³çš„é—®é¢˜" class="headerlink" title="è§£å†³çš„é—®é¢˜"></a>è§£å†³çš„é—®é¢˜</h2><p>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå­ç³»ç»Ÿå¯èƒ½åŒ…å«å¤šä¸ªå¤æ‚çš„æ¨¡å—å’Œæ¥å£ï¼Œå®¢æˆ·ç«¯å¦‚æœç›´æ¥ä¸è¿™äº›æ¨¡å—äº¤äº’ï¼Œä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š  </p><ul><li>å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿé«˜åº¦è€¦åˆã€‚  </li><li>å®¢æˆ·ç«¯ä»£ç å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚  </li></ul><p>å¤–è§‚æ¨¡å¼é€šè¿‡å¼•å…¥ä¸€ä¸ªå¤–è§‚ç±»ï¼ˆFacadeï¼‰ï¼Œå°†å¤æ‚çš„å­ç³»ç»Ÿè°ƒç”¨è¿›è¡Œå°è£…ï¼Œå‘å¤–éƒ¨æš´éœ²ç®€å•çš„æ¥å£ï¼Œä»è€Œè§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p><hr><h2 id="ä¼˜ç¼ºç‚¹åˆ†æ"><a href="#ä¼˜ç¼ºç‚¹åˆ†æ" class="headerlink" title="ä¼˜ç¼ºç‚¹åˆ†æ"></a>ä¼˜ç¼ºç‚¹åˆ†æ</h2><h3 id="âœ…-ä¼˜ç‚¹"><a href="#âœ…-ä¼˜ç‚¹" class="headerlink" title="âœ… ä¼˜ç‚¹"></a>âœ… ä¼˜ç‚¹</h3><ol><li><strong>å‡å°‘ä¾èµ–</strong>ï¼šå®¢æˆ·ç«¯åªä¾èµ–å¤–è§‚ç±»ï¼Œé™ä½äº†ä¸å­ç³»ç»Ÿçš„è€¦åˆã€‚  </li><li><strong>æé«˜çµæ´»æ€§</strong>ï¼šå­ç³»ç»Ÿå†…éƒ¨å˜åŒ–ä¸ä¼šå½±å“å®¢æˆ·ç«¯ã€‚  </li><li><strong>å¢å¼ºå®‰å…¨æ€§</strong>ï¼šå¯¹å¤–éšè—äº†å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œåªæä¾›å¿…è¦çš„æ¥å£ã€‚  </li></ol><h3 id="âš ï¸-ç¼ºç‚¹"><a href="#âš ï¸-ç¼ºç‚¹" class="headerlink" title="âš ï¸ ç¼ºç‚¹"></a>âš ï¸ ç¼ºç‚¹</h3><ul><li><strong>è¿åå¼€é—­åŸåˆ™</strong>ï¼šå½“å­ç³»ç»Ÿéœ€è¦ä¿®æ”¹æ—¶ï¼Œå¯èƒ½éœ€è¦åŒæ—¶ä¿®æ”¹å¤–è§‚ç±»ï¼Œé™ä½äº†æ‰©å±•æ€§ã€‚  </li></ul><hr><h2 id="UML-ç¤ºæ„å›¾"><a href="#UML-ç¤ºæ„å›¾" class="headerlink" title="UML ç¤ºæ„å›¾"></a>UML ç¤ºæ„å›¾</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>ä¸‹é¢ç”¨ Java æ¼”ç¤ºå¤–è§‚æ¨¡å¼çš„å®ç°ã€‚</p><h3 id="æ¥å£åŠå…¶å®ç°ç±»"><a href="#æ¥å£åŠå…¶å®ç°ç±»" class="headerlink" title="æ¥å£åŠå…¶å®ç°ç±»"></a>æ¥å£åŠå…¶å®ç°ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Rectangle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Square::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Circle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤–è§‚ç±»"><a href="#å¤–è§‚ç±»" class="headerlink" title="å¤–è§‚ç±»"></a>å¤–è§‚ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeMaker</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> Shape circle;</span><br><span class="line">   <span class="keyword">private</span> Shape rectangle;</span><br><span class="line">   <span class="keyword">private</span> Shape square;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ShapeMaker</span><span class="params">()</span> &#123;</span><br><span class="line">      circle = <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">      rectangle = <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line">      square = <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawCircle</span><span class="params">()</span>&#123;</span><br><span class="line">      circle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawRectangle</span><span class="params">()</span>&#123;</span><br><span class="line">      rectangle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawSquare</span><span class="params">()</span>&#123;</span><br><span class="line">      square.draw();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FacadePatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ShapeMaker</span> <span class="variable">shapeMaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShapeMaker</span>();</span><br><span class="line"> </span><br><span class="line">      shapeMaker.drawCircle();</span><br><span class="line">      shapeMaker.drawRectangle();</span><br><span class="line">      shapeMaker.drawSquare();      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœ"><a href="#è¾“å‡ºç»“æœ" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Circle::draw()</span><br><span class="line">Rectangle::draw()</span><br><span class="line">Square::draw()</span><br></pre></td></tr></table></figure><hr><h2 id="å®é™…åº”ç”¨å®ä¾‹"><a href="#å®é™…åº”ç”¨å®ä¾‹" class="headerlink" title="å®é™…åº”ç”¨å®ä¾‹"></a>å®é™…åº”ç”¨å®ä¾‹</h2><ul><li><strong>Java ä¸‰å±‚æ¶æ„</strong>ï¼šåœ¨è¡¨ç¤ºå±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®è®¿é—®å±‚ä¹‹é—´ï¼Œé€šè¿‡å¤–è§‚æ¨¡å¼æä¾›ç»Ÿä¸€æ¥å£ï¼Œç®€åŒ–å„å±‚çš„è®¿é—®ã€‚  </li><li><strong>å›¾å½¢åº“</strong>ï¼šé€šè¿‡å¤–è§‚ç±»å°è£…å¤šä¸ªå›¾å½¢å¯¹è±¡çš„ç»˜åˆ¶æ¥å£ï¼Œå®¢æˆ·ç«¯åªéœ€è°ƒç”¨å¤–è§‚ç±»å³å¯æ“ä½œå¤æ‚å›¾å½¢ç³»ç»Ÿã€‚  </li></ul><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¤–è§‚æ¨¡å¼çš„æœ¬è´¨æ˜¯ <strong>ä¸ºå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£</strong>ï¼š  </p><ul><li>é€‚ç”¨äºéœ€è¦ç®€åŒ–å®¢æˆ·ç«¯è°ƒç”¨çš„åœºæ™¯ã€‚  </li><li>é€šè¿‡è§£è€¦é™ä½äº†ç³»ç»Ÿå¤æ‚æ€§ã€‚  </li><li>ä½†åœ¨æ‰©å±•æ€§ä¸Šéœ€è¦æƒè¡¡ï¼Œå› ä¸ºå¤–è§‚ç±»çš„ä¿®æ”¹å¯èƒ½æ¶‰åŠå­ç³»ç»Ÿçš„è°ƒæ•´ã€‚  </li></ul><p>åˆç†ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œèƒ½è®©ç³»ç»Ÿåœ¨ä¿æŒçµæ´»æ€§çš„åŒæ—¶ï¼Œæé«˜å¯ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰&quot;&gt;&lt;a href=&quot;#å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰&quot;&gt;&lt;/a&gt;å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>è§‚å¯Ÿè€…æ¨¡å¼</title>
    <link href="https://db-hanty.github.io/posts/9a246216.html"/>
    <id>https://db-hanty.github.io/posts/9a246216.html</id>
    <published>2025-09-08T20:20:46.000Z</published>
    <updated>2025-12-18T12:59:28.708Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰"><a href="#è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰"></a>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</h1><p>åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼ˆObserver Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ã€‚å®ƒå®šä¹‰äº†ä¸€ç§å¯¹è±¡é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸»é¢˜/è¢«è§‚å¯Ÿè€…ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…ï¼‰éƒ½ä¼šè‡ªåŠ¨æ”¶åˆ°é€šçŸ¥å¹¶æ›´æ–°ã€‚</p><hr><h2 id="æ¨¡å¼çš„ä½œç”¨"><a href="#æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="æ¨¡å¼çš„ä½œç”¨"></a>æ¨¡å¼çš„ä½œç”¨</h2><blockquote><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šä¸€ä¸ªå¯¹è±¡çŠ¶æ€å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é€šçŸ¥å…¶ä»–ä¾èµ–å®ƒçš„å¯¹è±¡ï¼Œä¿æŒå¯¹è±¡é—´çš„ä½è€¦åˆå’Œé«˜åä½œæ€§ã€‚</p></blockquote><hr><h2 id="è§£å†³çš„é—®é¢˜"><a href="#è§£å†³çš„é—®é¢˜" class="headerlink" title="è§£å†³çš„é—®é¢˜"></a>è§£å†³çš„é—®é¢˜</h2><p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š<br>å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚ä½•è®©ä¾èµ–å®ƒçš„å…¶ä»–å¯¹è±¡è‡ªåŠ¨æ„ŸçŸ¥å¹¶å“åº”ï¼Œè€Œä¸éœ€è¦ä¸¤è€…ç´§å¯†è€¦åˆï¼Ÿ  </p><p>ä¾‹å¦‚ï¼š  </p><ul><li>å›¾å½¢ç•Œé¢ä¸­ï¼Œæ•°æ®æ¨¡å‹æ›´æ–°åï¼Œå¤šä¸ªè§†å›¾éœ€è¦è‡ªåŠ¨åˆ·æ–°ã€‚  </li><li>æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¤šä¸ªç›‘å¬å™¨éœ€è¦æ”¶åˆ°é€šçŸ¥ã€‚  </li></ul><p>è§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç§ <strong>ä¸€å¯¹å¤šçš„é€šçŸ¥æœºåˆ¶</strong>ã€‚</p><hr><h2 id="ä¼˜ç¼ºç‚¹åˆ†æ"><a href="#ä¼˜ç¼ºç‚¹åˆ†æ" class="headerlink" title="ä¼˜ç¼ºç‚¹åˆ†æ"></a>ä¼˜ç¼ºç‚¹åˆ†æ</h2><h3 id="âœ…-ä¼˜ç‚¹"><a href="#âœ…-ä¼˜ç‚¹" class="headerlink" title="âœ… ä¼˜ç‚¹"></a>âœ… ä¼˜ç‚¹</h3><ul><li><strong>æŠ½è±¡è€¦åˆ</strong>ï¼šä¸»é¢˜å’Œè§‚å¯Ÿè€…é€šè¿‡æŠ½è±¡æ¥å£ä¾èµ–ï¼Œè§£è€¦æ˜æ˜¾ã€‚  </li><li><strong>è§¦å‘æœºåˆ¶</strong>ï¼šå½“ä¸»é¢˜çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘é€šçŸ¥æœºåˆ¶ã€‚  </li></ul><h3 id="âš ï¸-ç¼ºç‚¹"><a href="#âš ï¸-ç¼ºç‚¹" class="headerlink" title="âš ï¸ ç¼ºç‚¹"></a>âš ï¸ ç¼ºç‚¹</h3><ul><li><strong>æ€§èƒ½é—®é¢˜</strong>ï¼šå¦‚æœè§‚å¯Ÿè€…æ•°é‡è¿‡å¤šï¼Œé€šçŸ¥ä¼šå¸¦æ¥æ€§èƒ½æ¶ˆè€—ã€‚  </li><li><strong>å¾ªç¯ä¾èµ–</strong>ï¼šä¸å½“ä½¿ç”¨å¯èƒ½å¯¼è‡´å¾ªç¯è°ƒç”¨ï¼Œç”šè‡³ç³»ç»Ÿå´©æºƒã€‚  </li><li><strong>ç¼ºä¹å˜åŒ–è¯¦æƒ…</strong>ï¼šè§‚å¯Ÿè€…åªçŸ¥é“ä¸»é¢˜å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†ä¸ä¸€å®šçŸ¥é“å…·ä½“å˜åŒ–äº†ä»€ä¹ˆã€‚  </li></ul><hr><h2 id="UML-ç¤ºæ„å›¾"><a href="#UML-ç¤ºæ„å›¾" class="headerlink" title="UML ç¤ºæ„å›¾"></a>UML ç¤ºæ„å›¾</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>ä¸‹é¢ç”¨ Java æ¼”ç¤ºè§‚å¯Ÿè€…æ¨¡å¼çš„å®ç°ã€‚</p><h3 id="ä¸»é¢˜ç±»ï¼ˆè¢«è§‚å¯Ÿå¯¹è±¡ï¼‰"><a href="#ä¸»é¢˜ç±»ï¼ˆè¢«è§‚å¯Ÿå¯¹è±¡ï¼‰" class="headerlink" title="ä¸»é¢˜ç±»ï¼ˆè¢«è§‚å¯Ÿå¯¹è±¡ï¼‰"></a>ä¸»é¢˜ç±»ï¼ˆè¢«è§‚å¯Ÿå¯¹è±¡ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Observer&gt;();</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> state;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(<span class="type">int</span> state)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.state = state;</span><br><span class="line">      notifyAllObservers();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attach</span><span class="params">(Observer observer)</span>&#123;</span><br><span class="line">      observers.add(observer);      </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyAllObservers</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">         observer.update();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŠ½è±¡è§‚å¯Ÿè€…ç±»"><a href="#æŠ½è±¡è§‚å¯Ÿè€…ç±»" class="headerlink" title="æŠ½è±¡è§‚å¯Ÿè€…ç±»"></a>æŠ½è±¡è§‚å¯Ÿè€…ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">   <span class="keyword">protected</span> Subject subject;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“è§‚å¯Ÿè€…ç±»"><a href="#å…·ä½“è§‚å¯Ÿè€…ç±»" class="headerlink" title="å…·ä½“è§‚å¯Ÿè€…ç±»"></a>å…·ä½“è§‚å¯Ÿè€…ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">BinaryObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Binary String: &quot;</span> </span><br><span class="line">         + Integer.toBinaryString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OctalObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">OctalObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Octal String: &quot;</span> </span><br><span class="line">         + Integer.toOctalString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HexaObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">HexaObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Hex String: &quot;</span> </span><br><span class="line">         + Integer.toHexString(subject.getState()).toUpperCase());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">HexaObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">OctalObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">BinaryObserver</span>(subject);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;First state change: 15&quot;</span>);   </span><br><span class="line">      subject.setState(<span class="number">15</span>);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;Second state change: 10&quot;</span>);  </span><br><span class="line">      subject.setState(<span class="number">10</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœ"><a href="#è¾“å‡ºç»“æœ" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">First state change: 15</span><br><span class="line">Hex String: F</span><br><span class="line">Octal String: 17</span><br><span class="line">Binary String: 1111</span><br><span class="line"></span><br><span class="line">Second state change: 10</span><br><span class="line">Hex String: A</span><br><span class="line">Octal String: 12</span><br><span class="line">Binary String: 1010</span><br></pre></td></tr></table></figure><hr><h2 id="å®é™…åº”ç”¨åœºæ™¯"><a href="#å®é™…åº”ç”¨åœºæ™¯" class="headerlink" title="å®é™…åº”ç”¨åœºæ™¯"></a>å®é™…åº”ç”¨åœºæ™¯</h2><ul><li><strong>GUI ç³»ç»Ÿ</strong>ï¼šæŒ‰é’®ç‚¹å‡»äº‹ä»¶é€šçŸ¥å¤šä¸ªç›‘å¬å™¨ã€‚  </li><li><strong>è®¢é˜…-å‘å¸ƒç³»ç»Ÿ</strong>ï¼šä¾‹å¦‚æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„è®¢é˜…æœºåˆ¶ã€‚  </li><li><strong>åˆ†å¸ƒå¼ç³»ç»Ÿ</strong>ï¼šå½“èŠ‚ç‚¹çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é€šçŸ¥å…¶ä»–èŠ‚ç‚¹åŒæ­¥ã€‚  </li></ul><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒè§£å†³äº†å¯¹è±¡é—´çš„é€šçŸ¥å’Œä¾èµ–é—®é¢˜ã€‚  </p><ul><li>å®ƒé™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚  </li><li>æä¾›äº†ä¸€ç§çµæ´»çš„è§¦å‘æœºåˆ¶ã€‚  </li><li>ä½†åœ¨ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„æ€§èƒ½å’Œå¾ªç¯ä¾èµ–é—®é¢˜ã€‚  </li></ul><p>ç†è§£å¹¶çµæ´»è¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åœ¨å¼€å‘ä¸­å®ç°æ›´æ¸…æ™°ã€æ›´å¯æ‰©å±•çš„ç³»ç»Ÿæ¶æ„ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰&quot;&gt;&lt;a href=&quot;#è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰&quot; class=&quot;headerlink&quot; title=&quot;è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰&quot;&gt;&lt;/a&gt;è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Pa</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>é€‚é…å™¨æ¨¡å¼</title>
    <link href="https://db-hanty.github.io/posts/f5c535ea.html"/>
    <id>https://db-hanty.github.io/posts/f5c535ea.html</id>
    <published>2025-09-06T15:20:48.000Z</published>
    <updated>2025-12-18T12:59:28.708Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰"><a href="#é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰" class="headerlink" title="é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰"></a>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</h1><p>åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ<strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹æ¨¡å¼ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¸€ä¸ªä¸­é—´ä»¶ï¼ˆé€‚é…å™¨ï¼‰ï¼Œå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢ä¸ºå®¢æˆ·ç«¯æœŸæœ›çš„æ¥å£ï¼Œä»è€Œè®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚</p><hr><h2 id="æ¨¡å¼çš„ä½œç”¨"><a href="#æ¨¡å¼çš„ä½œç”¨" class="headerlink" title="æ¨¡å¼çš„ä½œç”¨"></a>æ¨¡å¼çš„ä½œç”¨</h2><blockquote><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šé€šè¿‡é€‚é…å™¨ï¼Œå°†åŸæœ‰ç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯éœ€è¦çš„å¦ä¸€ç§æ¥å£ï¼Œä»è€Œå®ç°å…¼å®¹ã€‚</p></blockquote><p>è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹åŸæœ‰ç±»çš„æƒ…å†µä¸‹ï¼Œå°†å…¶èå…¥æ–°çš„ç¯å¢ƒä¸­ã€‚</p><hr><h2 id="è§£å†³çš„é—®é¢˜"><a href="#è§£å†³çš„é—®é¢˜" class="headerlink" title="è§£å†³çš„é—®é¢˜"></a>è§£å†³çš„é—®é¢˜</h2><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šå·²æœ‰çš„ç±»åŠŸèƒ½å¾ˆå¥½ï¼Œä½†å…¶æ¥å£ä¸å½“å‰ç³»ç»Ÿçš„è¦æ±‚ä¸ä¸€è‡´ã€‚å¦‚æœç›´æ¥ä¿®æ”¹åŸæœ‰ç±»ï¼Œæ—¢ç ´åäº†å°é—­åŸåˆ™ï¼Œåˆå¯èƒ½å½±å“å·²æœ‰ä»£ç çš„ç¨³å®šæ€§ã€‚<br>æ­¤æ—¶å¼•å…¥ <strong>é€‚é…å™¨æ¨¡å¼</strong>ï¼Œåœ¨ä¸­é—´å¢åŠ ä¸€ä¸ªâ€œé€‚é…å™¨â€ï¼Œå³å¯è§£å†³æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ã€‚</p><hr><h2 id="ä¼˜ç¼ºç‚¹åˆ†æ"><a href="#ä¼˜ç¼ºç‚¹åˆ†æ" class="headerlink" title="ä¼˜ç¼ºç‚¹åˆ†æ"></a>ä¼˜ç¼ºç‚¹åˆ†æ</h2><h3 id="âœ…-ä¼˜ç‚¹"><a href="#âœ…-ä¼˜ç‚¹" class="headerlink" title="âœ… ä¼˜ç‚¹"></a>âœ… ä¼˜ç‚¹</h3><ul><li><strong>ä¿ƒè¿›åä½œ</strong>ï¼šå³ä½¿ç±»ä¹‹é—´æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä¹Ÿèƒ½é€šè¿‡é€‚é…å™¨ååŒå·¥ä½œã€‚  </li><li><strong>æé«˜å¤ç”¨æ€§</strong>ï¼šåŸæœ‰ç±»æ— éœ€ä¿®æ”¹å³å¯è¢«å¤ç”¨ã€‚  </li><li><strong>å¢å¼ºé€æ˜æ€§</strong>ï¼šå®¢æˆ·ç«¯è°ƒç”¨æ—¶æ— æ„ŸçŸ¥ï¼Œä¿æŒæ¥å£ä¸€è‡´æ€§ã€‚  </li><li><strong>çµæ´»æ€§é«˜</strong>ï¼šå¯ä»¥çµæ´»åœ°é€‚é…å¤šç§ä¸åŒæ¥å£ã€‚  </li></ul><h3 id="âš ï¸-ç¼ºç‚¹"><a href="#âš ï¸-ç¼ºç‚¹" class="headerlink" title="âš ï¸ ç¼ºç‚¹"></a>âš ï¸ ç¼ºç‚¹</h3><ul><li><strong>ç»“æ„å¯èƒ½å¤æ‚</strong>ï¼šè¿‡åº¦ä½¿ç”¨é€‚é…å™¨å¯èƒ½å¯¼è‡´ç³»ç»Ÿç»“æ„æ··ä¹±ã€‚  </li><li><strong>Java çš„å±€é™</strong>ï¼šç”±äº Java åªèƒ½å•ç»§æ‰¿ï¼Œä¸€ä¸ªé€‚é…å™¨ç±»é€šå¸¸åªèƒ½é€‚é…ä¸€ä¸ªç±»ã€‚  </li></ul><hr><h2 id="UML-ç¤ºæ„å›¾"><a href="#UML-ç¤ºæ„å›¾" class="headerlink" title="UML ç¤ºæ„å›¾"></a>UML ç¤ºæ„å›¾</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå¤šåª’ä½“æ’­æ”¾å™¨çš„ä¾‹å­ï¼Œæ¥æ¼”ç¤ºé€‚é…å™¨æ¨¡å¼çš„å®ç°ã€‚</p><h3 id="å®šä¹‰æ¥å£"><a href="#å®šä¹‰æ¥å£" class="headerlink" title="å®šä¹‰æ¥å£"></a>å®šä¹‰æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AdvancedMediaPlayer</span> &#123; </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é«˜çº§æ’­æ”¾å™¨çš„å®ç°ç±»"><a href="#é«˜çº§æ’­æ”¾å™¨çš„å®ç°ç±»" class="headerlink" title="é«˜çº§æ’­æ”¾å™¨çš„å®ç°ç±»"></a>é«˜çº§æ’­æ”¾å™¨çš„å®ç°ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VlcPlayer</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing vlc file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// ä»€ä¹ˆä¹Ÿä¸åš</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mp4Player</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// ä»€ä¹ˆä¹Ÿä¸åš</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing mp4 file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€‚é…å™¨ç±»"><a href="#é€‚é…å™¨ç±»" class="headerlink" title="é€‚é…å™¨ç±»"></a>é€‚é…å™¨ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MediaAdapter</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   AdvancedMediaPlayer advancedMusicPlayer;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">MediaAdapter</span><span class="params">(String audioType)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">VlcPlayer</span>();       </span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">Mp4Player</span>();</span><br><span class="line">      &#125;  </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playVlc(fileName);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playMp4(fileName);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éŸ³é¢‘æ’­æ”¾å™¨ç±»ï¼ˆå®¢æˆ·ç«¯ï¼‰"><a href="#éŸ³é¢‘æ’­æ”¾å™¨ç±»ï¼ˆå®¢æˆ·ç«¯ï¼‰" class="headerlink" title="éŸ³é¢‘æ’­æ”¾å™¨ç±»ï¼ˆå®¢æˆ·ç«¯ï¼‰"></a>éŸ³é¢‘æ’­æ”¾å™¨ç±»ï¼ˆå®¢æˆ·ç«¯ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AudioPlayer</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   MediaAdapter mediaAdapter; </span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;    </span><br><span class="line">      <span class="comment">// æ’­æ”¾ mp3 éŸ³ä¹æ–‡ä»¶çš„å†…ç½®æ”¯æŒ</span></span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp3&quot;</span>))&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Playing mp3 file. Name: &quot;</span> + fileName);         </span><br><span class="line">      &#125; </span><br><span class="line">      <span class="comment">// ä½¿ç”¨é€‚é…å™¨æ’­æ”¾å…¶ä»–æ ¼å¼</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>) || audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         mediaAdapter = <span class="keyword">new</span> <span class="title class_">MediaAdapter</span>(audioType);</span><br><span class="line">         mediaAdapter.play(audioType, fileName);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Invalid media. &quot;</span> + audioType + <span class="string">&quot; format not supported&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdapterPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AudioPlayer</span> <span class="variable">audioPlayer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AudioPlayer</span>();</span><br><span class="line"> </span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp3&quot;</span>, <span class="string">&quot;beyond the horizon.mp3&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp4&quot;</span>, <span class="string">&quot;alone.mp4&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;vlc&quot;</span>, <span class="string">&quot;far far away.vlc&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;avi&quot;</span>, <span class="string">&quot;mind me.avi&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœ"><a href="#è¾“å‡ºç»“æœ" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Playing mp3 file. Name: beyond the horizon.mp3</span><br><span class="line">Playing mp4 file. Name: alone.mp4</span><br><span class="line">Playing vlc file. Name: far far away.vlc</span><br><span class="line">Invalid media. avi format not supported</span><br></pre></td></tr></table></figure><hr><h2 id="å®é™…åº”ç”¨å®ä¾‹"><a href="#å®é™…åº”ç”¨å®ä¾‹" class="headerlink" title="å®é™…åº”ç”¨å®ä¾‹"></a>å®é™…åº”ç”¨å®ä¾‹</h2><ul><li><strong>ç”µæºé€‚é…å™¨</strong>ï¼šç¬”è®°æœ¬ç”µè„‘ç”µæºé€‚é…å™¨ï¼Œå°† 220V è½¬æ¢ä¸ºå¯ç”¨ç”µå‹ã€‚  </li><li><strong>Java IO ç±»åº“</strong>ï¼š<code>InputStreamReader</code> å°±æ˜¯å…¸å‹çš„é€‚é…å™¨æ¨¡å¼ï¼Œç”¨äºå°†å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµã€‚  </li><li><strong>ç¬¬ä¸‰æ–¹åº“æ•´åˆ</strong>ï¼šé€šè¿‡é€‚é…å™¨å°†ç¬¬ä¸‰æ–¹ API ä¸ç°æœ‰ç³»ç»Ÿå¯¹æ¥ã€‚  </li></ul><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€‚é…å™¨æ¨¡å¼é€šè¿‡åœ¨ä¸­é—´å¢åŠ ä¸€ä¸ªâ€œé€‚é…å™¨â€ï¼Œä½¿æ¥å£ä¸å…¼å®¹çš„ç±»èƒ½å¤ŸååŒå·¥ä½œï¼Œæ—¢é¿å…äº†å¯¹åŸæœ‰ç±»çš„ä¿®æ”¹ï¼Œåˆä¿è¯äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚  </p><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š  </p><ul><li>ç³»ç»Ÿéœ€è¦å¤ç”¨ä¸€äº›ç°æœ‰ç±»ï¼Œä½†å…¶æ¥å£ä¸æ–°ç³»ç»Ÿä¸åŒ¹é…ã€‚  </li><li>éœ€è¦ç»Ÿä¸€å¤šä¸ªä¸åŒæ¥å£çš„ç±»ã€‚  </li><li>é›†æˆç¬¬ä¸‰æ–¹åº“æ—¶éœ€è¦åšæ¥å£è½¬æ¢ã€‚  </li></ul><p>æŒæ¡é€‚é…å™¨æ¨¡å¼ï¼Œæœ‰åŠ©äºæå‡ç³»ç»Ÿçš„å¯å¤ç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œæ˜¯å®é™…å¼€å‘ä¸­å¸¸ç”¨çš„ç»“æ„å‹æ¨¡å¼ä¹‹ä¸€ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰&quot;&gt;&lt;a href=&quot;#é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰&quot; class=&quot;headerlink&quot; title=&quot;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰&quot;&gt;&lt;/a&gt;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patter</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æŠ€æœ¯" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
