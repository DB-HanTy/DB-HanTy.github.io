<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DB_platypuS`Blog</title>
  
  <subtitle>也许不正确但并非无意义</subtitle>
  <link href="https://db-hanty.github.io/atom.xml" rel="self"/>
  
  <link href="https://db-hanty.github.io/"/>
  <updated>2025-10-15T12:50:17.295Z</updated>
  <id>https://db-hanty.github.io/</id>
  
  <author>
    <name>DB_platypuS</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《滚雪球：巴菲特和他的财富人生》读书报告</title>
    <link href="https://db-hanty.github.io/posts/3920611.html"/>
    <id>https://db-hanty.github.io/posts/3920611.html</id>
    <published>2025-10-15T20:48:57.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="《滚雪球：巴菲特和他的财富人生》读书报告"><a href="#《滚雪球：巴菲特和他的财富人生》读书报告" class="headerlink" title="《滚雪球：巴菲特和他的财富人生》读书报告"></a>《滚雪球：巴菲特和他的财富人生》读书报告</h1><h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><p>《滚雪球：巴菲特和他的财富人生》是一部全面展现沃伦·巴菲特人生、思想与投资哲学的传记。本书以细腻的叙事方式揭示了“股神”巴菲特从童年、青年到成为世界级投资大师的成长历程，深刻描绘了他如何将理性、耐心与独立思考贯穿于一生的事业与人生中。</p><hr><h2 id="二、主要内容概述"><a href="#二、主要内容概述" class="headerlink" title="二、主要内容概述"></a>二、主要内容概述</h2><h3 id="1-谦卑的智慧"><a href="#1-谦卑的智慧" class="headerlink" title="1. 谦卑的智慧"></a>1. 谦卑的智慧</h3><p>书中第一堂课便是“以谦卑之态屈人之兵”。巴菲特懂得在人际交往中保持谦逊与诚恳，他的公众形象简单、真诚、率直——这是他成功的重要原因之一。他明白，赢得人心比赢得争论更重要。</p><h3 id="2-投资的理性与本质"><a href="#2-投资的理性与本质" class="headerlink" title="2. 投资的理性与本质"></a>2. 投资的理性与本质</h3><p>巴菲特认为，<strong>股票并不是赌场的筹码，而是企业的一部分</strong>。他注重企业本身的价值而非市场的波动。正如他所说：“短期来看，市场是投票器；长期来看，市场是称重器。”<br>他用这种“称重”的理性思维，专注于公司长期价值，而非短期投机。</p><h3 id="3-时间与利率的哲学"><a href="#3-时间与利率的哲学" class="headerlink" title="3. 时间与利率的哲学"></a>3. 时间与利率的哲学</h3><p>书中提到，利率是金融世界的“重力”。当利率上升，所有资产的价值都会下降。巴菲特提醒投资者要理解时间与资金成本的关系——投资的本质就是<strong>延迟消费</strong>，让钱在时间中创造更多的价值。</p><h3 id="4-投资原则与安全边际"><a href="#4-投资原则与安全边际" class="headerlink" title="4. 投资原则与安全边际"></a>4. 投资原则与安全边际</h3><p>受导师<strong>本杰明·格雷厄姆</strong>影响，巴菲特形成了三大投资原则：</p><ol><li>股票代表企业的一部分所有权；  </li><li>投资必须有安全边际；  </li><li>“市场先生”是你的仆人，而不是你的主人。  </li></ol><p>尤其是“安全边际”理念，让他在面对风险时始终保持冷静。</p><h3 id="5-学习与自我成长"><a href="#5-学习与自我成长" class="headerlink" title="5. 学习与自我成长"></a>5. 学习与自我成长</h3><p>从少年时代卖口香糖到十四岁攒下第一笔1000美元，巴菲特早早展现了商业天赋。他通过阅读和实践自学投资，深受《戴尔·卡内基》影响，懂得<strong>沟通与影响力</strong>的重要性。他相信学习是终身的，“与比你优秀的人在一起，你也会变得更好”。</p><h3 id="6-事业与人生哲学"><a href="#6-事业与人生哲学" class="headerlink" title="6. 事业与人生哲学"></a>6. 事业与人生哲学</h3><p>巴菲特的成功不仅来源于聪明，更源自自律与热爱。他<strong>每天安排好每个小时</strong>，专注于自己认为有意义的事。他重视朋友与信任，秉持“花的比赚的少”和“不借债”的生活准则。<br>他用自己的方式证明了，<strong>财富的积累源自理性与节制，而非投机与侥幸</strong>。</p><hr><h2 id="三、启发与感悟"><a href="#三、启发与感悟" class="headerlink" title="三、启发与感悟"></a>三、启发与感悟</h2><p>通过阅读《滚雪球》，我受到了深刻启发：<br>巴菲特从小对数字敏感，对金钱与投资有着天然的兴趣，更重要的是他<strong>热爱学习、善于分析、长期坚持</strong>。<br>他不是一夜成功的投机者，而是靠着持续积累知识与理性决策，一步步“滚出”财富雪球的人。</p><p>在他身上，我学到：  </p><ul><li>做任何事情都要<strong>长期主义</strong>，不被短期诱惑影响判断；  </li><li>用理性思考代替情绪反应；  </li><li>投资自己比投资市场更重要；  </li><li>保持节俭、诚实与谦逊，是成就一生的根本。</li></ul><hr><h2 id="四、人生道理总结"><a href="#四、人生道理总结" class="headerlink" title="四、人生道理总结"></a>四、人生道理总结</h2><ol><li><p><strong>独立思考是最高级的智慧。</strong><br>不随波逐流，敢于坚持自己理解的正确方向。  </p></li><li><p><strong>持续学习与热爱是最大的护城河。</strong><br>巴菲特每天阅读、反思，形成了属于自己的知识体系。  </p></li><li><p><strong>节制与自律比聪明更重要。</strong><br>成功的人不是知道更多，而是懂得克制与专注。  </p></li><li><p><strong>财富不是终点，而是做有意义事情的工具。</strong><br>巴菲特最终选择将全部财富捐出，他证明了财富的真正价值在于贡献社会。  </p></li></ol><hr><h2 id="五、结语"><a href="#五、结语" class="headerlink" title="五、结语"></a>五、结语</h2><p>《滚雪球》不仅是一部投资圣经，更是一部人生哲学的教科书。巴菲特用自己的一生证明：<strong>理性、诚实、热爱与坚持，是通往幸福与成功的最可靠道路。</strong><br>他用行动告诉我们——<strong>人生就像滚雪球，最重要的是找到湿雪和长坡</strong>。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;《滚雪球：巴菲特和他的财富人生》读书报告&quot;&gt;&lt;a href=&quot;#《滚雪球：巴菲特和他的财富人生》读书报告&quot; class=&quot;headerlink&quot; title=&quot;《滚雪球：巴菲特和他的财富人生》读书报告&quot;&gt;&lt;/a&gt;《滚雪球：巴菲特和他的财富人生》读书报告&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="书籍" scheme="https://db-hanty.github.io/categories/%E4%B9%A6%E7%B1%8D/"/>
    
    
    <category term="人物传记" scheme="https://db-hanty.github.io/tags/%E4%BA%BA%E7%89%A9%E4%BC%A0%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Lua脚本与Redisson的快速入门</title>
    <link href="https://db-hanty.github.io/posts/a84ce48b.html"/>
    <id>https://db-hanty.github.io/posts/a84ce48b.html</id>
    <published>2025-10-13T21:05:29.000Z</published>
    <updated>2025-10-15T12:50:17.294Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Lua脚本与Redisson的快速入门"><a href="#Lua脚本与Redisson的快速入门" class="headerlink" title="Lua脚本与Redisson的快速入门"></a>Lua脚本与Redisson的快速入门</h1><h2 id="一、Redis的Lua脚本"><a href="#一、Redis的Lua脚本" class="headerlink" title="一、Redis的Lua脚本"></a>一、Redis的Lua脚本</h2><p>Lua 是一种轻量级脚本语言，可以在 Redis 中确保多条命令的<strong>原子性执行</strong>。在复杂的业务逻辑中使用 Lua 可以避免分布式锁或事务带来的性能损耗。</p><hr><h3 id="1-Redis-的调用函数"><a href="#1-Redis-的调用函数" class="headerlink" title="1. Redis 的调用函数"></a>1. Redis 的调用函数</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;命令名称&#x27;</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;其他参数&#x27;</span>, ...)</span><br></pre></td></tr></table></figure><p>例如执行 <code>SET name jack</code>：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis.call(<span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;jack&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><h3 id="2-调用脚本"><a href="#2-调用脚本" class="headerlink" title="2. 调用脚本"></a>2. 调用脚本</h3><p><code>EVAL</code> 命令用于执行 Lua 脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EVAL <span class="string">&quot;return redis.call(&#x27;set&#x27;,&#x27;name&#x27;,&#x27;jack&#x27;)&quot;</span> 0</span><br></pre></td></tr></table></figure><blockquote><p>其中 <code>0</code> 表示脚本所需的 key 类型参数个数。</p></blockquote><hr><h3 id="3-传参机制"><a href="#3-传参机制" class="headerlink" title="3. 传参机制"></a>3. 传参机制</h3><p>如果 key、value 不想写死，可以作为参数传递。  </p><ul><li>key 类型参数会放入 <code>KEYS</code> 数组  </li><li>其他参数会放入 <code>ARGV</code> 数组</li></ul><p>在脚本中通过 <code>KEYS</code> 和 <code>ARGV</code> 获取这些参数。</p><hr><h3 id="✅-小结"><a href="#✅-小结" class="headerlink" title="✅ 小结"></a>✅ 小结</h3><p>Lua 脚本的使用场景：</p><ul><li>实现分布式锁的原子操作</li><li>保证复杂逻辑的事务性执行</li><li>实现计数器、库存扣减、限流等功能</li></ul><p>学习建议：</p><ol><li>掌握基本 Lua 语法（变量、控制流、函数）。  </li><li>学会在 Redis CLI 或 Java 中调用 <code>EVAL</code>。  </li><li>理解 Redis 中 Lua 脚本执行的原子性原理。</li></ol><hr><h2 id="二、Redisson-快速入门"><a href="#二、Redisson-快速入门" class="headerlink" title="二、Redisson 快速入门"></a>二、Redisson 快速入门</h2><p>Redisson 是 Redis 的 Java 客户端，提供了丰富的分布式数据结构与锁机制。</p><h3 id="1-引入依赖"><a href="#1-引入依赖" class="headerlink" title="1. 引入依赖"></a>1. 引入依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.redisson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>redisson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.15.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="2-配置-Redisson-客户端"><a href="#2-配置-Redisson-客户端" class="headerlink" title="2. 配置 Redisson 客户端"></a>2. 配置 Redisson 客户端</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedissionConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedissonClient <span class="title function_">redissionClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Config</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Config</span>();</span><br><span class="line">        config.useSingleServer()</span><br><span class="line">            .setAddress(<span class="string">&quot;redis://192.168.85.133:6379&quot;</span>)</span><br><span class="line">            .setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Redisson.create(config);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="3-使用-Redisson"><a href="#3-使用-Redisson" class="headerlink" title="3. 使用 Redisson"></a>3. 使用 Redisson</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RedissonClient redissonClient;</span><br><span class="line"></span><br><span class="line"><span class="type">RLock</span> <span class="variable">lock</span> <span class="operator">=</span> redissonClient.getLock(<span class="string">&quot;lock:order:&quot;</span> + userId);</span><br></pre></td></tr></table></figure><hr><h2 id="三、Redisson-可重入锁原理"><a href="#三、Redisson-可重入锁原理" class="headerlink" title="三、Redisson 可重入锁原理"></a>三、Redisson 可重入锁原理</h2><p>Redisson 的可重入锁使用 <strong>Hash 结构</strong> 存储锁信息：  </p><ul><li>key：锁名称  </li><li>field：线程ID  </li><li>value：重入次数</li></ul><p>锁逻辑：<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B0281478D-0D90-4210-A6E4-440FB8B34F10%7D.png" alt=""></p><ol><li>如果锁不存在，创建锁并设置线程 ID。  </li><li>如果线程已持有锁，增加重入次数。  </li><li>如果锁被占用，阻塞或等待重试。</li></ol><hr><h3 id="Lua-实现示例"><a href="#Lua-实现示例" class="headerlink" title="Lua 实现示例"></a>Lua 实现示例</h3><p>Redisson 的底层使用 Lua 脚本保证加锁与释放锁的原子性，例如：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 获取锁的 Lua 脚本示例</span></span><br><span class="line"><span class="keyword">if</span> (redis.call(<span class="string">&#x27;exists&#x27;</span>, KEYS[<span class="number">1</span>]) == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hset&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">elseif</span> (redis.call(<span class="string">&#x27;hexists&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>]) == <span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&#x27;hincrby&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">1</span>], <span class="number">1</span>)</span><br><span class="line">    redis.call(<span class="string">&#x27;expire&#x27;</span>, KEYS[<span class="number">1</span>], ARGV[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><hr><h2 id="四、Redisson-分布式锁机制"><a href="#四、Redisson-分布式锁机制" class="headerlink" title="四、Redisson 分布式锁机制"></a>四、Redisson 分布式锁机制</h2><div class="table-container"><table><thead><tr><th>特性</th><th>实现方式</th></tr></thead><tbody><tr><td><strong>可重入</strong></td><td>使用 Hash 结构记录线程 ID 和重入次数</td></tr><tr><td><strong>可重试</strong></td><td>利用信号量与 PubSub 实现等待唤醒机制</td></tr><tr><td><strong>超时续约</strong></td><td>WatchDog 定期重置锁的过期时间</td></tr><tr><td><strong>主从一致性</strong></td><td>通过 MultiLock（联锁）确保多节点一致性</td></tr></tbody></table></div><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF8FC16EF-4232-4f29-B244-54DDBAF5F3DB%7D.png" alt=""></h2><h3 id="联锁（MultiLock）机制"><a href="#联锁（MultiLock）机制" class="headerlink" title="联锁（MultiLock）机制"></a>联锁（MultiLock）机制</h3><p>在多个 Redis 节点上同时加锁，只有所有节点加锁成功，才视为整体加锁成功。  </p><blockquote><p>缺点：运维成本高、实现复杂，但可靠性更强。</p></blockquote><hr><h2 id="五、总结与学习建议"><a href="#五、总结与学习建议" class="headerlink" title="五、总结与学习建议"></a>五、总结与学习建议</h2><h3 id="学习重点"><a href="#学习重点" class="headerlink" title="学习重点"></a>学习重点</h3><ol><li>理解 Lua 脚本在 Redis 中的执行机制与原子性。</li><li>熟悉 Redisson 的使用，掌握分布式锁、信号量等核心功能。</li><li>能在实际项目中使用 Lua 与 Redisson 优化并发与性能。</li></ol><h3 id="学习路径"><a href="#学习路径" class="headerlink" title="学习路径"></a>学习路径</h3><ul><li>🔹 初级：掌握 <code>EVAL</code> 命令与 Lua 调用 Redis API。</li><li>🔹 中级：编写 Lua 实现原子性业务逻辑。</li><li>🔹 高级：结合 Redisson 实现分布式锁与异步任务。</li></ul><blockquote><p>💡 建议多动手实验，比如：模拟库存扣减、并发下单、定时任务续锁等场景。</p></blockquote><hr><p><strong>作者建议</strong>：<br>熟悉 Lua 脚本与 Redisson 是进入 Java 分布式系统开发的重要一步。<br>不仅能提升系统性能，也能帮助理解底层锁机制与数据一致性。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Lua脚本与Redisson的快速入门&quot;&gt;&lt;a href=&quot;#Lua脚本与Redisson的快速入门&quot; class=&quot;headerlink&quot; title=&quot;Lua脚本与Redisson的快速入门&quot;&gt;&lt;/a&gt;Lua脚本与Redisson的快速入门&lt;/h1&gt;&lt;h2 i</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Redis的实际应用及学习笔记</title>
    <link href="https://db-hanty.github.io/posts/f9b146a.html"/>
    <id>https://db-hanty.github.io/posts/f9b146a.html</id>
    <published>2025-09-29T09:22:41.000Z</published>
    <updated>2025-10-15T12:50:17.294Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis的实际应用及学习笔记"><a href="#Redis的实际应用及学习笔记" class="headerlink" title="Redis的实际应用及学习笔记"></a>Redis的实际应用及学习笔记</h1><h2 id="一、Redis-基础与简介"><a href="#一、Redis-基础与简介" class="headerlink" title="一、Redis 基础与简介"></a>一、Redis 基础与简介</h2><h3 id="1-什么是缓存？"><a href="#1-什么是缓存？" class="headerlink" title="1. 什么是缓存？"></a>1. 什么是缓存？</h3><p>缓存（Cache）是一种<strong>数据加速访问机制</strong>，通过将热点数据存储在访问速度更快的介质（如内存）中，减少数据库的访问压力，提高系统性能与响应速度。</p><h3 id="2-本地缓存"><a href="#2-本地缓存" class="headerlink" title="2. 本地缓存"></a>2. 本地缓存</h3><p>本地缓存指数据缓存在应用服务器本地内存中。常见实现包括：</p><ul><li><strong>Caffeine</strong>：高性能本地缓存库，基于 LRU 算法优化，适用于单机应用场景。</li></ul><h3 id="3-多级缓存"><a href="#3-多级缓存" class="headerlink" title="3. 多级缓存"></a>3. 多级缓存</h3><p>多级缓存 = 本地缓存 + 分布式缓存<br>常见架构：  </p><ul><li>一级缓存（Caffeine、本地）  </li><li>二级缓存（Redis、分布式）  </li></ul><p>优点：减少 Redis 压力，提高热点数据命中率。</p><h3 id="4-Redis-分布式缓存"><a href="#4-Redis-分布式缓存" class="headerlink" title="4. Redis 分布式缓存"></a>4. Redis 分布式缓存</h3><p>Redis 是一个基于<strong>内存</strong>的高性能 <strong>Key-Value NoSQL 数据库</strong>。</p><p>主要特点：</p><ul><li>基于内存存储，速度极快</li><li>支持多种数据结构（String、Hash、List、Set、SortedSet）</li><li>提供持久化机制（RDB、AOF）</li><li>支持主从复制、哨兵与集群模式</li><li>提供丰富的命令操作与多语言客户端</li></ul><hr><h2 id="二、Redis-数据类型与常用操作"><a href="#二、Redis-数据类型与常用操作" class="headerlink" title="二、Redis 数据类型与常用操作"></a>二、Redis 数据类型与常用操作</h2><div class="table-container"><table><thead><tr><th>数据类型</th><th>示例用途</th><th>常用命令</th></tr></thead><tbody><tr><td>String</td><td>计数器、缓存对象</td><td><code>SET</code>、<code>GET</code>、<code>INCR</code>、<code>DECR</code></td></tr><tr><td>Hash</td><td>存储对象（如用户信息）</td><td><code>HSET</code>、<code>HGET</code>、<code>HGETALL</code></td></tr><tr><td>List</td><td>消息队列、时间线</td><td><code>LPUSH</code>、<code>RPUSH</code>、<code>LPOP</code>、<code>LRANGE</code></td></tr><tr><td>Set</td><td>去重、标签集合</td><td><code>SADD</code>、<code>SREM</code>、<code>SMEMBERS</code></td></tr><tr><td>Sorted Set</td><td>排行榜、积分榜</td><td><code>ZADD</code>、<code>ZRANGE</code>、<code>ZINCRBY</code></td></tr></tbody></table></div><hr><h2 id="三、Java-操作-Redis"><a href="#三、Java-操作-Redis" class="headerlink" title="三、Java 操作 Redis"></a>三、Java 操作 Redis</h2><h3 id="1-Jedis"><a href="#1-Jedis" class="headerlink" title="1. Jedis"></a>1. Jedis</h3><p>Jedis 是 Redis 的 Java 客户端，使用简单：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-Spring-Boot-RedisTemplate"><a href="#2-Spring-Boot-RedisTemplate" class="headerlink" title="2. Spring Boot - RedisTemplate"></a>2. Spring Boot - RedisTemplate</h3><p>Spring Boot 提供的封装，简化 Redis 操作：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">redisTemplate.opsForValue().set(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Hty&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure><h3 id="3-Redisson"><a href="#3-Redisson" class="headerlink" title="3. Redisson"></a>3. Redisson</h3><p>Redisson 是官方推荐的 Java 客户端，提供丰富的分布式功能：</p><ul><li>分布式锁</li><li>延迟队列</li><li>限流器</li><li>分布式集合、Map、List</li></ul><hr><h2 id="四、Redis-高可用与持久化"><a href="#四、Redis-高可用与持久化" class="headerlink" title="四、Redis 高可用与持久化"></a>四、Redis 高可用与持久化</h2><h3 id="1-主从复制"><a href="#1-主从复制" class="headerlink" title="1. 主从复制"></a>1. 主从复制</h3><p>Redis 支持主从复制（Master-Slave），可实现：</p><ul><li>数据冗余与备份</li><li>读写分离</li></ul><h3 id="2-哨兵模式（Sentinel）"><a href="#2-哨兵模式（Sentinel）" class="headerlink" title="2. 哨兵模式（Sentinel）"></a>2. 哨兵模式（Sentinel）</h3><p>提供主从自动切换与故障转移机制，保证高可用性。</p><h3 id="3-Redis-集群"><a href="#3-Redis-集群" class="headerlink" title="3. Redis 集群"></a>3. Redis 集群</h3><p>通过分片（Sharding）实现多节点数据分布与水平扩展。</p><h3 id="4-持久化机制"><a href="#4-持久化机制" class="headerlink" title="4. 持久化机制"></a>4. 持久化机制</h3><ul><li><strong>RDB</strong>：定期快照保存数据</li><li><strong>AOF</strong>：记录每条写操作日志，恢复时重放日志</li><li>两者可混合使用以兼顾安全与性能</li></ul><hr><h2 id="五、Redis-在实际开发中的应用场景"><a href="#五、Redis-在实际开发中的应用场景" class="headerlink" title="五、Redis 在实际开发中的应用场景"></a>五、Redis 在实际开发中的应用场景</h2><div class="table-container"><table><thead><tr><th>应用场景</th><th>说明</th></tr></thead><tbody><tr><td><strong>数据共享</strong></td><td>不同服务间共享用户信息或状态</td></tr><tr><td><strong>单点登录（SSO）</strong></td><td>统一认证中心，将 Token 存储在 Redis</td></tr><tr><td><strong>计数器</strong></td><td>浏览量、点赞数等</td></tr><tr><td><strong>限流</strong></td><td>控制接口访问频率</td></tr><tr><td><strong>点赞 / 收藏</strong></td><td>使用 Set 或 SortedSet 实现</td></tr><tr><td><strong>实时排行榜</strong></td><td>使用 SortedSet 存储用户积分并排序</td></tr><tr><td><strong>分布式锁</strong></td><td>使用 <code>SETNX</code> 或 Redisson 实现</td></tr><tr><td><strong>消息队列</strong></td><td>基于 List、Stream 实现简单异步通信</td></tr></tbody></table></div><hr><h2 id="六、缓存常见问题与解决方案"><a href="#六、缓存常见问题与解决方案" class="headerlink" title="六、缓存常见问题与解决方案"></a>六、缓存常见问题与解决方案</h2><h3 id="1-缓存雪崩"><a href="#1-缓存雪崩" class="headerlink" title="1. 缓存雪崩"></a>1. 缓存雪崩</h3><p><strong>定义</strong>：大量缓存同时失效，导致数据库压力骤增。<br><strong>解决</strong>：</p><ul><li>设置不同过期时间，避免同时过期</li><li>使用多级缓存</li><li>引入降级与限流机制</li></ul><h3 id="2-缓存击穿"><a href="#2-缓存击穿" class="headerlink" title="2. 缓存击穿"></a>2. 缓存击穿</h3><p><strong>定义</strong>：热点 key 失效瞬间，大量请求打到数据库。<br><strong>解决</strong>：<br>| 解决方案 | 优点 | 缺点 |<br>| —- | —- | —- |<br>| 互斥锁 | · 没有额外的内存消耗<br>· 保证一致性<br>· 实现简单 | · 线程需要等待，性能受影响<br>· 可能有死锁风险 |<br>| 逻辑过期 | · 线程无需等待，性能较好 | · 不保证一致性<br>· 有额外内存消耗<br>· 实现复杂 |<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BF47D80E1-8BDD-4346-A5B1-B0AF4FDCC587%7D.png" alt=""></p><h3 id="3-缓存穿透"><a href="#3-缓存穿透" class="headerlink" title="3. 缓存穿透"></a>3. 缓存穿透</h3><p><strong>定义</strong>：查询不存在的数据，导致每次都查数据库。<br><strong>解决</strong>：</p><ul><li>缓存空对象<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B694B1FC8-D029-4e5f-8EFF-70EBBE536741%7D.png" alt=""></li><li>参数校验</li><li>布隆过滤器（Bloom Filter）<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B8197FAB0-4A33-4d7c-956F-536F86EF1F2B%7D.png" alt=""></li></ul><h3 id="4-缓存一致性"><a href="#4-缓存一致性" class="headerlink" title="4. 缓存一致性"></a>4. 缓存一致性</h3><p><strong>定义</strong>：缓存与数据库数据不一致。<br><strong>解决</strong>：</p><ul><li>先更新数据库，再删除缓存</li><li>使用异步消息队列延迟双删</li><li>关键业务可使用 Redisson 保证一致性</li></ul><hr><h2 id="七、相关技术对比"><a href="#七、相关技术对比" class="headerlink" title="七、相关技术对比"></a>七、相关技术对比</h2><div class="table-container"><table><thead><tr><th>技术</th><th>特点</th><th>使用场景</th></tr></thead><tbody><tr><td><strong>Redis</strong></td><td>内存存储，支持多数据结构，高性能</td><td>热点数据、高并发场景</td></tr><tr><td><strong>Memcached</strong></td><td>仅支持键值对，内存型缓存</td><td>简单高速缓存</td></tr><tr><td><strong>Ehcache</strong></td><td>本地缓存，嵌入式</td><td>单机项目、本地数据缓存</td></tr></tbody></table></div><hr><h2 id="八、总结与学习建议"><a href="#八、总结与学习建议" class="headerlink" title="八、总结与学习建议"></a>八、总结与学习建议</h2><p>Redis 是后端开发的重要基础组件，既是缓存系统，也是轻量级数据库、消息中间件。<br><strong>学习建议：</strong></p><ol><li>掌握 Redis 基础命令与数据结构。</li><li>熟悉 Java 客户端（Jedis、RedisTemplate、Redisson）。</li><li>理解主从复制、哨兵、集群的部署原理。</li><li>掌握缓存一致性与高可用策略。</li></ol><blockquote><p>Redis 学完后，可以继续学习 <strong>消息队列（RabbitMQ / Kafka）</strong> 与 <strong>分布式系统设计</strong>，为后续框架学习打下坚实基础。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Redis的实际应用及学习笔记&quot;&gt;&lt;a href=&quot;#Redis的实际应用及学习笔记&quot; class=&quot;headerlink&quot; title=&quot;Redis的实际应用及学习笔记&quot;&gt;&lt;/a&gt;Redis的实际应用及学习笔记&lt;/h1&gt;&lt;h2 id=&quot;一、Redis-基础与简介</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>Redis快速入门与简单介绍</title>
    <link href="https://db-hanty.github.io/posts/undefined.html"/>
    <id>https://db-hanty.github.io/posts/undefined.html</id>
    <published>2025-09-28T20:41:40.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis快速入门与简单介绍"><a href="#Redis快速入门与简单介绍" class="headerlink" title="Redis快速入门与简单介绍"></a>Redis快速入门与简单介绍</h1><p>Redis 是一个高性能的 <strong>键值型 NoSQL 数据库</strong>，广泛应用于缓存、消息队列、实时统计等高并发场景。本文将从基础概念、常用数据结构与命令、以及在 Java 中的使用方式三个方面，带你快速入门 Redis。</p><hr><h2 id="一、基础知识"><a href="#一、基础知识" class="headerlink" title="一、基础知识"></a>一、基础知识</h2><h3 id="1-NoSQL-概述"><a href="#1-NoSQL-概述" class="headerlink" title="1. NoSQL 概述"></a>1. NoSQL 概述</h3><p>传统的 SQL 数据库（关系型数据库）与 NoSQL（非关系型数据库）的区别如下：</p><div class="table-container"><table><thead><tr><th>特点</th><th>SQL（关系型）</th><th>NoSQL（非关系型）</th></tr></thead><tbody><tr><td>数据结构</td><td>结构化：表格结构</td><td>非结构化：键值对、JSON、图</td></tr><tr><td>数据关联</td><td>有关联</td><td>无关联</td></tr><tr><td>查询方式</td><td>SQL 查询</td><td>非 SQL 查询</td></tr><tr><td>事务特性</td><td>ACID</td><td>BASE</td></tr><tr><td>存储方式</td><td>磁盘</td><td>内存</td></tr><tr><td>扩展性</td><td>垂直扩展</td><td>水平扩展</td></tr><tr><td>使用场景</td><td>数据稳定、对一致性要求高</td><td>数据结构灵活、性能要求高</td></tr></tbody></table></div><h3 id="2-Redis-简介"><a href="#2-Redis-简介" class="headerlink" title="2. Redis 简介"></a>2. Redis 简介</h3><ul><li><strong>定义</strong>：基于内存的键值型 NoSQL 数据库  </li><li><strong>特性</strong>：  <ul><li>支持多种数据结构（String、Hash、List、Set、SortedSet）  </li><li>单线程模型，速度快（内存存储、IO 多路复用）  </li><li>支持持久化（RDB、AOF）  </li><li>支持主从复制、分片集群  </li></ul></li></ul><hr><h2 id="二、Redis-常用命令"><a href="#二、Redis-常用命令" class="headerlink" title="二、Redis 常用命令"></a>二、Redis 常用命令</h2><h3 id="1-通用命令"><a href="#1-通用命令" class="headerlink" title="1. 通用命令"></a>1. 通用命令</h3><ul><li><code>KEYS</code>：查看符合模板的所有 key（生产环境不推荐）  </li><li><code>DEL</code>：删除指定 key  </li><li><code>EXISTS</code>：判断 key 是否存在  </li><li><code>EXPIRE</code>：设置 key 的过期时间（单位：秒）  </li></ul><h3 id="2-String-类型"><a href="#2-String-类型" class="headerlink" title="2. String 类型"></a>2. String 类型</h3><ul><li><code>SET key value</code>：添加/修改  </li><li><code>GET key</code>：获取值  </li><li><code>MSET k1 v1 k2 v2</code>：批量添加  </li><li><code>MGET k1 k2</code>：批量获取  </li><li><code>INCR key</code>：整型值自增 1  </li><li><code>SETEX key seconds value</code>：设置值并设置过期时间  </li></ul><h3 id="3-Hash-类型"><a href="#3-Hash-类型" class="headerlink" title="3. Hash 类型"></a>3. Hash 类型</h3><ul><li><code>HSET key field value</code>：添加或修改  </li><li><code>HGET key field</code>：获取字段值  </li><li><code>HGETALL key</code>：获取所有字段和值  </li><li><code>HINCRBY key field n</code>：字段值自增  </li></ul><h3 id="4-List-类型"><a href="#4-List-类型" class="headerlink" title="4. List 类型"></a>4. List 类型</h3><ul><li><code>LPUSH key v1 v2</code>：左插入  </li><li><code>RPUSH key v1 v2</code>：右插入  </li><li><code>LPOP key</code>：移除左端元素  </li><li><code>RPOP key</code>：移除右端元素  </li><li><code>LRANGE key start end</code>：获取范围内元素  </li></ul><h3 id="5-Set-类型"><a href="#5-Set-类型" class="headerlink" title="5. Set 类型"></a>5. Set 类型</h3><ul><li><code>SADD key v1 v2</code>：添加元素  </li><li><code>SREM key v1</code>：删除元素  </li><li><code>SMEMBERS key</code>：查看所有元素  </li><li><code>SINTER key1 key2</code>：求交集  </li></ul><h3 id="6-SortedSet-类型"><a href="#6-SortedSet-类型" class="headerlink" title="6. SortedSet 类型"></a>6. SortedSet 类型</h3><ul><li><code>ZADD key score value</code>：添加元素  </li><li><code>ZRANGE key start end</code>：按分数排序取值  </li><li><code>ZINCRBY key n value</code>：增加分数  </li><li><code>ZUNION</code> / <code>ZINTER</code> / <code>ZDIFF</code>：并集、交集、差集  </li></ul><hr><h2 id="三、Redis-在-Java-中的使用"><a href="#三、Redis-在-Java-中的使用" class="headerlink" title="三、Redis 在 Java 中的使用"></a>三、Redis 在 Java 中的使用</h2><h3 id="1-使用-Jedis"><a href="#1-使用-Jedis" class="headerlink" title="1. 使用 Jedis"></a>1. 使用 Jedis</h3><p><strong>引入依赖</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>测试代码</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.85.130&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">jedis.select(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String 类型</span></span><br><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hash 类型</span></span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">jedis.hset(<span class="string">&quot;user:1&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;18&quot;</span>);</span><br><span class="line">System.out.println(jedis.hgetAll(<span class="string">&quot;user:1&quot;</span>));</span><br><span class="line"></span><br><span class="line">jedis.close();</span><br></pre></td></tr></table></figure><h3 id="2-使用-Spring-Data-Redis"><a href="#2-使用-Spring-Data-Redis" class="headerlink" title="2. 使用 Spring Data Redis"></a>2. 使用 Spring Data Redis</h3><p><strong>引入依赖</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置文件（application.yml）</strong>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.85</span><span class="number">.130</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">      <span class="attr">lettuce:</span></span><br><span class="line">        <span class="attr">pool:</span></span><br><span class="line">          <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">min-idle:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p><strong>测试代码</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    <span class="type">Object</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>Redis 作为一款高性能 NoSQL 数据库，凭借 <strong>高并发能力、丰富的数据结构、良好的生态</strong>，已经成为现代应用开发中的重要组件。通过本文的学习，你已经掌握了 Redis 的基本命令及其在 Java 项目中的快速使用方式。</p><blockquote><p>✅ 建议在实际项目中合理使用 Redis 作为 <strong>缓存层</strong>，避免直接替代关系型数据库。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Redis快速入门与简单介绍&quot;&gt;&lt;a href=&quot;#Redis快速入门与简单介绍&quot; class=&quot;headerlink&quot; title=&quot;Redis快速入门与简单介绍&quot;&gt;&lt;/a&gt;Redis快速入门与简单介绍&lt;/h1&gt;&lt;p&gt;Redis 是一个高性能的 &lt;strong&gt;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Redis" scheme="https://db-hanty.github.io/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>编曲教学之乐理</title>
    <link href="https://db-hanty.github.io/posts/18823607.html"/>
    <id>https://db-hanty.github.io/posts/18823607.html</id>
    <published>2025-09-22T21:30:19.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="编曲基础入门"><a href="#编曲基础入门" class="headerlink" title="编曲基础入门"></a>编曲基础入门</h1><p>编曲（Arrangement）是音乐创作中的关键环节，它不仅决定了歌曲的整体风格和氛围，还直接影响听众的感受。本文将从基础乐理、歌曲的元素和常见的歌曲结构三个方面，带你快速入门编曲的基本知识。</p><hr><h2 id="一、基础乐理"><a href="#一、基础乐理" class="headerlink" title="一、基础乐理"></a>一、基础乐理</h2><h3 id="1-音名与唱名"><a href="#1-音名与唱名" class="headerlink" title="1. 音名与唱名"></a>1. 音名与唱名</h3><p>音乐的基本音高用 <strong>音名</strong> 表示，例如 C、D、E、F、G、A、B；而<strong>唱名</strong> 则是我们常说的「哆、来、咪、发、索、拉、西」。</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B1386C79D-D909-4c74-AF7E-8CCE977CC4DE%7D.png" alt=""></p><h3 id="2-音程"><a href="#2-音程" class="headerlink" title="2. 音程"></a>2. 音程</h3><p>音程是指两个音之间的距离，通常用“度数”来表示。方法是：数两个音之间包含的 <strong>白键</strong> 数量。</p><h3 id="3-半音"><a href="#3-半音" class="headerlink" title="3. 半音"></a>3. 半音</h3><p>半音是音乐中最小的音程单位。常见音程举例：</p><ul><li>纯一度：0 半音</li><li>小二度：1 半音</li><li>大二度：2 半音</li><li>小三度：3 半音</li><li>大三度：4 半音</li></ul><h3 id="4-和弦"><a href="#4-和弦" class="headerlink" title="4. 和弦"></a>4. 和弦</h3><p>和弦是由三个或三个以上的音按照一定规则叠置而成。最基本的是三和弦，由「根音、三音、五音」组成：</p><ul><li><strong>大三和弦</strong>：C - E - G</li><li><strong>小三和弦</strong>：C - Eb - G</li><li><strong>减三和弦</strong>：C - Eb - Gb</li><li><strong>增三和弦</strong>：C - E - G#</li></ul><h3 id="5-调式与调性"><a href="#5-调式与调性" class="headerlink" title="5. 调式与调性"></a>5. 调式与调性</h3><ul><li><strong>大调式</strong>：全 - 全 - 半 - 全 - 全 - 全 - 半</li><li><strong>小调式</strong>：全 - 半 - 全 - 全 - 半 - 全 - 全</li></ul><p>调性 = 调式 + 主音，例如「C大调」表示主音是 C，采用大调式。</p><hr><h2 id="二、歌曲的基本元素"><a href="#二、歌曲的基本元素" class="headerlink" title="二、歌曲的基本元素"></a>二、歌曲的基本元素</h2><p>一首完整的歌曲通常由以下几个核心元素构成：</p><h3 id="1-节奏元素"><a href="#1-节奏元素" class="headerlink" title="1. 节奏元素"></a>1. 节奏元素</h3><p>节奏决定了歌曲的速度与律动，往往由鼓组或打击乐器来体现。它框定了整首歌的“脉搏”。</p><h3 id="2-和声元素"><a href="#2-和声元素" class="headerlink" title="2. 和声元素"></a>2. 和声元素</h3><p>和声决定了歌曲的音高层次。合理的和弦编排能让旋律更有张力。编曲时常用的小技巧：</p><blockquote><p>在和弦切换时，让根音、三音、五音的移动幅度尽量小，可以让歌曲更顺畅和自然。</p></blockquote><h3 id="3-旋律元素"><a href="#3-旋律元素" class="headerlink" title="3. 旋律元素"></a>3. 旋律元素</h3><p>旋律是歌曲的主体，也是听众最容易记住的部分。它通常由主唱或主乐器承担。</p><h3 id="4-低音元素"><a href="#4-低音元素" class="headerlink" title="4. 低音元素"></a>4. 低音元素</h3><p>低音增加厚重感和层次感，通常由 <strong>Bass</strong> 或低频乐器来完成。</p><hr><h2 id="三、歌曲的基本结构"><a href="#三、歌曲的基本结构" class="headerlink" title="三、歌曲的基本结构"></a>三、歌曲的基本结构</h2><p>流行歌曲常见的结构：</p><blockquote><p>前奏 → 主歌1 → 副歌1 → 间奏 → 主歌2 → 副歌2 → 尾奏</p></blockquote><p>核心逻辑：歌曲要有 <strong>层次感</strong>，在段落之间要有适当的变化。</p><h3 id="让歌曲更有层次感的方法："><a href="#让歌曲更有层次感的方法：" class="headerlink" title="让歌曲更有层次感的方法："></a>让歌曲更有层次感的方法：</h3><ol><li>在不同段落减少或改变乐器配置；</li><li>相同的乐器在不同段落改变写作方法，例如节奏、演奏方式。</li></ol><h3 id="前奏"><a href="#前奏" class="headerlink" title="前奏"></a>前奏</h3><p>前奏通常情绪比较平缓，可以只用旋律乐器，不必加入低音或强烈的节奏元素，让歌曲有逐步进入的感觉。</p><hr><h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>编曲的本质，是对歌曲元素的组合与层次安排。只要掌握了基本乐理（音程、和弦、调性），并理解节奏、和声、旋律、低音的作用，就能开始尝试简单的编曲。</p><blockquote><p>小建议：编曲时不要害怕尝试不同的声音组合，先准备好两个完全不同的乐段，再通过对比和过渡，逐步让作品拥有独特的层次感和完整度。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;编曲基础入门&quot;&gt;&lt;a href=&quot;#编曲基础入门&quot; class=&quot;headerlink&quot; title=&quot;编曲基础入门&quot;&gt;&lt;/a&gt;编曲基础入门&lt;/h1&gt;&lt;p&gt;编曲（Arrangement）是音乐创作中的关键环节，它不仅决定了歌曲的整体风格和氛围，还直接影响听众的感受</summary>
      
    
    
    
    <category term="艺术" scheme="https://db-hanty.github.io/categories/%E8%89%BA%E6%9C%AF/"/>
    
    
    <category term="音乐" scheme="https://db-hanty.github.io/tags/%E9%9F%B3%E4%B9%90/"/>
    
  </entry>
  
  <entry>
    <title>开发框架之JavaWeb下</title>
    <link href="https://db-hanty.github.io/posts/a8603297.html"/>
    <id>https://db-hanty.github.io/posts/a8603297.html</id>
    <published>2025-09-17T20:09:08.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="开发框架之JavaWeb下"><a href="#开发框架之JavaWeb下" class="headerlink" title="开发框架之JavaWeb下"></a>开发框架之JavaWeb下</h1><h2 id="JSP-与-JSTL"><a href="#JSP-与-JSTL" class="headerlink" title="JSP 与 JSTL"></a>JSP 与 JSTL</h2><h3 id="JSP（Java-Server-Pages）"><a href="#JSP（Java-Server-Pages）" class="headerlink" title="JSP（Java Server Pages）"></a>JSP（Java Server Pages）</h3><ul><li><strong>定义</strong>：JSP 是一种动态网页开发技术，允许在 HTML 中直接嵌入 Java 代码。</li><li><strong>运行原理</strong>：JSP 页面在服务器端会被 <strong>编译成 Servlet</strong>，然后由服务器执行生成最终的 HTML 页面返回给客户端。</li><li><strong>特点</strong>：简化了动态页面开发，不必在 Servlet 中写大量的 <code>out.println()</code>。</li></ul><h3 id="JSTL（Java-Standard-Tag-Library）"><a href="#JSTL（Java-Standard-Tag-Library）" class="headerlink" title="JSTL（Java Standard Tag Library）"></a>JSTL（Java Standard Tag Library）</h3><ul><li><strong>定义</strong>：JSTL 是 JSP 标准标签库，用来代替 JSP 页面中冗余的 Java 代码。</li><li><strong>作用</strong>：<ol><li>提供标准化标签，简化 JSP 开发。</li><li>使 JSP 页面更接近 HTML，降低前端人员理解成本。</li></ol></li><li><strong>常用标签库</strong>：<ul><li>核心标签库（逻辑判断、循环）</li><li>格式化标签库（国际化、本地化）</li><li>SQL 标签库（数据库操作，实际开发中很少用）</li></ul></li></ul><hr><h2 id="会话管理（Cookie-amp-Session）"><a href="#会话管理（Cookie-amp-Session）" class="headerlink" title="会话管理（Cookie&amp;Session）"></a>会话管理（Cookie&amp;Session）</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>会话管理的核心作用是：<strong>记录用户状态和交互过程</strong>。由于 HTTP 协议是无状态的，因此需要额外机制来跟踪用户。</p><h3 id="实现手段"><a href="#实现手段" class="headerlink" title="实现手段"></a>实现手段</h3><div class="table-container"><table><thead><tr><th>技术</th><th>描述</th></tr></thead><tbody><tr><td><strong>Cookie</strong></td><td>保存在客户端的小型数据文件，通过响应头写入浏览器。</td></tr><tr><td><strong>Session</strong></td><td>保存在服务器端的会话对象，依赖 Cookie 中的 SessionID 进行识别。</td></tr></tbody></table></div><blockquote><p>实际开发中，常常结合使用 Cookie 和 Session。</p></blockquote><hr><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><ol><li><strong>原理</strong>：服务器通过 <code>Set-Cookie</code> 响应头告诉浏览器保存数据，后续请求中浏览器会自动携带 Cookie。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>存储形式</strong>：键值对。</li><li><strong>分类</strong>：<ul><li><strong>会话级 Cookie</strong>：存在于浏览器内存，关闭浏览器即失效。</li><li><strong>持久化 Cookie</strong>：保存到硬盘，直到过期时间才会失效。</li></ul></li><li><strong>路径控制</strong>：通过 <code>setPath</code> 设置 Cookie 的生效路径。</li></ol><hr><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><ol><li><strong>原理</strong>：服务器创建 HttpSession 对象，生成一个唯一的 SessionID，通过 Cookie（或 URL 重写）在客户端与服务器之间传递。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B47D9871D-3225-4bbe-8DB5-1E6A9D9EFE0C%7D.png" alt=""></li><li><strong>作用</strong>：<ul><li>保存用户登录状态。</li><li>记录用户的操作历史。</li></ul></li><li><strong>默认时效性</strong>：30 分钟（可在 <code>web.xml</code> 中修改）。</li><li><strong>特点</strong>：安全性高，数据保存在服务器端，但会占用服务器内存。</li></ol><hr><h2 id="三大域对象"><a href="#三大域对象" class="headerlink" title="三大域对象"></a>三大域对象</h2><p>域对象是 <strong>存储和传递数据</strong> 的容器，根据作用范围划分：</p><div class="table-container"><table><thead><tr><th>域对象</th><th>类型</th><th>范围</th></tr></thead><tbody><tr><td>请求域</td><td>HttpServletRequest</td><td>一次请求内有效（包括请求转发）</td></tr><tr><td>会话域</td><td>HttpSession</td><td>一次会话范围内有效（多个请求之间共享）</td></tr><tr><td>应用域</td><td>ServletContext</td><td>整个应用范围内有效（所有用户、所有请求共享）</td></tr></tbody></table></div><ul><li>请求域：适合存储临时数据，如表单校验结果。</li><li>会话域：适合存储用户级数据，如登录信息。</li><li>应用域：适合存储全局配置数据，如网站访问统计。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B4FBF80C6-77AE-4d79-A4AA-E32DDD074FCE%7D.png" alt=""></li></ul><hr><h2 id="MVC-架构模式"><a href="#MVC-架构模式" class="headerlink" title="MVC 架构模式"></a>MVC 架构模式</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>MVC（Model-View-Controller）是一种经典的软件架构模式，将系统分为三层，做到 <strong>关注点分离</strong>：</p><ul><li><strong>M（Model 模型层）</strong><ul><li>负责业务逻辑和数据操作。</li><li>包含实体类（Entity）、数据传输对象（VO/DTO）、业务处理类（Service）。</li></ul></li><li><strong>V（View 视图层）</strong><ul><li>负责界面展示，使用 HTML、CSS、JS、JSP 等技术。</li><li>在前后端分离的项目中，视图层独立为前端工程。</li></ul></li><li><strong>C（Controller 控制层）</strong><ul><li>接收客户端请求，调用业务逻辑，返回结果。</li><li>典型实现：Servlet、SpringMVC 控制器。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC66DBBCF-19D1-4445-BA18-C8BE5261421D%7D.png" alt=""></li></ul></li></ul><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol><li>降低耦合度，提高可维护性。</li><li>结构清晰，便于分工协作。</li><li>便于升级到更复杂的框架（如 Spring、SpringMVC）。</li></ol><hr><h2 id="JavaWeb-总结与学习建议"><a href="#JavaWeb-总结与学习建议" class="headerlink" title="JavaWeb 总结与学习建议"></a>JavaWeb 总结与学习建议</h2><p>JavaWeb 是 <strong>Java 开发的入门框架</strong>，其核心是掌握以下内容：</p><ol><li><strong>基础概念</strong>：Servlet、JSP、JSTL、三大域对象。</li><li><strong>会话管理</strong>：理解 Cookie 与 Session 的区别和应用场景。</li><li><strong>MVC 模式</strong>：掌握分层思想，为后续学习 SpringMVC、Spring Boot 打下基础。</li><li><strong>配置文件</strong>：熟悉 XML、properties、YAML 等常见配置方式。</li></ol><h3 id="学习建议"><a href="#学习建议" class="headerlink" title="学习建议"></a>学习建议</h3><ul><li><strong>建议快速过一遍即可</strong>，掌握核心思想和基本用法。</li><li>不必过分深入 JSP，因为现在主流项目普遍采用 <strong>前后端分离</strong>，JSP 使用场景越来越少。</li><li><strong>重点理解 Servlet、Session、MVC</strong>，这些是后续学习 Spring 系列框架的基石。</li><li>建议在学习过程中 <strong>写一些小项目</strong>（如登录系统、留言板），用实际案例加深理解。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;开发框架之JavaWeb下&quot;&gt;&lt;a href=&quot;#开发框架之JavaWeb下&quot; class=&quot;headerlink&quot; title=&quot;开发框架之JavaWeb下&quot;&gt;&lt;/a&gt;开发框架之JavaWeb下&lt;/h1&gt;&lt;h2 id=&quot;JSP-与-JSTL&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="开发框架" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>开发框架之JavaWeb上</title>
    <link href="https://db-hanty.github.io/posts/df670201.html"/>
    <id>https://db-hanty.github.io/posts/df670201.html</id>
    <published>2025-09-17T19:46:09.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="开发框架之-JavaWeb"><a href="#开发框架之-JavaWeb" class="headerlink" title="开发框架之 JavaWeb"></a>开发框架之 JavaWeb</h1><p>JavaWeb 是基于 Java 技术开发 Web 应用的一整套解决方案。它涵盖了从数据交换格式到服务端组件，再到请求处理和事件监听的一系列核心知识。本文将结合常见的开发要点，对 JavaWeb 的主要技术进行梳理。</p><hr><h2 id="一、XML"><a href="#一、XML" class="headerlink" title="一、XML"></a>一、XML</h2><p>💡 <strong>介绍</strong>：XML（eXtensible Markup Language，可扩展标记语言）是一种标记语言。<br><strong>主要用途</strong>：常用于配置文件。</p><h3 id="常见的配置文件类型"><a href="#常见的配置文件类型" class="headerlink" title="常见的配置文件类型"></a>常见的配置文件类型</h3><ol><li><strong>properties 文件</strong>：如 Druid 数据库连接池的配置。  </li><li><strong>XML 文件</strong>：如 Tomcat 的配置文件。  </li><li><strong>YAML 文件</strong>：如 SpringBoot 的配置文件。  </li><li><strong>JSON 文件</strong>：通常用来做数据传输。</li></ol><h3 id="XML-基本格式"><a href="#XML-基本格式" class="headerlink" title="XML 基本格式"></a>XML 基本格式</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dev</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>root<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dev</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>特点：</strong></p><ol><li>根标签只有一个。  </li><li>第一行必须是 <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</code>。  </li><li>XML 约束（DTD/Schema）用于限定 XML 内容能编写的结构和内容。</li></ol><hr><h2 id="二、JSON"><a href="#二、JSON" class="headerlink" title="二、JSON"></a>二、JSON</h2><p>💡 <strong>介绍</strong>：JSON（JavaScript Object Notation）是一种轻量级的数据交换格式。<br>特点：可读性强，格式简单，广泛用于前后端数据交互。</p><p><strong>示意图：</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BA3040115-05FE-4e6f-A220-8CE218CC3805%7D.png" alt=""></p><p><strong>示例：</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;root&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="三、Servlet"><a href="#三、Servlet" class="headerlink" title="三、Servlet"></a>三、Servlet</h2><h3 id="1-动态资源与静态资源"><a href="#1-动态资源与静态资源" class="headerlink" title="1. 动态资源与静态资源"></a>1. 动态资源与静态资源</h3><ul><li><p><strong>静态资源</strong>：无需运行时通过代码生成的资源，例如 HTML、CSS、JS、图片。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7B7F89A94D-1396-4289-92EC-DD3CE3EDC489%7D.png" alt=""></p></li><li><p><strong>动态资源</strong>：运行时通过代码生成的资源，例如 Servlet。<br><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BC92EA9AA-C926-4ad2-ABF7-36DE2C4E0A27%7D.png" alt=""></p><blockquote><p>注意：这里的“动态”并不是指前端动画或交互效果，而是后端生成内容的过程。</p></blockquote></li></ul><h3 id="2-Servlet-简介"><a href="#2-Servlet-简介" class="headerlink" title="2. Servlet 简介"></a>2. Servlet 简介</h3><ul><li>Servlet 是运行在服务端的 Java 小程序。  </li><li>从代码层面看，Servlet 是一个接口，需要由开发者实现。</li></ul><h3 id="3-Servlet-开发流程"><a href="#3-Servlet-开发流程" class="headerlink" title="3. Servlet 开发流程"></a>3. Servlet 开发流程</h3><ol><li>创建 JavaWeb 项目，将 Tomcat 添加到依赖。  </li><li>编写 Servlet 类，重写 <code>service</code> 方法：  <ul><li>从 <code>request</code> 对象中获取请求信息。  </li><li>编写业务逻辑代码。  </li><li>将响应数据放入 <code>response</code> 对象。  </li><li>在返回数据前设置响应头（Content-Type）。  </li></ul></li></ol><h3 id="4-在-web-xml-中配置-Servlet"><a href="#4-在-web-xml-中配置-Servlet" class="headerlink" title="4. 在 web.xml 中配置 Servlet"></a>4. 在 web.xml 中配置 Servlet</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.demo.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>servlet-class</strong>：告诉 Tomcat 要实例化的 Servlet。  </li><li><strong>url-pattern</strong>：配置请求的映射路径。  </li></ul><h3 id="5-常见问题"><a href="#5-常见问题" class="headerlink" title="5. 常见问题"></a>5. 常见问题</h3><ul><li><strong>Content-Type</strong>：静态资源由 Tomcat 自动配置；动态资源需手动设置。  </li><li><strong>url-pattern</strong>：  <ul><li>精准匹配：如 <code>/Servlet01</code>。  </li><li>模糊匹配：如 <code>/*</code>（了解即可）。  </li></ul></li></ul><h3 id="6-注解方式配置-Servlet"><a href="#6-注解方式配置-Servlet" class="headerlink" title="6. 注解方式配置 Servlet"></a>6. 注解方式配置 Servlet</h3><p>使用 <code>@WebServlet</code> 简化配置：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;Hello, JavaWeb!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-Servlet-生命周期"><a href="#7-Servlet-生命周期" class="headerlink" title="7. Servlet 生命周期"></a>7. Servlet 生命周期</h3><ol><li><strong>实例化</strong>：调用构造方法。  </li><li><strong>初始化</strong>：调用 <code>init()</code> 方法。  </li><li><strong>处理请求</strong>：调用 <code>service()</code> 方法。  </li><li><strong>销毁</strong>：调用 <code>destroy()</code> 方法。  </li></ol><h3 id="8-常用-API"><a href="#8-常用-API" class="headerlink" title="8. 常用 API"></a>8. 常用 API</h3><ul><li><strong>ServletConfig</strong>：为某个 Servlet 提供配置参数（多例）。  </li><li><strong>ServletContext</strong>：  <ol><li>为所有 Servlet 提供共享的配置参数（单例）。  </li><li>获取文件路径和上下文信息。  </li><li>作为域对象存取数据。  </li></ol></li></ul><h3 id="9-HttpServletRequest"><a href="#9-HttpServletRequest" class="headerlink" title="9. HttpServletRequest"></a>9. HttpServletRequest</h3><ul><li>由 Tomcat 将请求报文转换并封装而来。  </li><li>代表客户端发来的请求，所有请求信息都可通过该对象获得。  </li></ul><p><strong>示意图</strong><br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%7BEA57A048-04B0-4f93-9FA6-4FB179B21CC5%7D.png" alt=""></p><h3 id="10-HttpServletResponse"><a href="#10-HttpServletResponse" class="headerlink" title="10. HttpServletResponse"></a>10. HttpServletResponse</h3><ul><li>由 Tomcat 将响应报文转换并封装而来。  </li><li>代表服务端发出的响应，可设置响应头、响应体等信息。  </li></ul><hr><h2 id="四、Filter（过滤器）"><a href="#四、Filter（过滤器）" class="headerlink" title="四、Filter（过滤器）"></a>四、Filter（过滤器）</h2><h3 id="1-作用"><a href="#1-作用" class="headerlink" title="1. 作用"></a>1. 作用</h3><ul><li>在 Servlet 执行前后，对请求和响应进行拦截和处理。  </li><li>常见应用场景：权限校验、编码设置、日志记录等。  </li></ul><h3 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2. 生命周期"></a>2. 生命周期</h3><p>与 Servlet 类似，但没有 <code>load-on-startup</code>。</p><h3 id="3-过滤器链"><a href="#3-过滤器链" class="headerlink" title="3. 过滤器链"></a>3. 过滤器链</h3><ul><li>多个过滤器可依次对同一资源进行过滤。  </li><li>顺序由 <code>filter-mapping</code> 配置决定。  </li><li>使用 Servlet name 进行匹配时，优先级较低。  </li></ul><p><strong>示意：</strong></p><p>客户端请求 → Filter1 → Filter2 → Servlet → Filter2 → Filter1 → 响应返回客户端  </p><h3 id="4-注解方式配置"><a href="#4-注解方式配置" class="headerlink" title="4. 注解方式配置"></a>4. 注解方式配置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(filterName=&quot;logFilter&quot;, urlPatterns=&quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">        <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求开始...&quot;</span>);</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">        System.out.println(<span class="string">&quot;响应结束...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="五、Listener（监听器）"><a href="#五、Listener（监听器）" class="headerlink" title="五、Listener（监听器）"></a>五、Listener（监听器）</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><p>监听器类似于 JavaScript 中的事件监听器。<br>💡 <strong>作用</strong>：用于监听域对象（Application、Session、Request）身上发生的事件或状态变化，并作出响应。</p><h3 id="2-分类"><a href="#2-分类" class="headerlink" title="2. 分类"></a>2. 分类</h3><ul><li><strong>Application 监听器</strong>：监听应用上下文的创建和销毁。  </li><li><strong>Session 监听器</strong>：监听 Session 的创建、销毁以及属性变化。  </li><li><strong>Request 监听器</strong>：监听请求对象的创建和销毁。  </li></ul><h3 id="3-钝化与活化监听器"><a href="#3-钝化与活化监听器" class="headerlink" title="3. 钝化与活化监听器"></a>3. 钝化与活化监听器</h3><ul><li><strong>钝化</strong>：服务器关闭时，将 Session 对象序列化保存到磁盘。  </li><li><strong>活化</strong>：服务器重启或再次获取 Session 时，从磁盘反序列化恢复到内存。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>JavaWeb 是 Java 开发 Web 应用的基础，掌握其核心组件（Servlet、Filter、Listener），理解请求与响应的生命周期，对后续学习 Spring MVC、Spring Boot 等框架具有重要意义。<br>随着现代框架的普及，Servlet 等技术逐渐隐藏在更高层的框架之下，但理解其本质仍然是每一位 Java 开发者的必修课。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;开发框架之-JavaWeb&quot;&gt;&lt;a href=&quot;#开发框架之-JavaWeb&quot; class=&quot;headerlink&quot; title=&quot;开发框架之 JavaWeb&quot;&gt;&lt;/a&gt;开发框架之 JavaWeb&lt;/h1&gt;&lt;p&gt;JavaWeb 是基于 Java 技术开发 Web </summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="开发框架" scheme="https://db-hanty.github.io/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>使用git在GitHub上快速部署项目</title>
    <link href="https://db-hanty.github.io/posts/6efdc0e0.html"/>
    <id>https://db-hanty.github.io/posts/6efdc0e0.html</id>
    <published>2025-09-10T19:29:48.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用git在GitHub上快速部署项目"><a href="#使用git在GitHub上快速部署项目" class="headerlink" title="使用git在GitHub上快速部署项目"></a>使用git在GitHub上快速部署项目</h1><p>Github网址：<a href="https://github.com/">text</a></p><h2 id="一、创建GitHub仓库"><a href="#一、创建GitHub仓库" class="headerlink" title="一、创建GitHub仓库"></a>一、创建GitHub仓库</h2><p>点击创建<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193318.png" alt=""></p><p>创建仓库界面<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20193751.png" alt=""></p><h2 id="二、打开项目终端或者通过git-bash打开项目"><a href="#二、打开项目终端或者通过git-bash打开项目" class="headerlink" title="二、打开项目终端或者通过git bash打开项目"></a>二、打开项目终端或者通过git bash打开项目</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194017.png" alt=""></p><h2 id="三、创建git仓库"><a href="#三、创建git仓库" class="headerlink" title="三、创建git仓库"></a>三、创建git仓库</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h2 id="四、将所有文件添加到仓库中"><a href="#四、将所有文件添加到仓库中" class="headerlink" title="四、将所有文件添加到仓库中"></a>四、将所有文件添加到仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><h2 id="五、提交所有文件到仓库中"><a href="#五、提交所有文件到仓库中" class="headerlink" title="五、提交所有文件到仓库中"></a>五、提交所有文件到仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;commit&quot;</span></span><br></pre></td></tr></table></figure><h2 id="六、将仓库与GitHub仓库关联"><a href="#六、将仓库与GitHub仓库关联" class="headerlink" title="六、将仓库与GitHub仓库关联"></a>六、将仓库与GitHub仓库关联</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin + ssh</span><br></pre></td></tr></table></figure><p>⚠️<code>ssh</code>为GitHub仓库的ssh地址</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20194714.png" alt=""></p><h2 id="七、将仓库推送到GitHub仓库中"><a href="#七、将仓库推送到GitHub仓库中" class="headerlink" title="七、将仓库推送到GitHub仓库中"></a>七、将仓库推送到GitHub仓库中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>⚠️注意文件夹必须有文件否则会报错<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: failed to push some refs to <span class="string">&#x27;github.com:DB-HanTy/demo01.git&#x27;</span></span><br></pre></td></tr></table></figure><br>⚠️推送到master分支</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-09-10%20195301.png" alt=""></p><h1 id="恭喜，项目已成功部署到GitHub仓库中！"><a href="#恭喜，项目已成功部署到GitHub仓库中！" class="headerlink" title="恭喜，项目已成功部署到GitHub仓库中！"></a>恭喜，项目已成功部署到GitHub仓库中！</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用git在GitHub上快速部署项目&quot;&gt;&lt;a href=&quot;#使用git在GitHub上快速部署项目&quot; class=&quot;headerlink&quot; title=&quot;使用git在GitHub上快速部署项目&quot;&gt;&lt;/a&gt;使用git在GitHub上快速部署项目&lt;/h1&gt;&lt;p&gt;Gi</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="工具" scheme="https://db-hanty.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>外观模式</title>
    <link href="https://db-hanty.github.io/posts/f7de8aa8.html"/>
    <id>https://db-hanty.github.io/posts/f7de8aa8.html</id>
    <published>2025-09-08T20:38:06.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="外观模式（Facade-Pattern）"><a href="#外观模式（Facade-Pattern）" class="headerlink" title="外观模式（Facade Pattern）"></a>外观模式（Facade Pattern）</h1><p>在设计模式中，<strong>外观模式</strong>（Facade Pattern）是一种结构型模式。它为复杂子系统提供一个统一的高层次接口，简化了客户端的使用方式，并隐藏了系统的内部实现细节。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：通过一个统一的接口与子系统交互，降低客户端的复杂性，使得系统更易于使用。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在软件系统中，子系统可能包含多个复杂的模块和接口，客户端如果直接与这些模块交互，会导致以下问题：  </p><ul><li>客户端与子系统高度耦合。  </li><li>客户端代码复杂，难以维护。  </li></ul><p>外观模式通过引入一个外观类（Facade），将复杂的子系统调用进行封装，向外部暴露简单的接口，从而解决上述问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ol><li><strong>减少依赖</strong>：客户端只依赖外观类，降低了与子系统的耦合。  </li><li><strong>提高灵活性</strong>：子系统内部变化不会影响客户端。  </li><li><strong>增强安全性</strong>：对外隐藏了子系统的实现细节，只提供必要的接口。  </li></ol><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>违反开闭原则</strong>：当子系统需要修改时，可能需要同时修改外观类，降低了扩展性。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面用 Java 演示外观模式的实现。</p><h3 id="接口及其实现类"><a href="#接口及其实现类" class="headerlink" title="接口及其实现类"></a>接口及其实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Rectangle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Square::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Circle::draw()&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="外观类"><a href="#外观类" class="headerlink" title="外观类"></a>外观类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeMaker</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> Shape circle;</span><br><span class="line">   <span class="keyword">private</span> Shape rectangle;</span><br><span class="line">   <span class="keyword">private</span> Shape square;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ShapeMaker</span><span class="params">()</span> &#123;</span><br><span class="line">      circle = <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">      rectangle = <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line">      square = <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawCircle</span><span class="params">()</span>&#123;</span><br><span class="line">      circle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawRectangle</span><span class="params">()</span>&#123;</span><br><span class="line">      rectangle.draw();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawSquare</span><span class="params">()</span>&#123;</span><br><span class="line">      square.draw();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FacadePatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">ShapeMaker</span> <span class="variable">shapeMaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShapeMaker</span>();</span><br><span class="line"> </span><br><span class="line">      shapeMaker.drawCircle();</span><br><span class="line">      shapeMaker.drawRectangle();</span><br><span class="line">      shapeMaker.drawSquare();      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Circle::draw()</span><br><span class="line">Rectangle::draw()</span><br><span class="line">Square::draw()</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>Java 三层架构</strong>：在表示层、业务逻辑层和数据访问层之间，通过外观模式提供统一接口，简化各层的访问。  </li><li><strong>图形库</strong>：通过外观类封装多个图形对象的绘制接口，客户端只需调用外观类即可操作复杂图形系统。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>外观模式的本质是 <strong>为复杂子系统提供一个简单的接口</strong>：  </p><ul><li>适用于需要简化客户端调用的场景。  </li><li>通过解耦降低了系统复杂性。  </li><li>但在扩展性上需要权衡，因为外观类的修改可能涉及子系统的调整。  </li></ul><p>合理使用外观模式，能让系统在保持灵活性的同时，提高可用性和可维护性。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;外观模式（Facade-Pattern）&quot;&gt;&lt;a href=&quot;#外观模式（Facade-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;外观模式（Facade Pattern）&quot;&gt;&lt;/a&gt;外观模式（Facade Pattern）&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>观察者模式</title>
    <link href="https://db-hanty.github.io/posts/9a246216.html"/>
    <id>https://db-hanty.github.io/posts/9a246216.html</id>
    <published>2025-09-08T20:20:46.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="观察者模式（Observer-Pattern）"><a href="#观察者模式（Observer-Pattern）" class="headerlink" title="观察者模式（Observer Pattern）"></a>观察者模式（Observer Pattern）</h1><p>在设计模式中，<strong>观察者模式</strong>（Observer Pattern）是一种行为型模式。它定义了一种对象间的一对多依赖关系，当一个对象（主题/被观察者）的状态发生改变时，所有依赖它的对象（观察者）都会自动收到通知并更新。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：一个对象状态变化时，自动通知其他依赖它的对象，保持对象间的低耦合和高协作性。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在软件开发中，经常会遇到这样的问题：<br>当一个对象的状态发生变化时，如何让依赖它的其他对象自动感知并响应，而不需要两者紧密耦合？  </p><p>例如：  </p><ul><li>图形界面中，数据模型更新后，多个视图需要自动刷新。  </li><li>消息系统中，一个事件发生时，多个监听器需要收到通知。  </li></ul><p>观察者模式就是为了解决这种 <strong>一对多的通知机制</strong>。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>抽象耦合</strong>：主题和观察者通过抽象接口依赖，解耦明显。  </li><li><strong>触发机制</strong>：当主题状态发生变化时，会自动触发通知机制。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>性能问题</strong>：如果观察者数量过多，通知会带来性能消耗。  </li><li><strong>循环依赖</strong>：不当使用可能导致循环调用，甚至系统崩溃。  </li><li><strong>缺乏变化详情</strong>：观察者只知道主题发生了变化，但不一定知道具体变化了什么。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面用 Java 演示观察者模式的实现。</p><h3 id="主题类（被观察对象）"><a href="#主题类（被观察对象）" class="headerlink" title="主题类（被观察对象）"></a>主题类（被观察对象）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Observer&gt;();</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> state;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(<span class="type">int</span> state)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.state = state;</span><br><span class="line">      notifyAllObservers();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attach</span><span class="params">(Observer observer)</span>&#123;</span><br><span class="line">      observers.add(observer);      </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyAllObservers</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">         observer.update();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="抽象观察者类"><a href="#抽象观察者类" class="headerlink" title="抽象观察者类"></a>抽象观察者类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">   <span class="keyword">protected</span> Subject subject;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="具体观察者类"><a href="#具体观察者类" class="headerlink" title="具体观察者类"></a>具体观察者类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">BinaryObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Binary String: &quot;</span> </span><br><span class="line">         + Integer.toBinaryString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OctalObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">OctalObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Octal String: &quot;</span> </span><br><span class="line">         + Integer.toOctalString(subject.getState()));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HexaObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">HexaObserver</span><span class="params">(Subject subject)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.subject = subject;</span><br><span class="line">      <span class="built_in">this</span>.subject.attach(<span class="built_in">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Hex String: &quot;</span> </span><br><span class="line">         + Integer.toHexString(subject.getState()).toUpperCase());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObserverPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">HexaObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">OctalObserver</span>(subject);</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">BinaryObserver</span>(subject);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;First state change: 15&quot;</span>);   </span><br><span class="line">      subject.setState(<span class="number">15</span>);</span><br><span class="line"> </span><br><span class="line">      System.out.println(<span class="string">&quot;Second state change: 10&quot;</span>);  </span><br><span class="line">      subject.setState(<span class="number">10</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">First state change: 15</span><br><span class="line">Hex String: F</span><br><span class="line">Octal String: 17</span><br><span class="line">Binary String: 1111</span><br><span class="line"></span><br><span class="line">Second state change: 10</span><br><span class="line">Hex String: A</span><br><span class="line">Octal String: 12</span><br><span class="line">Binary String: 1010</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用场景"><a href="#实际应用场景" class="headerlink" title="实际应用场景"></a>实际应用场景</h2><ul><li><strong>GUI 系统</strong>：按钮点击事件通知多个监听器。  </li><li><strong>订阅-发布系统</strong>：例如消息队列中的订阅机制。  </li><li><strong>分布式系统</strong>：当节点状态发生变化时，自动通知其他节点同步。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>观察者模式是一种非常常用的设计模式，它解决了对象间的通知和依赖问题。  </p><ul><li>它降低了对象之间的耦合度。  </li><li>提供了一种灵活的触发机制。  </li><li>但在使用时需要注意性能和循环依赖问题。  </li></ul><p>理解并灵活运用观察者模式，有助于我们在开发中实现更清晰、更可扩展的系统架构。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;观察者模式（Observer-Pattern）&quot;&gt;&lt;a href=&quot;#观察者模式（Observer-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;观察者模式（Observer Pattern）&quot;&gt;&lt;/a&gt;观察者模式（Observer Pa</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>适配器模式</title>
    <link href="https://db-hanty.github.io/posts/f5c535ea.html"/>
    <id>https://db-hanty.github.io/posts/f5c535ea.html</id>
    <published>2025-09-06T15:20:48.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="适配器模式（Adapter-Pattern）"><a href="#适配器模式（Adapter-Pattern）" class="headerlink" title="适配器模式（Adapter Pattern）"></a>适配器模式（Adapter Pattern）</h1><p>在设计模式中，<strong>适配器模式</strong>（Adapter Pattern）是一种结构型模式。它的核心思想是通过一个中间件（适配器），将一个类的接口转换为客户端期望的接口，从而让原本接口不兼容的类可以协同工作。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：通过适配器，将原有类的接口转换成客户端需要的另一种接口，从而实现兼容。</p></blockquote><p>这使得我们能够在不修改原有类的情况下，将其融入新的环境中。</p><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在实际开发中，我们经常遇到这样的场景：已有的类功能很好，但其接口与当前系统的要求不一致。如果直接修改原有类，既破坏了封闭原则，又可能影响已有代码的稳定性。<br>此时引入 <strong>适配器模式</strong>，在中间增加一个“适配器”，即可解决接口不兼容的问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>促进协作</strong>：即使类之间没有直接关系，也能通过适配器协同工作。  </li><li><strong>提高复用性</strong>：原有类无需修改即可被复用。  </li><li><strong>增强透明性</strong>：客户端调用时无感知，保持接口一致性。  </li><li><strong>灵活性高</strong>：可以灵活地适配多种不同接口。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>结构可能复杂</strong>：过度使用适配器可能导致系统结构混乱。  </li><li><strong>Java 的局限</strong>：由于 Java 只能单继承，一个适配器类通常只能适配一个类。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面通过一个多媒体播放器的例子，来演示适配器模式的实现。</p><h3 id="定义接口"><a href="#定义接口" class="headerlink" title="定义接口"></a>定义接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AdvancedMediaPlayer</span> &#123; </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="高级播放器的实现类"><a href="#高级播放器的实现类" class="headerlink" title="高级播放器的实现类"></a>高级播放器的实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VlcPlayer</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing vlc file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// 什么也不做</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Mp4Player</span> <span class="keyword">implements</span> <span class="title class_">AdvancedMediaPlayer</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playVlc</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      <span class="comment">// 什么也不做</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playMp4</span><span class="params">(String fileName)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Playing mp4 file. Name: &quot;</span> + fileName);      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="适配器类"><a href="#适配器类" class="headerlink" title="适配器类"></a>适配器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MediaAdapter</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   AdvancedMediaPlayer advancedMusicPlayer;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">MediaAdapter</span><span class="params">(String audioType)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">VlcPlayer</span>();       </span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer = <span class="keyword">new</span> <span class="title class_">Mp4Player</span>();</span><br><span class="line">      &#125;  </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playVlc(fileName);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         advancedMusicPlayer.playMp4(fileName);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="音频播放器类（客户端）"><a href="#音频播放器类（客户端）" class="headerlink" title="音频播放器类（客户端）"></a>音频播放器类（客户端）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AudioPlayer</span> <span class="keyword">implements</span> <span class="title class_">MediaPlayer</span> &#123;</span><br><span class="line">   MediaAdapter mediaAdapter; </span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String audioType, String fileName)</span> &#123;    </span><br><span class="line">      <span class="comment">// 播放 mp3 音乐文件的内置支持</span></span><br><span class="line">      <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;mp3&quot;</span>))&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Playing mp3 file. Name: &quot;</span> + fileName);         </span><br><span class="line">      &#125; </span><br><span class="line">      <span class="comment">// 使用适配器播放其他格式</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(audioType.equalsIgnoreCase(<span class="string">&quot;vlc&quot;</span>) || audioType.equalsIgnoreCase(<span class="string">&quot;mp4&quot;</span>))&#123;</span><br><span class="line">         mediaAdapter = <span class="keyword">new</span> <span class="title class_">MediaAdapter</span>(audioType);</span><br><span class="line">         mediaAdapter.play(audioType, fileName);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Invalid media. &quot;</span> + audioType + <span class="string">&quot; format not supported&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdapterPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AudioPlayer</span> <span class="variable">audioPlayer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AudioPlayer</span>();</span><br><span class="line"> </span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp3&quot;</span>, <span class="string">&quot;beyond the horizon.mp3&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;mp4&quot;</span>, <span class="string">&quot;alone.mp4&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;vlc&quot;</span>, <span class="string">&quot;far far away.vlc&quot;</span>);</span><br><span class="line">      audioPlayer.play(<span class="string">&quot;avi&quot;</span>, <span class="string">&quot;mind me.avi&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Playing mp3 file. Name: beyond the horizon.mp3</span><br><span class="line">Playing mp4 file. Name: alone.mp4</span><br><span class="line">Playing vlc file. Name: far far away.vlc</span><br><span class="line">Invalid media. avi format not supported</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>电源适配器</strong>：笔记本电脑电源适配器，将 220V 转换为可用电压。  </li><li><strong>Java IO 类库</strong>：<code>InputStreamReader</code> 就是典型的适配器模式，用于将字节流转换为字符流。  </li><li><strong>第三方库整合</strong>：通过适配器将第三方 API 与现有系统对接。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>适配器模式通过在中间增加一个“适配器”，使接口不兼容的类能够协同工作，既避免了对原有类的修改，又保证了系统的灵活性和扩展性。  </p><p><strong>适用场景</strong>：  </p><ul><li>系统需要复用一些现有类，但其接口与新系统不匹配。  </li><li>需要统一多个不同接口的类。  </li><li>集成第三方库时需要做接口转换。  </li></ul><p>掌握适配器模式，有助于提升系统的可复用性和扩展性，是实际开发中常用的结构型模式之一。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;适配器模式（Adapter-Pattern）&quot;&gt;&lt;a href=&quot;#适配器模式（Adapter-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;适配器模式（Adapter Pattern）&quot;&gt;&lt;/a&gt;适配器模式（Adapter Patter</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>责任链模式</title>
    <link href="https://db-hanty.github.io/posts/6208627e.html"/>
    <id>https://db-hanty.github.io/posts/6208627e.html</id>
    <published>2025-09-06T14:58:44.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="责任链模式（Chain-of-Responsibility-Pattern）"><a href="#责任链模式（Chain-of-Responsibility-Pattern）" class="headerlink" title="责任链模式（Chain of Responsibility Pattern）"></a>责任链模式（Chain of Responsibility Pattern）</h1><p>在设计模式中，<strong>责任链模式</strong>（Chain of Responsibility Pattern）是一种行为型模式。它通过将多个处理对象串联成一条链，请求会沿着这条链传递，直到被某个处理对象处理为止。这样，发送者无需关心由谁来处理请求，接收者之间也可以灵活组合。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：把多个处理器串成链，请求在链上传递，直到有对象处理为止。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在传统设计中，发送者必须明确知道接收者是谁，导致两者耦合度过高。责任链模式的引入，使得：  </p><ul><li>发送者和接收者之间解耦。  </li><li>多个对象都有机会处理请求，而发送者不必关心到底由谁来处理。  </li></ul><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ol><li><strong>降低耦合度</strong>：发送者与接收者解耦，结构更加灵活。  </li><li><strong>简化对象</strong>：请求的发送方不需要关心处理的细节。  </li><li><strong>灵活性高</strong>：可以在运行时动态调整链的顺序或成员。  </li><li><strong>易于扩展</strong>：新增处理类只需加入链即可。  </li></ol><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ol><li><strong>请求可能未被处理</strong>：链上的处理器可能都不接收请求。  </li><li><strong>性能问题</strong>：请求可能需要传递较长的链，影响效率。  </li><li><strong>调试困难</strong>：运行时不容易观察链的传递过程，容易出错。  </li></ol><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面通过日志记录器的例子来演示责任链模式。</p><h3 id="抽象记录器类"><a href="#抽象记录器类" class="headerlink" title="抽象记录器类"></a>抽象记录器类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">INFO</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">DEBUG</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ERROR</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">protected</span> <span class="type">int</span> level;</span><br><span class="line">   <span class="keyword">protected</span> AbstractLogger nextLogger;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextLogger</span><span class="params">(AbstractLogger nextLogger)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.nextLogger = nextLogger;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logMessage</span><span class="params">(<span class="type">int</span> level, String message)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">this</span>.level &lt;= level)&#123;</span><br><span class="line">         write(message);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(nextLogger != <span class="literal">null</span>)&#123;</span><br><span class="line">         nextLogger.logMessage(level, message);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="具体记录器实现"><a href="#具体记录器实现" class="headerlink" title="具体记录器实现"></a>具体记录器实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConsoleLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ConsoleLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;Standard Console::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ErrorLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">ErrorLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;Error Console::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileLogger</span> <span class="keyword">extends</span> <span class="title class_">AbstractLogger</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">FileLogger</span><span class="params">(<span class="type">int</span> level)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.level = level;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String message)</span> &#123;    </span><br><span class="line">      System.out.println(<span class="string">&quot;File::Logger: &quot;</span> + message);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChainPatternDemo</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> AbstractLogger <span class="title function_">getChainOfLoggers</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">errorLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ErrorLogger</span>(AbstractLogger.ERROR);</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">fileLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileLogger</span>(AbstractLogger.DEBUG);</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">consoleLogger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConsoleLogger</span>(AbstractLogger.INFO);</span><br><span class="line"> </span><br><span class="line">      errorLogger.setNextLogger(fileLogger);</span><br><span class="line">      fileLogger.setNextLogger(consoleLogger);</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">return</span> errorLogger;  </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">AbstractLogger</span> <span class="variable">loggerChain</span> <span class="operator">=</span> getChainOfLoggers();</span><br><span class="line"> </span><br><span class="line">      loggerChain.logMessage(AbstractLogger.INFO, <span class="string">&quot;This is an information.&quot;</span>);</span><br><span class="line">      loggerChain.logMessage(AbstractLogger.DEBUG, <span class="string">&quot;This is a debug level information.&quot;</span>);</span><br><span class="line">      loggerChain.logMessage(AbstractLogger.ERROR, <span class="string">&quot;This is an error information.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Standard Console::Logger: This is an information.</span><br><span class="line">File::Logger: This is a debug level information.</span><br><span class="line">Standard Console::Logger: This is a debug level information.</span><br><span class="line">Error Console::Logger: This is an error information.</span><br><span class="line">File::Logger: This is an error information.</span><br><span class="line">Standard Console::Logger: This is an error information.</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用实例"><a href="#实际应用实例" class="headerlink" title="实际应用实例"></a>实际应用实例</h2><ul><li><strong>Web 服务器</strong>：如 Apache Tomcat 的编码处理、Servlet 的 Filter 链。  </li><li><strong>拦截器机制</strong>：如 Struts2 的拦截器实现。  </li><li><strong>日志系统</strong>：不同级别的日志可以依次传递到不同的处理器。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>责任链模式通过让请求在一条链上传递，避免了请求发送者和接收者的紧耦合，提升了系统的灵活性和可扩展性。  </p><p><strong>适用场景</strong>：  </p><ul><li>需要多个对象处理同一请求时。  </li><li>请求的具体接收者在运行时才能确定时。  </li><li>系统需要动态增加或调整处理逻辑时。  </li></ul><p>掌握责任链模式，有助于更好地理解 <strong>拦截器链、日志系统、权限控制</strong> 等机制的底层原理。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;责任链模式（Chain-of-Responsibility-Pattern）&quot;&gt;&lt;a href=&quot;#责任链模式（Chain-of-Responsibility-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;责任链模式（Chain of R</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>代理模式</title>
    <link href="https://db-hanty.github.io/posts/7b510e10.html"/>
    <id>https://db-hanty.github.io/posts/7b510e10.html</id>
    <published>2025-09-03T22:26:36.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="代理模式（Proxy-Pattern）"><a href="#代理模式（Proxy-Pattern）" class="headerlink" title="代理模式（Proxy Pattern）"></a>代理模式（Proxy Pattern）</h1><p>在设计模式中，<strong>代理模式</strong>（Proxy Pattern）是一种结构型模式，它通过引入一个代理对象来间接访问目标对象，从而在不改变目标对象功能的前提下，增加额外的控制逻辑。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><blockquote><p><strong>核心思想</strong>：通过代理对象来控制对真实对象的访问。</p></blockquote><p>这样可以避免直接操作真实对象带来的问题，例如：对象创建代价过高、需要安全校验、远程调用等。</p><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在实际开发中，直接访问某些对象可能会遇到以下问题：  </p><ul><li>对象创建成本高（如加载大文件、初始化复杂资源）。  </li><li>需要权限或安全控制，不能让调用方直接访问。  </li><li>需要远程访问或延迟加载。  </li></ul><p>代理模式通过增加中间代理层，解决了这些问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>职责分离</strong>：代理对象负责访问控制，真实对象专注于业务逻辑。  </li><li><strong>扩展性强</strong>：可以灵活增加功能（如缓存、日志、延迟加载）。  </li><li><strong>智能控制</strong>：代理可以对请求做智能处理，例如只在必要时才加载对象。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>性能开销</strong>：多了一层代理，可能会降低访问效率。  </li><li><strong>实现复杂</strong>：某些高级代理（如远程代理、动态代理）实现较复杂。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面以图片加载为例，演示代理模式。</p><h3 id="定义接口"><a href="#定义接口" class="headerlink" title="定义接口"></a>定义接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Image</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="真实对象类"><a href="#真实对象类" class="headerlink" title="真实对象类"></a>真实对象类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RealImage</span> <span class="keyword">implements</span> <span class="title class_">Image</span> &#123;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">private</span> String fileName;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">RealImage</span><span class="params">(String fileName)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fileName = fileName;</span><br><span class="line">      loadFromDisk(fileName);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Displaying &quot;</span> + fileName);</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadFromDisk</span><span class="params">(String fileName)</span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Loading &quot;</span> + fileName);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="代理对象类"><a href="#代理对象类" class="headerlink" title="代理对象类"></a>代理对象类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyImage</span> <span class="keyword">implements</span> <span class="title class_">Image</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> RealImage realImage;</span><br><span class="line">    <span class="keyword">private</span> String fileName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProxyImage</span><span class="params">(String fileName)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.fileName = fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(realImage == <span class="literal">null</span>)&#123;</span><br><span class="line">            realImage = <span class="keyword">new</span> <span class="title class_">RealImage</span>(fileName);</span><br><span class="line">        &#125;</span><br><span class="line">        realImage.display();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Image</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProxyImage</span>(<span class="string">&quot;test_10mb.jpg&quot;</span>);</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// 图像将从磁盘加载</span></span><br><span class="line">      image.display(); </span><br><span class="line">      System.out.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 图像不需要再次加载</span></span><br><span class="line">      image.display();  </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Loading test_10mb.jpg</span><br><span class="line">Displaying test_10mb.jpg</span><br><span class="line"></span><br><span class="line">Displaying test_10mb.jpg</span><br></pre></td></tr></table></figure><hr><h2 id="生活中的实例"><a href="#生活中的实例" class="headerlink" title="生活中的实例"></a>生活中的实例</h2><ul><li><strong>快捷方式</strong>：Windows 系统中的快捷方式就是文件或程序的代理。  </li><li><strong>Spring AOP</strong>：Spring 使用动态代理模式来实现面向切面编程（AOP），在方法调用前后织入额外逻辑（如日志、事务管理）。  </li></ul><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>代理模式通过引入代理对象，使我们在访问真实对象前后可以进行一系列操作。它不仅能降低系统开销，还能增强灵活性和安全性。  </p><p><strong>适用场景</strong>：  </p><ul><li>需要控制访问权限的对象。  </li><li>创建开销较大的对象（如大文件、远程连接）。  </li><li>需要在访问对象前后添加额外功能（如缓存、日志、延迟加载）。  </li></ul><p>掌握代理模式，不仅能帮助我们写出更灵活的代码，还能更好地理解如 <strong>AOP、RPC 框架</strong> 等技术的底层实现。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;代理模式（Proxy-Pattern）&quot;&gt;&lt;a href=&quot;#代理模式（Proxy-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;代理模式（Proxy Pattern）&quot;&gt;&lt;/a&gt;代理模式（Proxy Pattern）&lt;/h1&gt;&lt;p&gt;在设</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>模板方法模式</title>
    <link href="https://db-hanty.github.io/posts/ecc6414b.html"/>
    <id>https://db-hanty.github.io/posts/ecc6414b.html</id>
    <published>2025-09-01T23:25:05.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="模板方法模式（Template-Pattern）"><a href="#模板方法模式（Template-Pattern）" class="headerlink" title="模板方法模式（Template Pattern）"></a>模板方法模式（Template Pattern）</h1><p>在学习设计模式的过程中，<strong>模板方法模式</strong>（Template Pattern）是一个非常常见且实用的模式。它的核心思想是：<strong>定义一个算法的框架，并将一些步骤延迟到子类中实现，从而保证整体流程固定，同时允许子类灵活扩展细节</strong>。</p><hr><h2 id="模式的作用"><a href="#模式的作用" class="headerlink" title="模式的作用"></a>模式的作用</h2><p>模板方法模式通过在父类中封装算法的整体结构，避免了子类重复编写通用逻辑。子类只需实现特定的步骤，即可复用整体框架。</p><blockquote><p><strong>一句话总结</strong>：模板方法模式就是<strong>父类定流程，子类填细节</strong>。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>在实际开发中，不同的子类往往需要实现相似的逻辑，但其中的细节可能有所不同。若每个子类都独立实现完整的逻辑，难免会出现大量重复代码。模板方法模式通过<strong>抽象父类提取公共部分</strong>，有效解决了这个问题。</p><hr><h2 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h2><h3 id="✅-优点"><a href="#✅-优点" class="headerlink" title="✅ 优点"></a>✅ 优点</h3><ul><li><strong>封装不变部分</strong>：父类统一定义算法结构，保持整体流程稳定。  </li><li><strong>扩展可变部分</strong>：子类自由实现差异化的步骤，保证灵活性。  </li><li><strong>减少重复代码</strong>：提取公共逻辑，提升维护性和可读性。  </li></ul><h3 id="⚠️-缺点"><a href="#⚠️-缺点" class="headerlink" title="⚠️ 缺点"></a>⚠️ 缺点</h3><ul><li><strong>类数量增加</strong>：每种不同实现都需要一个子类，可能导致系统类较多。  </li></ul><hr><h2 id="UML-示意图"><a href="#UML-示意图" class="headerlink" title="UML 示意图"></a>UML 示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>下面通过一个小游戏的例子来演示模板方法模式。</p><h3 id="抽象类（模板）"><a href="#抽象类（模板）" class="headerlink" title="抽象类（模板）"></a>抽象类（模板）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Game</span> &#123;</span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">startPlay</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">endPlay</span><span class="params">()</span>;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 模板方法（定义整体流程）</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">      initialize();   <span class="comment">// 初始化游戏</span></span><br><span class="line">      startPlay();    <span class="comment">// 开始游戏</span></span><br><span class="line">      endPlay();      <span class="comment">// 结束游戏</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="具体子类"><a href="#具体子类" class="headerlink" title="具体子类"></a>具体子类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cricket</span> <span class="keyword">extends</span> <span class="title class_">Game</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">endPlay</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Cricket Game Finished!&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Cricket Game Initialized! Start playing.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">startPlay</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Cricket Game Started. Enjoy the game!&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Football</span> <span class="keyword">extends</span> <span class="title class_">Game</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">endPlay</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Football Game Finished!&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Football Game Initialized! Start playing.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">startPlay</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Football Game Started. Enjoy the game!&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TemplatePatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">Game</span> <span class="variable">game</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cricket</span>();</span><br><span class="line">      game.play();</span><br><span class="line"></span><br><span class="line">      System.out.println();</span><br><span class="line"></span><br><span class="line">      game = <span class="keyword">new</span> <span class="title class_">Football</span>();</span><br><span class="line">      game.play();      </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Cricket Game Initialized! Start playing.</span><br><span class="line">Cricket Game Started. Enjoy the game!</span><br><span class="line">Cricket Game Finished!</span><br><span class="line"></span><br><span class="line">Football Game Initialized! Start playing.</span><br><span class="line">Football Game Started. Enjoy the game!</span><br><span class="line">Football Game Finished!</span><br></pre></td></tr></table></figure><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>模板方法模式在软件开发中非常常见，尤其适合那些<strong>流程固定但步骤可变</strong>的场景。它通过父类统一流程、子类实现细节的方式，既提高了代码的复用性，又保持了灵活性。  </p><p><strong>应用场景举例</strong>：  </p><ul><li>游戏开发中定义“初始化 → 开始 → 结束”的固定流程。  </li><li>Web 框架中，父类定义请求处理流程，子类实现具体业务逻辑。  </li><li>数据处理管道中，父类定义整体处理步骤，子类实现具体处理方式。  </li></ul><p>掌握并灵活运用模板方法模式，可以让代码结构更加清晰、可维护性更强。  </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;模板方法模式（Template-Pattern）&quot;&gt;&lt;a href=&quot;#模板方法模式（Template-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;模板方法模式（Template Pattern）&quot;&gt;&lt;/a&gt;模板方法模式（Templat</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>建造者模式</title>
    <link href="https://db-hanty.github.io/posts/fe816c3c.html"/>
    <id>https://db-hanty.github.io/posts/fe816c3c.html</id>
    <published>2025-08-22T23:20:22.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="建造者模式（Builder-Pattern）学习总结"><a href="#建造者模式（Builder-Pattern）学习总结" class="headerlink" title="建造者模式（Builder Pattern）学习总结"></a>建造者模式（Builder Pattern）学习总结</h1><p>在设计模式中，<strong>建造者模式（Builder Pattern）</strong> 也称为生成器模式。它的核心思想是：<strong>将复杂对象的构建过程与表示分离，使得同样的构建过程可以创建不同的表示</strong>。这种模式常用于创建步骤固定但内部结构复杂的对象。</p><hr><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><blockquote><p>将一个复杂的构建过程与其表示相分离，使得同样的构建过程可以创建不同的表示。</p></blockquote><hr><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>当我们需要 <strong>分步骤创建复杂对象</strong> 时，如果将构建逻辑和表示逻辑混在一起，代码会变得臃肿且难以维护。建造者模式就是为了解决这个问题。</p><hr><h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p><strong>优点：</strong></p><ul><li>分离构建过程和表示，使得构建更加灵活。</li><li>隐藏具体构建细节，客户端只需关心最终对象。</li><li>代码复用性高，可以在不同构建中重复使用相同的建造者。</li></ul><p><strong>缺点：</strong></p><ul><li>如果产品属性较少，使用建造者模式会显得过于复杂。</li><li>会增加系统中的类和对象数量。</li></ul><hr><h2 id="UML-示意图（快餐店例子）"><a href="#UML-示意图（快餐店例子）" class="headerlink" title="UML 示意图（快餐店例子）"></a>UML 示意图（快餐店例子）</h2><p>在快餐店中，一份套餐（Meal）通常由汉堡（Burger）和饮料（ColdDrink）组成。汉堡一般用纸盒包装，饮料用瓶子包装。建造者模式可以很好地模拟这种“分步骤构建套餐”的过程。</p><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="1-定义-Item-和-Packing-接口"><a href="#1-定义-Item-和-Packing-接口" class="headerlink" title="1. 定义 Item 和 Packing 接口"></a>1. 定义 Item 和 Packing 接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Item</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">public</span> Packing <span class="title function_">packing</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span>;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Packing</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">pack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-创建实现-Packing-的实体类"><a href="#2-创建实现-Packing-的实体类" class="headerlink" title="2. 创建实现 Packing 的实体类"></a>2. 创建实现 Packing 的实体类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Wrapper</span> <span class="keyword">implements</span> <span class="title class_">Packing</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">pack</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Wrapper&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bottle</span> <span class="keyword">implements</span> <span class="title class_">Packing</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">pack</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Bottle&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-创建实现-Item-的抽象类"><a href="#3-创建实现-Item-的抽象类" class="headerlink" title="3. 创建实现 Item 的抽象类"></a>3. 创建实现 Item 的抽象类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Burger</span> <span class="keyword">implements</span> <span class="title class_">Item</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Packing <span class="title function_">packing</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Wrapper</span>();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">ColdDrink</span> <span class="keyword">implements</span> <span class="title class_">Item</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Packing <span class="title function_">packing</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Bottle</span>();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-扩展-Burger-和-ColdDrink-的实体类"><a href="#4-扩展-Burger-和-ColdDrink-的实体类" class="headerlink" title="4. 扩展 Burger 和 ColdDrink 的实体类"></a>4. 扩展 Burger 和 ColdDrink 的实体类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VegBurger</span> <span class="keyword">extends</span> <span class="title class_">Burger</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="number">25.0f</span>; &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="string">&quot;Veg Burger&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChickenBurger</span> <span class="keyword">extends</span> <span class="title class_">Burger</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="number">50.5f</span>; &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="string">&quot;Chicken Burger&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Coke</span> <span class="keyword">extends</span> <span class="title class_">ColdDrink</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="number">30.0f</span>; &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="string">&quot;Coke&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pepsi</span> <span class="keyword">extends</span> <span class="title class_">ColdDrink</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">price</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="number">35.0f</span>; &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123; <span class="keyword">return</span> <span class="string">&quot;Pepsi&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-创建-Meal-类"><a href="#5-创建-Meal-类" class="headerlink" title="5. 创建 Meal 类"></a>5. 创建 Meal 类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Meal</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> List&lt;Item&gt; items = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Item&gt;();    </span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addItem</span><span class="params">(Item item)</span>&#123; items.add(item); &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getCost</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">float</span> <span class="variable">cost</span> <span class="operator">=</span> <span class="number">0.0f</span>;</span><br><span class="line">      <span class="keyword">for</span> (Item item : items) cost += item.price();</span><br><span class="line">      <span class="keyword">return</span> cost;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showItems</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (Item item : items) &#123;</span><br><span class="line">         System.out.print(<span class="string">&quot;Item : &quot;</span>+item.name());</span><br><span class="line">         System.out.print(<span class="string">&quot;, Packing : &quot;</span>+item.packing().pack());</span><br><span class="line">         System.out.println(<span class="string">&quot;, Price : &quot;</span>+item.price());</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-创建-Builder-类（MealBuilder）"><a href="#6-创建-Builder-类（MealBuilder）" class="headerlink" title="6. 创建 Builder 类（MealBuilder）"></a>6. 创建 Builder 类（MealBuilder）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MealBuilder</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> Meal <span class="title function_">prepareVegMeal</span> <span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">Meal</span> <span class="variable">meal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Meal</span>();</span><br><span class="line">      meal.addItem(<span class="keyword">new</span> <span class="title class_">VegBurger</span>());</span><br><span class="line">      meal.addItem(<span class="keyword">new</span> <span class="title class_">Coke</span>());</span><br><span class="line">      <span class="keyword">return</span> meal;</span><br><span class="line">   &#125;   </span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> Meal <span class="title function_">prepareNonVegMeal</span> <span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">Meal</span> <span class="variable">meal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Meal</span>();</span><br><span class="line">      meal.addItem(<span class="keyword">new</span> <span class="title class_">ChickenBurger</span>());</span><br><span class="line">      meal.addItem(<span class="keyword">new</span> <span class="title class_">Pepsi</span>());</span><br><span class="line">      <span class="keyword">return</span> meal;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-测试"><a href="#7-测试" class="headerlink" title="7. 测试"></a>7. 测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BuilderPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">MealBuilder</span> <span class="variable">mealBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MealBuilder</span>();</span><br><span class="line"></span><br><span class="line">      <span class="type">Meal</span> <span class="variable">vegMeal</span> <span class="operator">=</span> mealBuilder.prepareVegMeal();</span><br><span class="line">      System.out.println(<span class="string">&quot;Veg Meal&quot;</span>);</span><br><span class="line">      vegMeal.showItems();</span><br><span class="line">      System.out.println(<span class="string">&quot;Total Cost: &quot;</span> + vegMeal.getCost());</span><br><span class="line"></span><br><span class="line">      <span class="type">Meal</span> <span class="variable">nonVegMeal</span> <span class="operator">=</span> mealBuilder.prepareNonVegMeal();</span><br><span class="line">      System.out.println(<span class="string">&quot;\n\nNon-Veg Meal&quot;</span>);</span><br><span class="line">      nonVegMeal.showItems();</span><br><span class="line">      System.out.println(<span class="string">&quot;Total Cost: &quot;</span> + nonVegMeal.getCost());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="实际应用：Lombok-Builder"><a href="#实际应用：Lombok-Builder" class="headerlink" title="实际应用：Lombok Builder"></a>实际应用：Lombok Builder</h2><p>在实际开发中，Java 的 <strong>Lombok</strong> 提供了 <code>@Builder</code> 注解，可以快速实现建造者模式，减少模板代码。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.ToString;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">   <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用时：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> User.builder()</span><br><span class="line">                      .name(<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line">                      .age(<span class="number">25</span>)</span><br><span class="line">                      .email(<span class="string">&quot;alice@example.com&quot;</span>)</span><br><span class="line">                      .build();</span><br><span class="line">      System.out.println(user);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就避免了手动编写 Builder 类，更加高效。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>建造者模式适合用于 <strong>构建过程复杂的对象</strong>。</li><li>它的优势在于 <strong>解耦构建过程和表示</strong>，让代码更灵活。</li><li>在日常开发中，Lombok 的 <code>@Builder</code> 注解可以帮助我们快速实现建造者模式，非常实用。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;建造者模式（Builder-Pattern）学习总结&quot;&gt;&lt;a href=&quot;#建造者模式（Builder-Pattern）学习总结&quot; class=&quot;headerlink&quot; title=&quot;建造者模式（Builder Pattern）学习总结&quot;&gt;&lt;/a&gt;建造者模式（Bu</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>策略模式</title>
    <link href="https://db-hanty.github.io/posts/72e3b671.html"/>
    <id>https://db-hanty.github.io/posts/72e3b671.html</id>
    <published>2025-08-22T23:13:25.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="策略模式（Strategy-Pattern）"><a href="#策略模式（Strategy-Pattern）" class="headerlink" title="策略模式（Strategy Pattern）"></a>策略模式（Strategy Pattern）</h1><p>在日常开发中，我们经常会遇到这样一种场景：存在多种可替换的算法或行为，而传统的 <code>if-else</code> 或 <code>switch</code> 语句不仅使代码显得臃肿，还让后期维护和扩展变得复杂。<strong>策略模式（Strategy Pattern）</strong> 正是为了解决这个问题而提出的。</p><h2 id="一、策略模式的作用"><a href="#一、策略模式的作用" class="headerlink" title="一、策略模式的作用"></a>一、策略模式的作用</h2><p>策略模式的核心思想是：</p><blockquote><p><strong>将每个算法单独封装成独立的类，使它们可以互相替换使用，而不影响客户端的代码。</strong></p></blockquote><p>这样，算法的变化不会影响使用它的类，实现了代码的解耦与可扩展性。</p><hr><h2 id="二、它解决了什么问题？"><a href="#二、它解决了什么问题？" class="headerlink" title="二、它解决了什么问题？"></a>二、它解决了什么问题？</h2><p>在存在多种相似算法时，如果我们使用大量的条件语句（<code>if-else</code> 或 <code>switch</code>），会导致：</p><ul><li>代码复杂度增加，难以阅读；</li><li>算法修改或扩展时需要改动已有逻辑，违背开闭原则；</li><li>可维护性和可扩展性差。</li></ul><p>策略模式通过<strong>分离算法</strong>与<strong>使用算法的环境类</strong>，让代码更加清晰、灵活。</p><hr><h2 id="三、优缺点分析"><a href="#三、优缺点分析" class="headerlink" title="三、优缺点分析"></a>三、优缺点分析</h2><p><strong>优点：</strong></p><ol><li><strong>算法切换自由</strong>：可以在运行时灵活选择不同的算法。</li><li><strong>避免条件语句</strong>：消除了复杂的 <code>if-else</code>，提高了代码可读性。</li><li><strong>扩展性强</strong>：新增算法时，只需新增一个策略类，无需修改原有代码。</li></ol><p><strong>缺点：</strong></p><ol><li><strong>策略类数量增多</strong>：每新增一个算法，都需要额外创建一个策略类。</li><li><strong>策略类对外暴露</strong>：调用者必须知道并理解不同策略类的作用，才能正确选择使用。</li></ol><hr><h2 id="四、UML示意图"><a href="#四、UML示意图" class="headerlink" title="四、UML示意图"></a>四、UML示意图</h2><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.png" alt=""></p><p>Context 持有一个 Strategy 接口的引用，具体的算法逻辑则由不同的策略实现类提供。</p><hr><h2 id="五、代码实现"><a href="#五、代码实现" class="headerlink" title="五、代码实现"></a>五、代码实现</h2><p>下面通过一个简单的数学运算示例，来展示策略模式的实现过程：</p><h3 id="1-定义策略接口"><a href="#1-定义策略接口" class="headerlink" title="1. 定义策略接口"></a>1. 定义策略接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Strategy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实现不同的策略类"><a href="#2-实现不同的策略类" class="headerlink" title="2. 实现不同的策略类"></a>2. 实现不同的策略类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperationAdd</span> <span class="keyword">implements</span> <span class="title class_">Strategy</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num1 + num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperationMultiply</span> <span class="keyword">implements</span> <span class="title class_">Strategy</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num1 * num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperationSubtract</span> <span class="keyword">implements</span> <span class="title class_">Strategy</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">doOperation</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> num1 - num2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-上下文类（Context）"><a href="#3-上下文类（Context）" class="headerlink" title="3. 上下文类（Context）"></a>3. 上下文类（Context）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Context</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Strategy strategy;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Context</span><span class="params">(Strategy strategy)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.strategy = strategy;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">executeStrategy</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> strategy.doOperation(num1, num2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-测试类"><a href="#4-测试类" class="headerlink" title="4. 测试类"></a>4. 测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StrategyPatternDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Context</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>(<span class="keyword">new</span> <span class="title class_">OperationAdd</span>());</span><br><span class="line">        System.out.println(<span class="string">&quot;10 + 5 = &quot;</span> + context.executeStrategy(<span class="number">10</span>, <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">        context = <span class="keyword">new</span> <span class="title class_">Context</span>(<span class="keyword">new</span> <span class="title class_">OperationSubtract</span>());</span><br><span class="line">        System.out.println(<span class="string">&quot;10 - 5 = &quot;</span> + context.executeStrategy(<span class="number">10</span>, <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">        context = <span class="keyword">new</span> <span class="title class_">Context</span>(<span class="keyword">new</span> <span class="title class_">OperationMultiply</span>());</span><br><span class="line">        System.out.println(<span class="string">&quot;10 * 5 = &quot;</span> + context.executeStrategy(<span class="number">10</span>, <span class="number">5</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10 + 5 = 15</span><br><span class="line">10 - 5 = 5</span><br><span class="line">10 * 5 = 50</span><br></pre></td></tr></table></figure><hr><h2 id="六、总结与思考"><a href="#六、总结与思考" class="headerlink" title="六、总结与思考"></a>六、总结与思考</h2><p>策略模式的本质是：<strong>行为封装 + 动态切换</strong>。通过将算法独立封装，我们不仅提高了代码的灵活性和扩展性，还让系统更加符合开闭原则。</p><p>在实际开发中，策略模式常用于：</p><ul><li>排序算法的多种实现；</li><li>支付方式（支付宝、微信、银行卡）的切换；</li><li>日志输出策略（文件、数据库、远程服务）；</li><li>缓存更新策略等。</li></ul><blockquote><p>学习策略模式让我更深刻地理解了“解耦”与“可扩展”的价值。在项目中，与其让 <code>if-else</code> 统治代码，不如通过策略模式让每个算法独立生长，保持代码清晰优雅。</p></blockquote><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;策略模式（Strategy-Pattern）&quot;&gt;&lt;a href=&quot;#策略模式（Strategy-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;策略模式（Strategy Pattern）&quot;&gt;&lt;/a&gt;策略模式（Strategy Patter</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>迭代器模式</title>
    <link href="https://db-hanty.github.io/posts/9055d217.html"/>
    <id>https://db-hanty.github.io/posts/9055d217.html</id>
    <published>2025-08-21T21:16:10.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="迭代器模式（Iterator-Pattern）"><a href="#迭代器模式（Iterator-Pattern）" class="headerlink" title="迭代器模式（Iterator Pattern）"></a>迭代器模式（Iterator Pattern）</h1><p>在日常开发中，我们经常需要对集合类进行遍历，比如 <code>ArrayList</code>、<code>HashSet</code>、<code>Map</code> 等。如果每一种集合都需要开发者自己去关心底层的数据结构（数组、链表、树等），代码会变得复杂而且不够灵活。<br><strong>迭代器模式（Iterator Pattern）</strong> 就是为了解决这一问题而出现的，它为不同的集合提供了一种统一的遍历方式。</p><hr><h2 id="一、迭代器模式的作用"><a href="#一、迭代器模式的作用" class="headerlink" title="一、迭代器模式的作用"></a>一、迭代器模式的作用</h2><blockquote><p>在不暴露集合底层表现形式（如列表、栈、树、图）的情况下，提供一种顺序访问集合中所有元素的方法。</p></blockquote><p>换句话说，迭代器模式的核心价值是：<br><strong>“使用者无需知道集合内部的存储结构，只需要通过迭代器就能访问其中的元素。”</strong></p><hr><h2 id="二、解决的问题"><a href="#二、解决的问题" class="headerlink" title="二、解决的问题"></a>二、解决的问题</h2><p>如果没有迭代器模式，不同的集合需要不同的遍历方式，比如数组通过索引，链表通过指针，树和图则更复杂。<br>这样会导致<strong>遍历逻辑和集合逻辑高度耦合</strong>，难以维护。  </p><p>迭代器模式提供了一个统一的接口，使用者只需要按照固定的方法调用（<code>hasNext()</code> / <code>next()</code>），就能遍历任意集合。</p><hr><h2 id="三、优缺点分析"><a href="#三、优缺点分析" class="headerlink" title="三、优缺点分析"></a>三、优缺点分析</h2><p><strong>优点：</strong></p><ol><li><strong>支持多种遍历方式</strong>：可以根据需求扩展不同类型的迭代器。  </li><li><strong>简化聚合类</strong>：集合类只需提供数据存储，不再关心遍历逻辑。  </li><li><strong>多次遍历支持</strong>：可以同时对同一个聚合对象进行多次遍历。  </li><li><strong>扩展性好</strong>：增加新的聚合类和迭代器类都很方便，不需要修改已有代码。</li></ol><p><strong>缺点：</strong></p><ul><li><strong>系统复杂性增加</strong>：每增加一个新的聚合类，就需要增加一个对应的迭代器类，可能导致类数量膨胀。</li></ul><hr><h2 id="四、UML-示意图"><a href="#四、UML-示意图" class="headerlink" title="四、UML 示意图"></a>四、UML 示意图</h2><p>（示意图中，<code>Iterator</code> 定义了遍历的统一接口，<code>Container</code> 定义了获取迭代器的接口，每个具体的聚合类都会有一个内部迭代器类实现 <code>Iterator</code>。）<br><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.png" alt=""></p><hr><h2 id="五、实现示例"><a href="#五、实现示例" class="headerlink" title="五、实现示例"></a>五、实现示例</h2><h3 id="1-定义迭代器接口"><a href="#1-定义迭代器接口" class="headerlink" title="1. 定义迭代器接口"></a>1. 定义迭代器接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">   <span class="keyword">public</span> Object <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-定义容器接口"><a href="#2-定义容器接口" class="headerlink" title="2. 定义容器接口"></a>2. 定义容器接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Container</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> Iterator <span class="title function_">getIterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-实现容器类及其内部迭代器"><a href="#3-实现容器类及其内部迭代器" class="headerlink" title="3. 实现容器类及其内部迭代器"></a>3. 实现容器类及其内部迭代器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NameRepository</span> <span class="keyword">implements</span> <span class="title class_">Container</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> String[] names = &#123;<span class="string">&quot;Robert&quot;</span>, <span class="string">&quot;John&quot;</span>, <span class="string">&quot;Julie&quot;</span>, <span class="string">&quot;Lora&quot;</span>&#125;;</span><br><span class="line"> </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Iterator <span class="title function_">getIterator</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">NameIterator</span>();</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">NameIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span> &#123;</span><br><span class="line">      <span class="type">int</span> index;</span><br><span class="line"> </span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> index &lt; names.length;</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> Object <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">         <span class="keyword">if</span>(<span class="built_in">this</span>.hasNext())&#123;</span><br><span class="line">            <span class="keyword">return</span> names[index++];</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">      &#125;     </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-测试"><a href="#4-测试" class="headerlink" title="4. 测试"></a>4. 测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorPatternDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">NameRepository</span> <span class="variable">namesRepository</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NameRepository</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span>(<span class="type">Iterator</span> <span class="variable">iter</span> <span class="operator">=</span> namesRepository.getIterator(); iter.hasNext();)&#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String)iter.next();</span><br><span class="line">         System.out.println(<span class="string">&quot;Name : &quot;</span> + name);</span><br><span class="line">      &#125;  </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>迭代器模式在 Java 集合框架中有着非常广泛的应用，例如 <code>ArrayList</code>、<code>HashSet</code>、<code>Map</code> 的遍历都依赖迭代器。它的核心思想是<strong>“分离存储与遍历”</strong>，不仅提高了代码的复用性，也增强了系统的灵活性。</p><p>虽然会增加一定的类数量，但在复杂系统中，这种模式能显著提高代码的可维护性和扩展性，是设计模式中非常实用的一种。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;迭代器模式（Iterator-Pattern）&quot;&gt;&lt;a href=&quot;#迭代器模式（Iterator-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;迭代器模式（Iterator Pattern）&quot;&gt;&lt;/a&gt;迭代器模式（Iterator Pa</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>工厂模式</title>
    <link href="https://db-hanty.github.io/posts/54788f73.html"/>
    <id>https://db-hanty.github.io/posts/54788f73.html</id>
    <published>2025-08-19T22:33:29.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="工厂模式（Factory-Pattern）"><a href="#工厂模式（Factory-Pattern）" class="headerlink" title="工厂模式（Factory Pattern）"></a>工厂模式（Factory Pattern）</h1><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>在软件开发中，设计模式是一种被广泛应用的经验总结。它能够帮助开发者在面对重复性问题时，提供更优雅和高效的解决方案。其中，工厂模式（Factory Pattern）作为创建型模式的典型代表，被大量应用在框架与业务开发中。本文结合学习笔记与个人理解，对工厂模式进行总结。</p><h2 id="一、工厂模式的作用"><a href="#一、工厂模式的作用" class="headerlink" title="一、工厂模式的作用"></a>一、工厂模式的作用</h2><p>工厂模式的核心思想是：<strong>将对象的创建与使用分离</strong>。通过引入工厂类，调用者无需关心具体对象的实例化逻辑，只需依赖抽象接口，从而降低代码耦合度。</p><p>通俗地说，工厂模式就像“订餐外卖”：我们只需要点餐（调用工厂方法），而不必自己去买菜、洗菜、炒菜（对象实例化的过程）。</p><h3 id="UML示意图"><a href="#UML示意图" class="headerlink" title="UML示意图"></a>UML示意图</h3><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.png" alt=""></p><h2 id="二、工厂模式解决的问题"><a href="#二、工厂模式解决的问题" class="headerlink" title="二、工厂模式解决的问题"></a>二、工厂模式解决的问题</h2><p>在没有工厂模式之前，对象的创建通常由调用者直接使用 <code>new</code> 关键字完成。这种做法带来了以下问题：</p><ol><li><strong>高耦合</strong>：调用者需要知道具体的类名。  </li><li><strong>扩展性差</strong>：新增或修改产品时，调用者的代码也要随之改动。  </li><li><strong>难以维护</strong>：对象创建逻辑分散在代码各处，不利于统一管理。  </li></ol><p>工厂模式通过集中化、抽象化对象的创建过程，有效解决了这些问题。</p><h2 id="三、工厂模式的实现方式"><a href="#三、工厂模式的实现方式" class="headerlink" title="三、工厂模式的实现方式"></a>三、工厂模式的实现方式</h2><h3 id="1-简单工厂模式"><a href="#1-简单工厂模式" class="headerlink" title="1. 简单工厂模式"></a>1. 简单工厂模式</h3><p>通过一个工厂类，根据参数决定实例化哪一个具体类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 产品接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductA</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产了产品A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体产品B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductB</span> <span class="keyword">implements</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产了产品B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单工厂类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Product <span class="title function_">createProduct</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;A&quot;</span>.equals(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;B&quot;</span>.equals(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端调用</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> SimpleFactory.createProduct(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        product.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特点</strong>：简单直观，但工厂类职责过重，新增产品时需要修改工厂类。</p><hr><h3 id="2-工厂方法模式"><a href="#2-工厂方法模式" class="headerlink" title="2. 工厂方法模式"></a>2. 工厂方法模式</h3><p>为每种产品提供一个具体的工厂，工厂类只负责生产某一类产品。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 工厂接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Factory</span> &#123;</span><br><span class="line">    Product <span class="title function_">createProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FactoryA</span> <span class="keyword">implements</span> <span class="title class_">Factory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FactoryB</span> <span class="keyword">implements</span> <span class="title class_">Factory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端调用</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactoryMethodTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Factory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FactoryA</span>();</span><br><span class="line">        <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> factory.createProduct();</span><br><span class="line">        product.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特点</strong>：遵循开闭原则，扩展性更好，但会增加类的数量。</p><hr><h3 id="3-抽象工厂模式"><a href="#3-抽象工厂模式" class="headerlink" title="3. 抽象工厂模式"></a>3. 抽象工厂模式</h3><p>在工厂方法模式的基础上，抽象工厂可以创建<strong>多个产品族</strong>，常用于框架开发中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象工厂</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    Product <span class="title function_">createProductA</span><span class="params">()</span>;</span><br><span class="line">    Product <span class="title function_">createProductB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteFactory</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProductA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductA</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">createProductB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProductB</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特点</strong>：可以批量创建一系列相关的对象，但结构复杂。</p><h2 id="四、工厂模式在实际开发中的应用"><a href="#四、工厂模式在实际开发中的应用" class="headerlink" title="四、工厂模式在实际开发中的应用"></a>四、工厂模式在实际开发中的应用</h2><ol><li><strong>Spring 框架中的 BeanFactory</strong>：通过工厂方法生成 Bean，而不是直接 <code>new</code>。  </li><li><strong>日志框架</strong>（如 SLF4J、Log4j）：使用工厂方法创建 Logger 实例。  </li><li><strong>数据库驱动</strong>：JDBC 使用 DriverManager.getConnection() 获取数据库连接，本质就是工厂模式的应用。  </li></ol><h2 id="五、学习感想"><a href="#五、学习感想" class="headerlink" title="五、学习感想"></a>五、学习感想</h2><p>通过学习工厂模式，我体会到设计模式并不是死记硬背的概念，而是解决问题的一种思维方式。工厂模式解决了“对象创建”的复杂性，提升了代码的可维护性与可扩展性。在日常开发中，只要遇到<strong>对象创建逻辑复杂或需要频繁扩展的场景</strong>，工厂模式都能提供优雅的解决方案。</p><p>未来在学习其他设计模式时，我也会尝试结合实际开发案例，把“模式”与“问题”联系起来，而不是孤立地记忆。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>工厂模式是创建型模式中的重要一员。它通过抽象和封装对象的创建过程，实现了<strong>解耦合、易扩展、可维护</strong>的目标。在理解并应用工厂模式的过程中，不仅能写出更优雅的代码，也能逐步培养面向对象设计的思维方式。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;工厂模式（Factory-Pattern）&quot;&gt;&lt;a href=&quot;#工厂模式（Factory-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;工厂模式（Factory Pattern）&quot;&gt;&lt;/a&gt;工厂模式（Factory Pattern）&lt;/</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>单例模式</title>
    <link href="https://db-hanty.github.io/posts/f1601c3e.html"/>
    <id>https://db-hanty.github.io/posts/f1601c3e.html</id>
    <published>2025-08-12T21:38:55.000Z</published>
    <updated>2025-10-15T12:50:17.295Z</updated>
    
    <content type="html"><![CDATA[<h1 id="单例模式（Singleton-Pattern）"><a href="#单例模式（Singleton-Pattern）" class="headerlink" title="单例模式（Singleton Pattern）"></a>单例模式（Singleton Pattern）</h1><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>确保一个类只有一个实例，并且自行实例化并向整个系统提供这个实例。</p><h3 id="UML示意图"><a href="#UML示意图" class="headerlink" title="UML示意图"></a>UML示意图</h3><p><img src="https://platypusbucket.oss-cn-shanghai.aliyuncs.com/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.png" alt="&quot;success&quot;:true,&quot;result&quot;"></p><h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><p>频繁创建和销毁全局使用的类实例的问题。</p><h2 id="常见实现方式"><a href="#常见实现方式" class="headerlink" title="常见实现方式"></a>常见实现方式</h2><h3 id="1-饿汉式"><a href="#1-饿汉式" class="headerlink" title="1. 饿汉式"></a>1. 饿汉式</h3><p>在类加载后立即实例化。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonPattern</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">singleton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> singleton;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优点</strong>：类加载时即创建实例，避免多线程问题。<br><strong>缺点</strong>：如果未使用实例，也会被加载，占用内存资源。</p><hr><h3 id="2-懒汉式"><a href="#2-懒汉式" class="headerlink" title="2. 懒汉式"></a>2. 懒汉式</h3><p>在第一次使用类时实例化。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton2 singleton;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton2</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">static</span> Singleton2 <span class="title function_">getInstance</span><span class="params">()</span>&#123; <span class="comment">// 加锁防止被多次实例化</span></span><br><span class="line">        <span class="keyword">if</span>(singleton == <span class="literal">null</span>)&#123;</span><br><span class="line">            singleton = <span class="keyword">new</span> <span class="title class_">Singleton2</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> singleton;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优点</strong>：用到时才创建实例，节省资源。<br><strong>缺点</strong>：方法加锁，效率较低。</p><hr><h3 id="3-双重检查锁"><a href="#3-双重检查锁" class="headerlink" title="3. 双重检查锁"></a>3. 双重检查锁</h3><p>在懒汉式的基础上，使用双重检查来减少锁的开销。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton2 singleton;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton2</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton2 <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(singleton == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton2.class)&#123;</span><br><span class="line">                <span class="keyword">if</span> (singleton == <span class="literal">null</span>)&#123;</span><br><span class="line">                    singleton = <span class="keyword">new</span> <span class="title class_">Singleton2</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> singleton;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>优点</strong>：在保证线程安全的同时，提高了性能。<br><strong>注意</strong>：<code>singleton</code> 必须加上 <code>volatile</code>，防止指令重排。</p><hr><h2 id="框架源码中的应用"><a href="#框架源码中的应用" class="headerlink" title="框架源码中的应用"></a>框架源码中的应用</h2><p>在 <strong>Spring</strong> 框架中，Bean 默认就是单例模式（Singleton Scope）。这保证了容器中同一个 Bean 只会有一个实例，便于统一管理和资源复用。</p><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li><strong>饿汉式</strong>：简单，类加载时即创建，适合单例长期使用的场景。</li><li><strong>懒汉式</strong>：延迟加载，节省内存，但性能稍差。</li><li><strong>双重检查锁</strong>：线程安全 + 高效，实际开发中最常用。</li></ul><p>单例模式作为设计模式中的经典模式，广泛应用于各种框架和系统开发中，理解它的实现方式和优缺点，对于学习设计模式和框架源码都非常重要。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;单例模式（Singleton-Pattern）&quot;&gt;&lt;a href=&quot;#单例模式（Singleton-Pattern）&quot; class=&quot;headerlink&quot; title=&quot;单例模式（Singleton Pattern）&quot;&gt;&lt;/a&gt;单例模式（Singleton Pa</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>设计模式快速入门</title>
    <link href="https://db-hanty.github.io/posts/2c4abd50.html"/>
    <id>https://db-hanty.github.io/posts/2c4abd50.html</id>
    <published>2025-08-04T14:37:22.000Z</published>
    <updated>2025-10-15T12:50:17.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设计模式快速入门"><a href="#设计模式快速入门" class="headerlink" title="设计模式快速入门"></a>设计模式快速入门</h1><h3 id="设计模式概念"><a href="#设计模式概念" class="headerlink" title="设计模式概念"></a>设计模式概念</h3><p>设计模式是针对软件设计中常见问题的标准化解决方案，提供可重用的设计模板。它们不是直接代码，而是描述如何组织代码结构的最佳实践，能提升代码可维护性、扩展性和复用性。</p><hr><h3 id="常用设计模式分类"><a href="#常用设计模式分类" class="headerlink" title="常用设计模式分类"></a>常用设计模式分类</h3><h4 id="创建型模式（处理对象创建）"><a href="#创建型模式（处理对象创建）" class="headerlink" title="创建型模式（处理对象创建）"></a>创建型模式（处理对象创建）</h4><ul><li><strong>单例模式</strong>：确保类只有一个实例（如全局配置管理器）。  </li><li><strong>工厂方法模式</strong>：子类决定实例化哪个类（如支付方式工厂）。  </li><li><strong>抽象工厂模式</strong>：创建相关对象族（如跨平台UI组件库）。  </li><li><strong>建造者模式</strong>：分步骤构建复杂对象（如SQL查询构造器）。  </li><li><strong>原型模式</strong>：通过克隆生成新对象（如游戏中的敌人复制）。  </li></ul><h4 id="结构型模式（处理对象组合）"><a href="#结构型模式（处理对象组合）" class="headerlink" title="结构型模式（处理对象组合）"></a>结构型模式（处理对象组合）</h4><ul><li><strong>适配器模式</strong>：转换接口兼容性（如旧API适配新系统）。  </li><li><strong>装饰器模式</strong>：动态扩展功能（如Java I/O流包装）。  </li><li><strong>代理模式</strong>：控制对象访问（如虚拟代理延迟加载图片）。  </li><li><strong>外观模式</strong>：简化复杂子系统调用（如一键启动计算机）。 </li></ul><h4 id="行为型模式（处理对象交互）"><a href="#行为型模式（处理对象交互）" class="headerlink" title="行为型模式（处理对象交互）"></a>行为型模式（处理对象交互）</h4><ul><li><strong>策略模式</strong>：封装可互换算法（如排序策略切换）。  </li><li><strong>观察者模式</strong>：一对多状态通知（如事件监听系统）。  </li><li><strong>迭代器模式</strong>：统一集合遍历方式（如Java集合的<code>Iterator</code>）。  </li><li><strong>责任链模式</strong>：链式处理请求（如审批流程）。  </li></ul><hr><h3 id="学习路径"><a href="#学习路径" class="headerlink" title="学习路径"></a>学习路径</h3><p><strong>理论奠基</strong>  </p><ul><li>理解模式的意图、UML类图和适用场景。例如，观察者模式包含<code>Subject</code>和<code>Observer</code>接口。  </li><li>对比模式优缺点：单例模式节省资源但可能引入全局状态问题。  </li></ul><p><strong>代码实践</strong>  </p><ul><li>手写经典实现，如懒汉式单例的双重检查锁定：  </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>项目应用</strong>  </p><ul><li>识别代码坏味道：大量<code>if-else</code>可改用策略模式。  </li><li>避免滥用：简单场景无需引入抽象工厂。  </li></ul><p><strong>面试准备</strong>  </p><ul><li>高频问题：如何实现线程安全的单例？何时用装饰器而非继承？  </li><li>场景分析：设计一个支持撤销操作的编辑器（命令模式）。  </li></ul><hr><h3 id="推荐资源"><a href="#推荐资源" class="headerlink" title="推荐资源"></a>推荐资源</h3><ul><li><strong>书籍</strong>：《图解设计模式》。  </li><li><strong>在线</strong>：  <ul><li>菜鸟教程-设计模式（含代码示例）。</li><li>视频-b站-<a href="https://www.bilibili.com/video/BV1af4y1y7sS?spm_id_from=333.788.videopod.sections&amp;vd_source=2480596959bf3131bb20161784528140">5分钟学设计模式</a>  </li></ul></li><li><strong>工具</strong>：使用StarUML绘制模式类图辅助理解。  </li></ul><p>通过“学习→编码→重构”的闭环，逐步掌握模式精髓。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;设计模式快速入门&quot;&gt;&lt;a href=&quot;#设计模式快速入门&quot; class=&quot;headerlink&quot; title=&quot;设计模式快速入门&quot;&gt;&lt;/a&gt;设计模式快速入门&lt;/h1&gt;&lt;h3 id=&quot;设计模式概念&quot;&gt;&lt;a href=&quot;#设计模式概念&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="技术" scheme="https://db-hanty.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://db-hanty.github.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="设计模式" scheme="https://db-hanty.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
